var cart_ps,inkgoWoo={data:{},variation:{},images_old:"",gallary_class:{},init:function(){var t=jQuery(".variations_form"),e=t.data("product_variations");if(null==e[0])return!1;0==jQuery(".reset_variations").length&&t.append('<a class="reset_variations" href="#">test</a>'),inkgoWoo.data=e,this.update(),this.swatches(t),jQuery(document).on("wc_variation_form",function(t){var e=jQuery(t.target);inkgoWoo.selected(e,!0),0<jQuery(".flex-direction-nav").length&&0==jQuery(".flex-nav-next").find("svg").length&&(jQuery(".flex-nav-next .flex-next").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path></svg>'),jQuery(".flex-nav-prev .flex-prev").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow"></path></svg>'))}),1<jQuery(".inkgo-sw-item.inkgo-sw-item-type-img").length&&null!=inkgo_woo_id&&jQuery.get(inkgo_ajax_url+"?action=inkgo_product_description&product_id="+inkgo_woo_id,function(t){inkgoWoo.description=t.data})},swatches:function(t){var c=jQuery;if(t.addClass("inkgo-has-swatches").closest(".product").addClass("product-inkgo-swatches"),t.find("select.inkgo-swatches").length){t.closest(".product");t.find("select.inkgo-swatches").each(function(){var t=c(this),e=t.parent();e.addClass("inkgo-td-swatches");var h=t.data("swatch_type");if("product"==h){if(0<jQuery(".inkgo-sw-item-type-img").length)return;var i=t.data("swatches"),s="";if(e.find(".inkgo-sw-items").length||e.append('<div class="inkgo-sw-items"></div>'),i.length)for(var n=0;n<i.length;n++){var a="";t.find("option[data-swatch_index="+n+"]").is(":selected")&&(a="selected-item"),s+='<div data-swatch_index="'+n+'" title="'+i[n].name.replace(/"/g,"&quot;")+'" data-product_id="'+i[n].product_id+'"  class="inkgo-sw-item inkgo-sw-item-type-img inkgo-sw-item-type-'+h+" "+a+'"><img class="inkgo-sw-img" src="'+i[n].src+'" /></div>'}e.find(".inkgo-sw-items").html(s),0==c(".inkgo-sw-item.inkgo-sw-item-type-img.selected-item").length&&c(c(".inkgo-sw-item.inkgo-sw-item-type-img")[0]).trigger("click")}else if("color"==h){var d="";e.find(".inkgo-sw-items").length||e.append('<div class="inkgo-sw-items"></div>'),t.find("option").each(function(){var t=c(this).is(":selected"),e=c(this).data("swatch_val"),i=c(this).attr("value"),s=c(this).data("swatch_index");if(""!=e){var n=t?"selected-item":"",a=e.split(",");if(1<a.length){for(var r="",o=0;o<a.length;o++)r+='<span style="background-color: '+a[o]+';" class="inkgo-sw-'+h+'"></span>';var l=i.replace(/"/g,"&quot;");d+='<div data-swatch_index="'+s+'" title="'+l+'" class="inkgo-sw-item inkgo-sw-item-'+a.length+"-color inkgo-sw-item-type-"+h+" "+n+'">'+r+i+"</div>"}else{l=i.replace(/"/g,"&quot;");d+='<div data-swatch_index="'+s+'" title="'+l+'" class="inkgo-sw-item inkgo-sw-item-1-color inkgo-sw-item-type-'+h+" "+n+'"><span style="background-color: '+a[0]+';" class="inkgo-sw-'+h+'">'+i+"</span></div>"}}}),e.find(".inkgo-sw-items").html(d),0==c(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item").length&&c(c(".inkgo-sw-item.inkgo-sw-item-type-color")[0]).trigger("click"),c(".inkgo-sw-item.inkgo-sw-item-type-color").length<=1?e.parents("tr").hide():e.parents("tr").show()}else{d="";e.find(".inkgo-sw-items").length||e.append('<div class="inkgo-sw-items"></div>'),t.find("option").each(function(){var t=c(this).is(":selected"),e=(c(this).data("swatch_val"),c(this).attr("value")),i=c(this).data("swatch_index"),s=t?"selected-item":"";if(""!=e){var n=e.replace(/"/g,"&quot;");d+='<div data-swatch_index="'+i+'" title="'+n+'" class="inkgo-sw-item inkgo-sw-item-type-size '+s+'"><span class="inkgo-sw-size">'+e+"</span></div>"}}),e.find(".inkgo-sw-items").html(d)}}),this.selected(t,!0)}},update:function(){var o=jQuery;o(document).on("click",".inkgo-sw-items .inkgo-sw-item",function(t){var e=o(this);if(1==e.hasClass("selected-item")&&""!=e.parent().find("select").val())return!1;e.parent().find(".inkgo-sw-item").removeClass("selected-item"),e.addClass("selected-item");var i=e.closest(".value"),s=e.closest("form"),n=e.data("swatch_index");if(e.hasClass("inkgo-sw-item-type-img")){s.find(".reset_variations").trigger("click");var a=jQuery(this).data("product_id");null!=inkgoWoo.description&&null!=inkgoWoo.description[a]&&jQuery(".inkgo-product-description").html(inkgoWoo.description[a])}if(i.find(".inkgo-swatches option[data-swatch_index="+n+"]").length)var r=i.find(".inkgo-swatches option[data-swatch_index="+n+"]").attr("value");else if(i.find(".inkgo-swatches option[data-swatch_index=1]").length){s.find(".reset_variations").trigger("click");r=i.find(".inkgo-swatches option[data-swatch_index=1]").attr("value")}else r=i.find(".inkgo-swatches option[data-swatch_index=0]").attr("value");return i.find("select.inkgo-swatches").val(r).trigger("change"),inkgoWoo.selected(s),t.preventDefault(),!1})},selected:function(o,t){if(o.find("select.inkgo-swatches").each(function(t,e){var i=jQuery(this),s=i.attr("id"),n=i.val(),a=i.find("option:selected").data("swatch_index"),r=o.find('label[for="'+s+'"]');void 0!==a&&!1!==typeof a&&""!==a||(n=""),r.length&&(r.find(".selected-swatch-span").length||r.append(': <span class="selected-swatch-span"></span>'),r.find(".selected-swatch-span").html(n)),jQuery(this).parent().find(".inkgo-sw-item").each(function(){if(!jQuery(this).hasClass("inkgo-sw-item-type-img")){var t=jQuery(this).attr("title").replace(/&quot;/g,'"');t==n?jQuery(this).addClass("selected-item"):jQuery(this).removeClass("selected-item"),0<i.find("option[value='"+t+"']").length?jQuery(this).addClass("inkgo-enabled").show():jQuery(this).removeClass("inkgo-enabled").hide()}})}),0==jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item").length){var e=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.inkgo-enabled")[0];return jQuery(e).trigger("click"),!1}this.getVariant(o),this.images(o)},getVariant:function(){var i=jQuery('input[name="variation_id"]').val();if(inkgoWoo.variation={},0!=i)jQuery.each(inkgoWoo.data,function(t,e){if(i==e.variation_id)return inkgoWoo.variation=e,!1});else if(0<jQuery(".inkgo-sw-item.inkgo-sw-item-type-img.inkgo-sw-item-type-product").length){if(0<(e=jQuery(".inkgo-sw-item.inkgo-sw-item-type-img.inkgo-sw-item-type-product.selected-item")).length)var t=e[0];else{var e;(e=jQuery(".inkgo-sw-item.inkgo-sw-item-type-img.inkgo-sw-item-type-product")).trigger("click");t=e[0]}var s=jQuery(t).parent().parent().find("select.inkgo-swatches").attr("id"),n=jQuery(t).attr("title"),a=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item")[0],r=jQuery(a).parent().parent().find("select.inkgo-swatches").attr("id"),o=jQuery(a).attr("title");jQuery.each(inkgoWoo.data,function(t,e){if(null!=e.attributes["attribute_"+s]&&e.attributes["attribute_"+s]==n&&null!=e.attributes["attribute_"+r]&&e.attributes["attribute_"+r]==o)return inkgoWoo.variation=e,!1})}else{a=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item")[0],r=jQuery(a).parent().parent().find("select.inkgo-swatches").attr("id"),o=jQuery(a).attr("title");jQuery.each(inkgoWoo.data,function(t,e){if(null!=e.attributes["attribute_"+r]&&e.attributes["attribute_"+r]==o)return inkgoWoo.variation=e,!1})}},images:function(){if(null==inkgoWoo.variation.variation_id)return!1;var t=inkgoWoo.variation;jQuery(".woocommerce-variation-description").html(t.variation_description),jQuery(".woocommerce-variation.single_variation").addClass("inkgo-show");var e=JSON.stringify(t.inkgo_variation_images);if(e==inkgo.images_old)return!1;if(inkgo.images_old=e,null!=t.inkgo_variation_images&&0<t.inkgo_variation_images.length){if(0==(r=jQuery(".product-inkgo-swatches .woocommerce-product-gallery")).length)0<(r=jQuery(".product-inkgo-swatches .product-gallery > div:eq(0)")).length&&0==r.hasClass("woocommerce-product-gallery")&&r.addClass("woocommerce-product-gallery");var i=r.height();r.parent().css({height:i+"px",visibility:"hidden"});var s=r[0].attributes,n=r.next();if(0==n.length)var a=r.parent();r.remove();var r=document.createElement("div");jQuery.each(s,function(t,e){r.setAttribute(e.name,e.value)}),r.innerHTML='<figure class="woocommerce-product-gallery__wrapper"></div>',null!=a?a.append(r):jQuery(r).insertBefore(n);r=jQuery(".product-inkgo-swatches .woocommerce-product-gallery__wrapper");var o={};jQuery.each(t.inkgo_variation_images,function(t,e){var i=e.src,s=e.id;null!=e.mockup_id&&(s=s+" "+e.mockup_id,o[e.mockup_id]=i),r.append('<div data-thumb="'+i+'" data-thumb-alt="" class="woocommerce-product-gallery__image inkgo-variarion-thumb"><a href="'+i+'"><img src="'+i+'" class="inkgo-woo-thumb inkgo-'+inkgo_campaign_id+"-"+s+'" alt="" data-caption="" data-src="'+i+'" data-large_image="'+i+'" data-large_image_width="'+e.width+'" data-large_image_height="'+e.height+'" srcset="'+i+'" sizes="" draggable="false"></a></div>')});var l=wc_single_product_params;l.flexslider_enabled=1,l.photoswipe_enabled=1,l.flexslider={rtl:!1,animation:"slide",smoothHeight:!1,directionNav:!0,controlNav:"thumbnails",slideshow:!1,animationSpeed:500,animationLoop:!1,allowOneSlide:!1},l.zoom_enabled=!1,jQuery(".woocommerce-product-gallery").each(function(){if(null!=jQuery(this).wc_product_gallery&&(jQuery(this).trigger("wc-product-gallery-before-init",[this,l]),jQuery(this).wc_product_gallery(l),jQuery(this).trigger("wc-product-gallery-after-init",[this,l])),1<jQuery(".woocommerce-product-gallery__image").length){jQuery(".flex-nav-next .flex-next").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path></svg>'),jQuery(".flex-nav-prev .flex-prev").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow"></path></svg>');var i=100/jQuery(".flex-control-thumbs li").length;25<i&&(i=25),jQuery(".flex-control-thumbs li").each(function(t,e){jQuery(this).css({width:i+"%"}),i})}});var h=jQuery(".woocommerce-product-gallery__image.inkgo-variarion-thumb img.inkgo-woo-thumb");null!=h[0]&&1<h.length?h[0].onload=function(){jQuery(".flex-control-thumbs li").height();jQuery(".woocommerce-product-gallery").flexslider(0),setTimeout(function(){jQuery(".product-inkgo-swatches .woocommerce-product-gallery").parent().css({height:"auto",visibility:"inherit"})},100)}:setTimeout(function(){jQuery(".product-inkgo-swatches .woocommerce-product-gallery").parent().css({height:"auto",visibility:"inherit"})},100),inkgoWoo.mockup(o)}var d=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item");if(0<d.length&&null!=inkgo.data&&null!=inkgo.data.products){var c=d.parent().parent().find("select.inkgo-swatches option:selected");if(c.length){var u=c.data("swatch_val").split(",");inkgo.data.products[inkgo.product_id].color=u[0]}}},mockup:function(t){var e=["a","div","img"],a=["src","srcset","data-src","data-large_image","href","data-thumb","data-o_data-thumb"];jQuery.each(t,function(s,n){for(var t=0;t<e.length;t++)jQuery(".woocommerce-product-gallery").find(e[t]).each(function(t,e){for(var i=0;i<a.length;i++)if(null!=jQuery(this).attr(a[i])&&jQuery(this).attr(a[i])==n&&0==jQuery(this).hasClass(s)){jQuery(this).addClass(s);break}})}),inkgo.fields.init(inkgo.data_json)}},inkgo={is_mobile:!1,init:function(){if("undefined"!=typeof inkgo_woo_id&&0<jQuery(".inkgo-design").length){var t=jQuery(".inkgo-design").data("id");this.load(t)}},product:function(){"undefined"!=typeof inkgo_woo_id&&0<jQuery(".variations_form").length&&0==jQuery(".variations_form").data("product_variations")&&jQuery.ajax({url:inkgo_ajax_url,type:"POST",dataType:"json",data:{action:"inkgo_variations",product_id:inkgo_woo_id}}).done(function(t){null!=t.data&&(jQuery(".variations_form").find(".reset_variations").trigger("click"),jQuery(".variations_form").data("product_variations",t.data),inkgoWoo.init(),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()}))})},load:function(t){inkgo.design_id=t,this.getData("design/"+t,inkgo.fields.init)},fields:{init:function(t){if(null!=t&&0!=inkgo_campaign_custom){if(null==t.design)return jQuery(".inkgo-design").remove(),jQuery(".inkgo-custom-mobile").remove(),void jQuery(".inkgo_design_info").remove();jQuery(".inkgo-design-items").html(""),inkgo.layout.init(),inkgo_layout();var e=jQuery(".inkgo-sw-item-type-img.inkgo-sw-item-type-product.selected-item");if(0<e.length?inkgo.product_id=e.data("product_id"):jQuery.each(t.design,function(t,e){return inkgo.product_id=t,!1}),null==t.design[inkgo.product_id])return!1;inkgo.data_json=t,inkgo.data={},inkgo.data.design=t.design[inkgo.product_id],inkgo.data.products=t.products,inkgo.data.mockups=t.mockups;inkgo.fields.layers={},inkgo.fields.layers.text={},inkgo.fields.layers.img={},inkgo.fields.layers.option={},inkgo.fields.mockups(),jQuery.each(t.design[inkgo.product_id],function(t,e){jQuery("#inkgo-thumb-"+t).remove(),0==jQuery(".inkgo_design_thumb").length&&jQuery(".inkgo-thumbs").append('<textarea name="inkgo_design_thumb['+t+']" class="inkgo_design_thumb" id="inkgo-thumb-'+t+'" style="display:none;"></textarea>'),0<e.layers.length&&(inkgo.fields.getLayers(t,e.layers),!0)}),inkgo.fields.items(),inkgo.modal.init(),jQuery(".inkgo-button").click(function(t){inkgo.design.init()}),jQuery(".inkgo-modal-close").click(function(t){inkgo.modal.show(!1)}),jQuery(".inkgo-button-upload").click(function(t){jQuery(this).parent().find("input.inkgo-custom-img").trigger("click")}),jQuery(".inkgo-edit").click(function(t){if(jQuery(this).hasClass("inkgo-uploaded")){var e=jQuery(this).parents(".inkgo-field-group"),i=e.find("img");jQuery(".inkgo-modal-body").html('<img src="'+i.attr("src")+'" data-width="'+i.data("width")+'" data-height="'+i.data("height")+'" id="img-item-'+e.data("id")+'" alt=""><div class="mask-bg"><div class="mask-bg-left"></div><div class="mask-bg-right"></div><div class="mask-bg-top"></div><div class="mask-bg-bottom"></div></div> <div class="mask-item"></div>'),inkgo.modal.show(!0),inkgo.upload.edit(e.data("id"))}else jQuery(this).parents(".inkgo-field-img").find("input.inkgo-custom-img").trigger("click")}),jQuery(".inkgo-custom-field").change(function(){jQuery(".inkgo-editor-head .inkgo-btn-done").show(),inkgo.design.update(this)}),jQuery(".inkgo-custom-text").click(function(t){if(1==inkgo.is_mobile){var i=jQuery(this).attr("id").replace("inkgo-custom-",""),e=jQuery(this).parents(".inkgo-field-group").data("view"),s=inkgo.data.design[e].layers;jQuery.each(s,function(t,e){if(e.id==i)return inkgo.mobile.edit(e),!1}),t.stopPropagation(),t.preventDefault()}}),jQuery(".inkgo-custom-mobile").removeClass("inkgo-hidden"),jQuery(".inkgo-custom-img").change(function(t){t.stopPropagation(),t.preventDefault();var e=this.files[0];if(null!=e){var i=jQuery(this).data("id");inkgo.upload.init(i,e)}}),0<jQuery(".inkgo-design-items .inkgo-field-group").length?(inkgo.cart(),inkgo.getStore(inkgo.fields.layers),inkgo.addtocart()):jQuery(".inkgo-design").remove(),Object.entries(inkgo.design.customize).length&&inkgo.design.init(),inkgo.fields.buttons()}},buttons:function(){if(!(0<jQuery(".inkgo-label-design").length)&&0!=inkgo_dis_mobile&&jQuery(window).width()<500){null==inkgo_lang.personalize&&(inkgo_lang.personalize=jQuery(".inkgo-custom-mobile").text()),null==inkgo_lang.preview&&(inkgo_lang.preview="Preview your design");var t='<button type="button" class="inkgo-label-design">'+inkgo_lang.personalize+"</button>";t=t+'<button type="button" onclick="inkgo_preview();" class="inkgo-preview inkgo-show-mobile">'+inkgo_lang.preview+"</button>",jQuery(t).insertBefore(".inkgo-thumbs"),inkgo_show_label(),jQuery(".inkgo-label-design").click(function(t){var e=jQuery(".inkgo-design-items").offset().top-(jQuery(window).height()-jQuery(".inkgo-design-items").height())/2;jQuery([document.documentElement,document.body]).animate({scrollTop:e},1e3)})}},mockups:function(){var h=inkgo.data_json,t=h.mockups;jQuery.each(t,function(n,t){var i=0,s="",a=h.design[n];if(jQuery.each(t,function(t,e){jQuery.each(e.layers,function(t,e){if(null!=e.area_id&&(""==s&&(s=e.area_id),null!=a[e.area_id]))return!(i=1)})}),0==i){var r={},o="";jQuery.each(a,function(t,e){return r=e,o=t,!1});var l=!1;jQuery.each(t,function(i,s){if(1==l)return!1;jQuery.each(s.layers,function(t,e){if(null!=e.area_id)return s.layers[t].area_id=o,h.mockups[n][i]=s,!(l=!0)})}),h.design[n]={},h.design[n][s]=r}}),inkgo.data_json=h,jQuery.each(inkgo.data.design,function(t,e){inkgo.data.design[t].id=t})},getLayers:function(t,e){var i={};null!=inkgo.data_json.arts&&(i=inkgo.data_json.arts);for(var s=0;s<e.length;s++){var n=e[s];n.view_id=t,void 0!==n.allow_custom&&1==n.allow_custom&&("text"==n.type?inkgo.fields.layers.text[n.id]=n:inkgo.fields.layers.img[n.id]=n),void 0!==n.allow_change_art&&1==n.allow_change_art&&null!=n.art_cate_id&&0!=n.art_cate_id&&null!=i[n.art_cate_id]&&(inkgo.fields.layers.option[n.id]=n)}},items:function(){var t=this.text(inkgo.fields.layers.text),e=this.img(inkgo.fields.layers.img),i=this.option(inkgo.fields.layers.option);void 0!==inkgo.data_json.templates&&this.templates(),""!=i&&(0==jQuery(".inkgo-items-options").length&&jQuery(".inkgo-design-items").append('<div class="inkgo-items-options"></div>'),jQuery(".inkgo-items-options").append(i),jQuery(".inkgo-art-thum").click(function(t){inkgo.fields.changeArt(this)}),jQuery("select.inkgo-art").change(function(){var t=jQuery(this).data("id"),e=jQuery(this).val();jQuery(this).parent().find(".inkgo-arts").remove();var i=inkgo.data_json.arts;if(null!=i[t]&&null!=i[t].child&&null!=i[t].child[e]){for(var s='<div class="inkgo-arts">',n=0;n<i[t].child[e].arts.length;n++){var a=i[t].child[e].arts[n];s+='<a href="javascript:void(0);" class="inkgo-art-thum" data-id="'+a.id+'"><img src="'+a.thumb+'" alt="'+a.title+'" height="70"></a>'}s+="</div>",jQuery(this).parent().append(s),jQuery(this).parent().find(".inkgo-art-thum").click(function(t){inkgo.fields.changeArt(this)})}}),inkgo.is_mobile=0,inkgo_dis_mobile=1,jQuery("body").removeClass("inkgo-mobile")),""!=t&&(0==jQuery(".inkgo-items-text").length&&jQuery(".inkgo-design-items").append('<div class="inkgo-items-text"></div>'),jQuery(".inkgo-items-text").append(t)),""!=e&&(0==jQuery(".inkgo-items-img").length&&jQuery(".inkgo-design-items").append('<div class="inkgo-items-img"></div>'),jQuery(".inkgo-items-img").append(e),inkgo.fields.shape()),jQuery.each(inkgo.design.customize,function(t,e){var i=jQuery("#inkgo-custom-"+t);0<i.length&&(i.hasClass("inkgo-custom-text")?i.val(e.text):(jQuery("#inkgo-custom-"+t).val(JSON.stringify(e.data)),null!=e.src&&(jQuery("#inkgo-custom-"+t).parents(".inkgo-field-img").find("img").attr("src",e.src),jQuery("#inkgo-custom-"+t).parents(".inkgo-field-img").find(".inkgo-edit").addClass("inkgo-uploaded"))),delete inkgo.design.canvas_layers[t])}),isFacebookApp()&&jQuery(".inkgo-custom-img").removeAttr("accept"),null!=inkgo.data_json.settings&&null!=inkgo.data_json.settings.items&&inkgo.fields.settings(inkgo.data_json.settings.items),""==e&&""==t||1==inkgo.is_mobile&&(inkgo.mobile.thumb(),setTimeout(function(){inkgo.design.init()},300))},shape:function(){jQuery(".inkgo-field-img img").each(function(){if(1==jQuery(this).parent().data("shape")){var s=jQuery(this).parents(".inkgo-field-img").find(".inkgo-custom-img").data("id"),t=jQuery(this).attr("src"),i=new Image;i.onerror=function(){var i=new Image;i.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=this.width,t.height=this.height,e.drawImage(i,0,0),inkgo.design.shapes[s]=t},i.crossOrigin="",i.src=inkgo.getIMGCache(t)},i.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=this.width,t.height=this.height,e.drawImage(i,0,0),inkgo.design.shapes[s]=t},i.crossOrigin="",i.src=t}})},settings:function(t){var s=0;jQuery.each(t,function(t,e){s++;var i=jQuery('.inkgo-field-group[data-id="'+t+'"]');0<i.length?i.appendTo(".inkgo-design-items"):"label"==e.type&&jQuery('<span class="inkgo-help-text">'+e.text+"</span>").appendTo(".inkgo-design-items")}),0<s&&(0==jQuery(".inkgo-items-options .inkgo-field-group").length&&jQuery(".inkgo-items-options").remove(),0==jQuery(".inkgo-items-text .inkgo-field-group").length&&jQuery(".inkgo-items-text").remove(),0==jQuery(".inkgo-items-img .inkgo-field-group").length&&jQuery(".inkgo-items-img").remove())},changeArt:function(t){var e=jQuery(t);if(!e.hasClass("selected-item")){e.parent().find(".inkgo-art-thum").removeClass("selected-item"),e.addClass("selected-item");var i=e.parents(".inkgo-field-group").data("id"),s=e.data("id"),n=e.find("img"),a=n.attr("src"),r={id:s,thumb:a,width:n[0].naturalWidth,height:n[0].naturalHeight,design:a.replace(s+"-100x100",s+"-300x300")};null!=inkgo.design.canvas_layers[i]&&delete inkgo.design.canvas_layers[i],jQuery("#inkgo-custom-"+i).val(JSON.stringify(r)).trigger("change")}},option:function(t){var n="",a=inkgo.data_json.arts;return jQuery.each(t,function(t,e){n=n+'<div class="inkgo-field-group" data-view="'+e.view_id+'" data-id="'+t+'">';var i=inkgo_lang.photo_title;null!=e.change_art_label&&""!=e.change_art_label&&(i=e.change_art_label);var s="";null!=a[e.art_cate_id].child?(s='<select class="inkgo-art" data-id="'+e.art_cate_id+'">',s+='<option value="0">'+a[e.art_cate_id].title+"</option>",jQuery.each(a[e.art_cate_id].child,function(t,e){s+='<option value="'+t+'">'+e.title+"</option>"}),s+="</select>"):(s='<div class="inkgo-arts">',jQuery.each(a[e.art_cate_id].arts,function(t,e){s+='<a href="javascript:void(0);" class="inkgo-art-thum" data-id="'+e.id+'"><img src="'+e.thumb+'" alt="'+e.title+'" height="70"></a>'}),s+="</div>"),n+='<div class="inkgo-field-option">',n=(n+='<input type="hidden" class="inkgo-custom-field inkgo-custom-option" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']">')+'<span class="inkgo-label">'+i+"</span>",n+=s,n+="</div>",n+="</div>"}),n},text:function(t){var n="",a="";return jQuery.each(t,function(t,e){if(void 0!==e.font_type){if("google"==e.font_type)a=""==a?e.fontFamily:a+"|"+e.fontFamily;else{var i="https://cdn.inkgo.io/"+e.font_type;jQuery("head").append('<style type="text/css">@font-face{font-family:"'+e.fontFamily+'";src:url("'+i+'") format("truetype");}</style>')}jQuery("body").append('<div class="inkgo-cache-font" style="font-family:\''+e.fontFamily+"';\">abc</div>")}n=n+'<div class="inkgo-field-group inkgo-group-'+e.type+" inkgo-custom-view-"+e.view_id+'" data-view="'+e.view_id+'" data-id="'+t+'">';var s=e.text;null!=e.personalized_label&&""!=e.personalized_label&&(s=e.personalized_label),n=(n+='<div class="inkgo-field-text">')+'<input type="text" class="inkgo-custom-field inkgo-custom-text" autocomplete="off" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']" placeholder="'+s+'">',n+="</div>",n+="</div>"}),""!=a&&jQuery("head").append("<link rel='stylesheet' id='storefront-fonts-css'  href='https://fonts.googleapis.com/css?family="+a+"' type='text/css' media='all' />"),n},img:function(t){var r="";return jQuery.each(t,function(t,e){r=r+'<div class="inkgo-field-group" data-view="'+e.view_id+'" data-id="'+t+'">';var i=inkgo_lang.photo_title+" "+e.title;null!=e.personalized_label&&""!=e.personalized_label&&(i=e.personalized_label);var s=e.src;null!=inkgo.design.customize[t]&&null!=inkgo.design.customize[t].src&&(s=inkgo.design.customize[t].src),null!=e.thumb_design&&(s=e.thumb_design);var n="";void 0!==e.is_shape&&1==e.is_shape&&(n='data-shape="1"');var a=i;i='<a href="javascript:void(0);" title="'+a+'" '+n+' class="inkgo-edit"><img src="'+inkgo.getSRC(s)+'" alt="'+a+'"></a>',r=(r=(r=(r=(r=(r+='<div class="inkgo-field-img">')+'<span class="inkgo-label">'+a+"</span>")+'<span class="inkgo-field-name">'+i+"</span>")+'<input type="text" class="inkgo-custom-field" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']" style="display:none;">')+'<input type="file" class="inkgo-custom-img inkgo-custom-img-'+t+'" data-id="'+t+'" accept=".jpg,.png,.jpge" style="display:none;">')+'<a href="javascript:void(0);" class="button inkgo-hide-mobile inkgo-button-upload">'+inkgo_lang.change+"</a>",r+="</div>",r+="</div>"}),r},templates:function(){if(!(0<jQuery(".inkgo-group-templates").length)){var a=inkgo.data_json.templates,s='<div class="inkgo-group-templates">';s+='<div class="inkgo-field-group">',s+='<span class="inkgo-label">'+a.label+"</span>",s+='<div class="inkgo-templates">',jQuery.each(a.designs,function(t,e){var i="";null!=inkgo.template_id&&inkgo.template_id==e.design_id&&(i="selected-item"),s+='<a href="javascript:void(0);" class="inkgo-template '+i+'" data-id="'+e.design_id+'" data-product_id="'+e.product_id+'" title="'+e.name+'">',s+='<img src="'+inkgo.getSRC(e.thumb)+'" alt="'+e.name+'">',s+="</a>"}),s+="</div>",s+="</div>",s+="</div>",jQuery(".inkgo-design-items").append(s),jQuery(".inkgo-template").click(function(t){if(!jQuery(this).hasClass("selected-item")){jQuery(".inkgo-template").removeClass("selected-item"),jQuery(this).addClass("selected-item");var e=jQuery(this).data("id");inkgo.template_id=e,delete inkgo.token_id;for(var i=0;i<a.designs.length;i++){var s=a.designs[i];if(s.design_id==e){void 0!==s.settings&&(inkgo.data_json.settings=jQuery.parseJSON(s.settings));var n=jQuery.parseJSON(s.vectors);jQuery.each(inkgo.data_json.design,function(t,e){inkgo.data_json.design[t]=n}),inkgo.fields.init(inkgo.data_json);break}}}})}}},getStore:function(t){if(void 0===inkgo.token_id){var e=(new Date).toString().split("GMT")[1].split("(")[0].slice(0,-1),i={},s=0;jQuery.each(t,function(t,e){jQuery.each(e,function(t,e){i[s]=t,s++})}),inkgo.token_id="",jQuery.ajax({url:inkgo_ajax_url,type:"POST",dataType:"json",data:{action:"inkgo_token",inkgo_campaign_id:inkgo_campaign_id,layers:i,timezone:e}}).done(function(t){if(inkgo.token_id="","string"==typeof t)var e=jQuery.parseJSON(t);else e=t;null!=e.token&&""!=e.token&&(inkgo.token_id=e.token,null!=e.s3_base_url&&(inkgo.s3_base_url=e.s3_base_url),null!=e.s3_domain&&(inkgo.s3_domain=e.s3_domain),null!=e.s3_upload_urls&&(inkgo.s3_upload_urls={},inkgo.s3_upload_urls=e.s3_upload_urls),0==jQuery(".inkgo_token_id").length&&jQuery('<input type="hidden" name="inkgo_token_id" class="inkgo_token_id" value="'+inkgo.token_id+'">').insertBefore(".inkgo_design_info"))}).fail(function(){}).always(function(){})}},addtocart:function(){if(0!=jQuery(".inkgo-design").length){var t=jQuery(".inkgo-design").parents("form");if(null!=t){if(0<t.find("[type='submit']").length)var e=t.find("[type='submit']");else if(0<t.find("[name='add-to-cart']").length)e=t.find("[name='add-to-cart']");null!=e&&0==e.hasClass("inkgo-addcart")&&(e.addClass("inkgo-addcart"),e.click(function(t){var s=0,n=jQuery(this);inkgo.mobile.loading(1),n.addClass("btn-loading disabled").attr("disabled","disabled"),jQuery(".inkgo-print-file").each(function(){var t=jQuery(this);if(0==t.hasClass("inkgo-uploaded")&&(s=1,0==t.hasClass("inkgo-uploading"))){t.addClass("inkgo-uploading");var e=t.attr("id").replace("inkgo-print-","");if(null!=t.attr("srcset"))var i=t.attr("srcset");else i=t.attr("src");inkgo.upload.ajax(e,i,n)}}),1==s?(t.preventDefault(),t.stopPropagation()):(inkgo.mobile.loading(0),n.removeClass("btn-loading disabled").removeAttr("disabled"))}))}}},cart:function(){var t=jQuery(".inkgo-design").parents("form");t.find("[name='add-to-cart']").addClass("disabled").attr("disabled","disabled"),t.find("[type='submit']").addClass("disabled").attr("disabled","disabled");var i=!0;jQuery(".inkgo-custom-field").each(function(t,e){""==jQuery(this).val()&&(i=!1)}),1==i&&(t.find("[name='add-to-cart']").removeClass("disabled").removeAttr("disabled"),t.find("[type='submit']").removeClass("disabled").removeAttr("disabled"))},upload:{init:function(t,e){var i=e.name.substr(e.name.lastIndexOf(".")+1);"png"==(i=i.toLowerCase())||"jpg"==i||"gif"==i||"jpeg"==i?this.image(t,e):alert(inkgo_lang.upload)},image:function(d,c){inkgo.mobile.loading(1);var u=new FileReader;u.onload=function(t){var e=-1,i=new DataView(t.target.result);65496!=i.getUint16(0,!1)&&(e=-2);for(var a,s=i.byteLength,n=2;n<s;){var r=i.getUint16(n,!1);if(n+=2,65505==r){if(1165519206!=i.getUint32(n+=2,!1)){e=-1;break}var o=18761==i.getUint16(n+=6,!1);n+=i.getUint32(n+4,o);var l=i.getUint16(n,o);n+=2;for(var h=0;h<l;h++)274==i.getUint16(n+12*h,o)&&(e=i.getUint16(n+12*h+8,o));break}if(65280!=(65280&r))break;n+=i.getUint16(n,!1)}a=e,u.onload=function(t){jQuery("#inkgo-custom-"+d).val(""),jQuery(".inkgo-modal-body").attr("style","");var n=new Image;n.onload=function(){var t=this.width,e=this.height,i=document.createElement("canvas"),s=i.getContext("2d");switch(4<a&&a<9?(i.width=e,i.height=t):(i.width=t,i.height=e),a){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,e);break;case 4:s.transform(1,0,0,-1,0,e);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,e,0);break;case 7:s.transform(0,-1,-1,0,e,t);break;case 8:s.transform(0,-1,1,0,0,t)}s.drawImage(n,0,0),jQuery(".inkgo-modal-body").html('<img src="'+i.toDataURL()+'" data-width="'+i.width+'" data-height="'+i.height+'" id="img-item-'+d+'" alt=""><div class="mask-bg"><div class="mask-bg-left"></div><div class="mask-bg-right"></div><div class="mask-bg-top"></div><div class="mask-bg-bottom"></div></div> <div class="mask-item"></div>'),inkgo.modal.show(!0),document.getElementById("img-item-"+d).onload=function(){inkgo.upload.edit(d),inkgo.mobile.loading(0)}},n.src=t.target.result,jQuery(".inkgo-custom-img-"+d).val(""),delete inkgo.design.canvas_layers[d]},u.readAsDataURL(c)},u.readAsArrayBuffer(c)},edit:function(t,e){var i=jQuery(".inkgo-modal-body"),s=parseInt(jQuery("#inkgo-modal").height())-72,n=i.find("img"),a=n.width(),r=n.height();0<a&&jQuery(".inkgo-modal-content").css("width",a+"px"),i.height()>s&&(i.css("max-height",s+"px"),n.css("max-height",s+"px"));var o=jQuery("#inkgo-custom-"+t).val();i=jQuery(".inkgo-modal-body");if(""!=o&&null==e){var l=(u=jQuery.parseJSON(o)).crop.mask_w,h=u.crop.mask_h,d=u.crop.mask_top,c=u.crop.mask_left;0==a&&jQuery(".inkgo-modal-content").css("widthx",u.crop.width+"px")}else{var u,p=parseInt(i.width()),f=parseInt(i.height());l=.8*a;if(.8*r<(h=(u=inkgo.fields.layers.img[t]).height*l/u.width))h=.8*r,l=u.width*h/u.height;c=(p-l)/2,d=(f-h)/2}jQuery(".mask-item").css({width:l+"px",height:h+"px",left:c+"px",top:d+"px"}),jQuery(".mask-item").draggable({containment:".inkgo-modal-body",start:function(t,e){inkgo.upload.mask()},drag:function(t,e){inkgo.upload.mask()},stop:function(t,e){inkgo.upload.mask()}}).resizable({aspectRatio:!0,containment:".inkgo-modal-body",handles:"ne, se, sw, nw",start:function(t,e){inkgo.upload.mask()},resize:function(t,e){inkgo.upload.mask()},stop:function(t,e){inkgo.upload.mask()}}),setTimeout(function(){inkgo.upload.mask()},50)},mask:function(){var t=jQuery(".mask-item"),e=t.position();if(0==(i=jQuery(".inkgo-modal-body")).width())var i=i.find("img");jQuery(".mask-bg-left").css("width",e.left+"px");var s=i.width()-t.width()-e.left;jQuery(".mask-bg-right").css("width",s+"px"),jQuery(".mask-bg-top").css({left:e.left+"px",width:t.width()+"px",height:e.top+"px"});var n=i.height()-t.height()-e.top;jQuery(".mask-bg-bottom").css({left:e.left+"px",width:t.width()+"px",height:n+"px"})},save:function(){var t=jQuery(".inkgo-modal-body img");if(0<t.length){inkgo.mobile.loading(1);var e=t.attr("id").replace("img-item-",""),i=t.attr("src"),s=jQuery("#inkgo-custom-"+e).parents(".inkgo-field-group");s.find(".inkgo-field-name").html('<a href="javascript:void(0);" class="inkgo-edit"><img src="'+i+'" id="inkgo-print-'+e+'" class="inkgo-print-file" data-width="'+t.data("width")+'" data-height="'+t.data("height")+'" alt=""></a>');var n=jQuery(".inkgo-modal-body"),a=jQuery(".mask-item"),r={};r.width=n.width(),r.height=n.height(),r.mask_w=a.width(),r.mask_h=a.height(),r.mask_top=a.position().top,r.mask_left=a.position().left;var o={};if(o.width=t.data("width"),o.height=t.data("height"),o.crop=r,delete inkgo.design.canvas_layers[e],inkgo.design.customize[e]={},inkgo.design.customize[e].data=o,inkgo.design.customize[e].src=i,null!=inkgo.design.shapes[e]){s.find("img").parent().attr("data-shape",1);var l=o.width/r.width,h=document.createElement("canvas"),d=h.getContext("2d");h.width=o.width,h.height=o.height;var c=r.mask_w*l,u=r.mask_h*l,p=r.mask_left*l,f=r.mask_top*l;d.drawImage(inkgo.design.shapes[e],0,0,inkgo.design.shapes[e].width,inkgo.design.shapes[e].height,p,f,c,u),d.globalCompositeOperation="source-in",d.drawImage(t[0],0,0),s.find("img").attr("srcset",h.toDataURL()),jQuery("#inkgo-custom-"+e).val(JSON.stringify(o)).trigger("change")}else jQuery("#inkgo-custom-"+e).val(JSON.stringify(o)).trigger("change");s.find(".inkgo-edit").click(function(){var t=jQuery(this).parents(".inkgo-field-group"),e=t.find("img");jQuery(".inkgo-modal-body").html('<img src="'+e.attr("src")+'" data-width="'+e.data("width")+'" data-height="'+e.data("height")+'" id="img-item-'+t.data("id")+'" alt=""><div class="mask-bg"><div class="mask-bg-left"></div><div class="mask-bg-right"></div><div class="mask-bg-top"></div><div class="mask-bg-bottom"></div></div> <div class="mask-item"></div>'),inkgo.modal.show(!0),inkgo.upload.edit(t.data("id"))}),inkgo.mobile.loading(0)}},ajax:function(t,e,i){if(null==inkgo.s3_upload_urls)return!1;var s=inkgo.s3_upload_urls[t],n=dataURItoBlob(e,"image/png");jQuery.ajax({url:s,type:"PUT",processData:!1,contentType:"image/png",data:n}).done(function(){jQuery("#inkgo-print-"+t).addClass("inkgo-uploaded"),i.trigger("click")}).fail(function(){}).always(function(){})}},design:{customize:{},shapes:{},custom:{},output:{},canvas_layers:{},init:function(t){return 0!=jQuery(".inkgo-design").length&&((0!=this.fields()||null!=inkgo.is_mobile)&&(jQuery(".inkgo-text-cache").remove(),1==inkgo.is_mobile&&inkgo.mobile.reload(),void this.area()))},area:function(){var i=!0;jQuery.each(inkgo.data.design,function(t,e){if(null==inkgo.design.output[t])return inkgo.design.custom["view_"+t]=e.name,inkgo.design.custom[t]={},i=!1,inkgo.design.view(e),!1}),1==i&&(inkgo.mockups.init(),inkgo.design.custom.domain=inkgo.s3_domain,inkgo.design.custom.product_id=inkgo.product_id,void 0!==inkgo.template_id&&(inkgo.design.custom.template_id=inkgo.template_id),jQuery(".inkgo_design_info").val(JSON.stringify(inkgo.design.custom)))},view:function(t,e){if(0==t.layers.length)return inkgo.design.output[t.id]="",null==e?this.area():e(t.id),!1;var B=document.createElement("canvas");B.width=t.width,B.height=t.height;var A=B.getContext("2d");!function o(l,h){if(null==h.layers[l])return inkgo.design.output[h.id]=B,inkgo.design.area(),!1;var d={};jQuery.each(h.layers[l],function(t,e){d[t]=e});l++;"auto"==d.left&&(d.left=0);"auto"==d.top&&(d.top=0);void 0!==d.rotate&&"0"!=d.rotate&&(A.save(),A.translate(d.left,d.top),A.translate(d.width/2,d.height/2),A.rotate(d.rotate*Math.PI/180),d.left=d.width/2*-1,d.top=d.height/2*-1);function e(t,e){var i=document.createElement("canvas"),s=i.getContext("2d");if(null!=c?(i.width=c.crop.mask_w,i.height=c.crop.mask_h,s.drawImage(t,0,0,e.width,e.height,-1*c.crop.mask_left,-1*c.crop.mask_top,c.crop.width,c.crop.height)):(i.width=e.width,i.height=e.height,s.drawImage(t,0,0)),inkgo.design.canvas_layers[d.id]=i,"text"==d.type&&d.width>i.width){"right"==d.align?z=d.width-i.width:"center"==d.align&&(z=(d.width-i.width)/2);var n=z+parseInt(d.left);A.drawImage(i,0,0,i.width,i.height,n,d.top,i.width,i.height)}else if(1==d.allow_change_art&&d.width/i.height!=i.width/i.height){var a=i.width*d.height/i.height,r=d.left-(a-d.width)/2;A.drawImage(i,0,0,i.width,i.height,r,d.top,a,d.height)}else A.drawImage(i,0,0,i.width,i.height,d.left,d.top,d.width,d.height);A.restore(),o(l,h)}null==d.allow_custom&&(d.allow_custom=0);if("img"==d.type||"text"==d.type&&0==d.allow_custom||"text"==d.type&&1==d.allow_custom&&""==jQuery("#inkgo-custom-"+d.id).val()&&null!=d.thumb_design){-1!=d.src.indexOf("/"+d.id+".png")&&(d.src=d.src.replace("/"+d.id+".png","/"+md5("inkgo-design-"+d.id)+".png"));var t="",i=jQuery("#inkgo-custom-"+d.id);if(null!=i&&0<i.length&&""!=i.val()){var s=i.val();if(null==inkgo.design.custom[h.id]&&(inkgo.design.custom[h.id]={}),inkgo.design.custom[h.id][d.id]=jQuery.parseJSON(s),null!=i.parents(".inkgo-field-group").find("img").attr("srcset"))var n=i.parents(".inkgo-field-group").find("img").attr("srcset");else var n=i.parents(".inkgo-field-group").find("img").attr("src");if(i.parents(".inkgo-field-group").find(".inkgo-field-option").length){var n=inkgo.design.custom[h.id][d.id].design,a=i.parents(".inkgo-field-group").find("select");if(a.length&&null!=d.cliparts_custom){var r=a.val();null!=d.cliparts_custom[r]&&(d.width=d.cliparts_custom[r].width,d.height=d.cliparts_custom[r].height,d.top=d.cliparts_custom[r].top,d.left=d.cliparts_custom[r].left)}}if(null!=n&&(t=n),null!=inkgo.design.custom[h.id][d.id].crop)var c=inkgo.design.custom[h.id][d.id]}if(null!=inkgo.design.canvas_layers[d.id]){var u=inkgo.design.canvas_layers[d.id];if(1==d.allow_change_art&&d.width/d.height!=u.width/u.height){var p=u.width*d.height/u.height,f=d.left-(p-d.width)/2;A.drawImage(u,0,0,u.width,u.height,f,d.top,p,d.height)}else A.drawImage(u,0,0,u.width,u.height,d.left,d.top,d.width,d.height);A.restore(),o(l,h)}else{var n="";if(""!=t?n=inkgo.getSRC(t):null!=d.thumb_design?n=inkgo.getSRC(d.thumb_design):null!=d.src&&(n=inkgo.getSRC(d.src)),""==n)o(l,h);else{var u=new Image;u.onerror=function(){var t=new Image;t.onerror=function(){o(l,h)},t.onload=function(){e(t,this)},t.crossOrigin="",t.src=inkgo.getIMGCache(u.src)},u.onload=function(){e(u,this)},u.crossOrigin="",u.src=n}}}else{var g=jQuery("#inkgo-custom-"+d.id).val();jQuery(".inkgo-svg-"+d.id).remove(),jQuery("body").append('<div class="inkgo-text-cache inkgo-svg-'+d.id+'">'+d.svg+"</div>");var m=jQuery(".inkgo-svg-"+d.id).find("text");if(null!=m[0]){m[0].textContent="";var v=document.createElementNS("http://www.w3.org/2000/svg","tspan"),y=document.createTextNode(g);v.appendChild(y),m[0].appendChild(v);var b=jQuery(".inkgo-svg-"+d.id).find("tspan")[0].getBoundingClientRect(),m=jQuery(".inkgo-svg-"+d.id).find("text"),w=jQuery(".inkgo-svg-"+d.id).find("svg"),x=w[0].getAttribute("height"),k=w[0].getAttribute("viewBox").split(" "),C=k[3]/x,w='<svg width="'+5*b.width+'" height="'+5*b.height+'" viewBox="0 0 '+b.width*C+" "+b.height*C+'" preserveAspectRatio="xMidYMid" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><text fill="'+d.color+'" text-anchor="middle" font-size="'+m.attr("font-size")+'" x="0" y="'+m.attr("y")+'" font-family="'+d.fontFamily+'"><tspan dy="0" x="50%">'+g+"</tspan></text></svg>";jQuery(".inkgo-svg-"+d.id).html(w);var b=jQuery(".inkgo-svg-"+d.id).find("text")[0].getBoundingClientRect(),E=jQuery(".inkgo-svg-"+d.id).find("svg")[0].getBoundingClientRect(),_=b.height*C/(5*b.height),P=(E.left-b.left)*_,T=(E.top-b.top)*_;jQuery(".inkgo-svg-"+d.id).find("text").attr("transform","translate("+P+" "+T+")")}var b=jQuery(".inkgo-svg-"+d.id).find("svg")[0].getBoundingClientRect(),S=document.createElement("canvas");S.width=b.width,S.height=b.height;var M=d.height,p=S.width*d.height/S.height,z=0;if(d.width>p)"right"==d.align?z=d.width-p:"center"==d.align&&(z=(d.width-p)/2);else if(d.width<p){p=d.width,M=S.height*d.width/S.width;var z=0}var j=(d.height-M)/2,I=document.createElement("canvas");I.width=d.width,I.height=d.height;var L=I.getContext("2d");inkgo.design.custom[h.id][d.id]={},inkgo.design.custom[h.id][d.id].text=g,inkgo.design.custom[h.id][d.id].width=d.width,inkgo.design.custom[h.id][d.id].height=d.height,inkgo.design.custom[h.id][d.id].left=d.left,inkgo.design.custom[h.id][d.id].top=d.top;var D=jQuery(".inkgo-svg-"+d.id).html();canvg(S,D,{renderCallback:function(){L.drawImage(S,0,0,S.width,S.height,z,j,p,M),A.drawImage(I,d.left,d.top);var t=S.height/M,e=document.createElement("canvas");e.width=d.width*t,e.height=d.height*t;var i=e.getContext("2d");i.drawImage(S,0,0,S.width,S.height,z*t,j*t,S.width,S.height),jQuery("#inkgo-custom-"+d.id).parents(".inkgo-field-group").find("img").remove(),jQuery("#inkgo-custom-"+d.id).parents(".inkgo-field-group").append('<img src="'+e.toDataURL()+'" alt="" id="inkgo-print-'+d.id+'" class="inkgo-print-file inkgo-hidden">'),A.restore(),o(l,h)}})}}(0,t)},update:function(t){var e=jQuery(t).parents(".inkgo-field-group").data("view");if(null!=typeof inkgo.design.output[e]&&delete inkgo.design.output[e],jQuery(".inkgo-text-cache").remove(),jQuery(t).hasClass("inkgo-custom-text")){var i=jQuery(t).attr("id").replace("inkgo-custom-","");inkgo.design.customize[i]={},inkgo.design.customize[i].text=jQuery(t).val()}this.area()},fields:function(){var t=!1;return jQuery(".inkgo-custom-field").each(function(){if(""!=jQuery(this).val())return!(t=!0)}),t}},mockups:{output:{},canvas_layers:{},init:function(){this.output={},this.load()},load:function(){var i=!0,s=0;jQuery.each(inkgo.data.mockups[inkgo.product_id],function(t,e){null!=e.variant_id&&e.variant_id==inkgoWoo.variation.sku&&(s=inkgoWoo.variation.sku)}),jQuery.each(inkgo.data.mockups[inkgo.product_id],function(t,e){if((null==e.variant_id&&(e.variant_id=0),null==inkgo.mockups.output[t]&&e.variant_id==s)&&inkgo.mockups.check_custom(e))return i=!1,inkgo.mockups.items(inkgo.product_id,t,e),!1}),1==i&&inkgo.cart()},check_custom:function(t){var i=!1;return null!=t.layers&&(jQuery.each(t.layers,function(t,e){"area"==e.type&&null!=e.area_id&&0<jQuery('.inkgo-field-group[data-view="'+e.area_id+'"]').length&&(i=!0)}),i)},items:function(p,f,t){var g=document.createElement("canvas");g.width=t.width,g.height=t.height;var m=g.getContext("2d"),v="front";t.layers.sort(function(t,e){return t.zIndex-e.zIndex}),function r(o,l){if(null==l.layers[o])return inkgo.mockups.output[f]=g,inkgo.mockups.updateIMG(f,g,v),1==inkgo.is_mobile&&inkgo.mobile.mockup(g,f,v),inkgo.mockups.load(),!1;var h=l.layers[o];o++;void 0!==h.rotate&&"0"!=h.rotate&&(m.save(),m.translate(h.left,h.top),m.translate(h.width/2,h.height/2),m.rotate(h.rotate*Math.PI/180),h.left=h.width/2*-1,h.top=h.height/2*-1);if(null!=h.change_bg&&1==h.change_bg){var d="#FFFFFF";null!=inkgo.data.products[p]&&null!=inkgo.data.products[p].color&&""!=inkgo.data.products[p].color&&(d=inkgo.data.products[p].color)}if("img"==h.type)if(null!=inkgo.mockups.canvas_layers[h.id]){var e=inkgo.mockups.canvas_layers[h.id],t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");null!=d&&(i.fillStyle=d,i.fillRect(0,0,t.width,t.height)),i.drawImage(e,0,0),void 0!==h.opacity&&1!=h.opacity&&(m.save(),m.globalAlpha=h.opacity),m.drawImage(t,0,0,e.width,e.height,h.left,h.top,h.width,h.height),m.restore(),r(o,l)}else{var e=new Image;function s(t,e){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var s=i.getContext("2d");s.drawImage(t,0,0),inkgo.mockups.canvas_layers[h.id]=i;var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var a=n.getContext("2d");null!=d&&(a.fillStyle=d,a.fillRect(0,0,n.width,n.height)),a.drawImage(t,0,0),void 0!==h.opacity&&1!=h.opacity&&(m.save(),m.globalAlpha=h.opacity),m.drawImage(n,0,0,e.width,e.height,h.left,h.top,h.width,h.height),m.restore(),r(o,l)}e.onload=function(){s(e,this)},e.crossOrigin="",e.src=inkgo.getSRC(h.src),e.onerror=function(){var t=new Image;t.onerror=function(){r(o,l)},t.onload=function(){s(t,this)},t.crossOrigin="",t.src=inkgo.getIMGCache(e.src)}}else if("area"==h.type&&null!=h.area_id&&null!=inkgo.design.output[h.area_id]){v=h.area_id;var t=inkgo.design.output[h.area_id];if("string"!=typeof t){var n=document.createElement("canvas");n.width=h.width,n.height=h.height;var a=n.getContext("2d");if(null!=d)a.fillStyle=d,a.fillRect(0,0,h.width,h.height);else if(null!=h.points){var c=inkgo.mockups.cropBg(l.layers,o,l);0!=c&&a.drawImage(c,0,0)}if(a.drawImage(t,0,0,t.width,t.height,0,0,h.width,h.height),null!=h.points){var u=new Perspective(a,n);u.draw(inkgo.points(h.points))}m.drawImage(n,h.left,h.top),m.restore()}r(o,l)}else r(o,l)}(0,t)},cropBg:function(t,e,i){var s=document.createElement("canvas");s.width=i.width,s.height=i.height;var n=s.getContext("2d");if(e<2)return!1;for(var a=0;a<e-1;a++)null!=t[a]&&"img"==t[a].type&&null!=inkgo.mockups.canvas_layers[t[a].id]&&n.drawImage(inkgo.mockups.canvas_layers[t[a].id],t[a].left,t[a].top);var r=t[e-1],o=r.points,l=document.createElement("canvas");l.width=r.width,l.height=r.height,l.getContext("2d").drawImage(s,r.left,r.top,r.width,r.height,0,0,r.width,r.height);var h=document.createElement("canvas");h.width=r.width,h.height=r.height;var d=h.getContext("2d");d.save(),d.clearRect(0,0,h.width,h.height),d.beginPath(),d.moveTo(o[0][0],o[0][1]);for(e=1;e<o.length;e++){o[e];d.lineTo(o[e][0],o[e][1])}d.closePath(),d.clip(),d.drawImage(l,0,0),d.restore();var c=document.createElement("canvas");c.width=h.width,c.height=h.height;var u=c.getContext("2d");u.drawImage(l,0,0),u.drawImage(h,0,0);var p=[];return p[0]=[-1*o[0][0],-1*o[0][1]],p[1]=[2*h.width-o[1][0],-1*o[1][1]],p[2]=[2*h.width-o[2][0],2*h.height-o[2][1]],p[3]=[-1*o[3][0],2*h.height-o[3][1]],new Perspective(u,c).draw(p),c},updateIMG:function(t,e,i){jQuery("#inkgo-thumb-"+i).val(e.toDataURL("image/jpeg",.3));var s=e.toDataURL("image/jpeg",.5);1==inkgo.is_mobile&&inkgo.mobile.cart.thumb(t,s);var n=["src","srcset","data-src","data-large_image","href","data-thumb","data-o_data-thumb"];jQuery(".inkgo-mockup-"+t).each(function(t,e){for(var i=0;i<n.length;i++)null!=jQuery(this).attr(n[i])&&jQuery(this).attr(n[i],s)})}},modal:{init:function(){if(!(0<jQuery("#inkgo-modal").length)){var t='<div id="inkgo-modal" class="inkgo-modal-wapper"><div class="inkgo-modal-bg"></div><div class="inkgo-modal-close"><svg viewBox="0 0 47.971 47.971"><path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"/></svg></div><div class="inkgo-modal-content"><div class="inkgo-modal-body"></div><div class="inkgo-modal-footer"><a href="javascript:void(0);" class="inkgo-confirm">'+inkgo_lang.save+'</a> <a href="javascript:void(0);" class="inkgo-change inkgo-show-mobile inkgo-hide-desktop">'+inkgo_lang.change+'</a><a href="javascript:void(0);" class="inkgo-rotate">'+inkgo_lang.rotate+"</a></div></div></div>";jQuery("body").append(t),jQuery(".inkgo-confirm").click(function(t){inkgo.modal.show(0),inkgo.mobile.loading(1),setTimeout(function(){inkgo.upload.save()},100)}),jQuery(".inkgo-change").click(function(t){var e=jQuery(".inkgo-modal-body img");if(0<e.length){var i=e.attr("id").replace("img-item-","");jQuery(".inkgo-custom-img-"+i).parents(".inkgo-field-img").find(".inkgo-button-upload").trigger("click")}}),jQuery(".inkgo-rotate").click(function(t){var e=jQuery(".inkgo-modal-body img").attr("src"),n=new Image;jQuery(this).addClass("loading..."),n.onload=function(){var t=document.createElement("canvas");t.width=n.height,t.height=n.width;var e=t.getContext("2d");e.save(),e.translate(t.width/2,t.height/2),e.rotate(90*Math.PI/180);var i=n.width/2*-1,s=n.height/2*-1;e.drawImage(n,i,s),e.restore(),jQuery(".inkgo-modal-body img").attr({src:t.toDataURL(),"data-width":t.width,"data-height":t.height}),setTimeout(function(){var t=jQuery(".inkgo-modal-body img").attr("id").replace("img-item-","");inkgo.upload.edit(t,!0)},100),jQuery(".inkgo-rotate").removeClass("loading...")},n.src=e})}},show:function(t){1==t?(jQuery("html").addClass("inkgo-overflow-hidden"),jQuery("body").addClass("inkgo-modal-show"),jQuery("#inkgo-modal").css("visibility","initial")):(jQuery("html").removeClass("inkgo-overflow-hidden"),jQuery("body").removeClass("inkgo-modal-show"),jQuery("#inkgo-modal").css("visibility","hidden"))}},getData:function(t,e){jQuery.getJSON(INKGO_JSON_URL+t+".json",function(t){null!=t.data&&e(t.data)})},getSRC:function(t){if(null==t)return"";if(0==t.indexOf("data:image"))return t;if(0==t.indexOf("http"))var e=t;else e="https://cdn.inkgo.io/"+t;return-1==e.indexOf("cdn.inkgo.io")&&-1==e.indexOf("image.inkgo.io")&&(e=inkgo.getIMGCache(e)),e},getIMGCache:function(t){return null==t?"":0==t.indexOf("data:image")?t:"https://image.inkgo.io/inkgo_cdn/"+t.replace("https://wwww.","").replace("http://wwww.","").replace("https://","").replace("http://","")},points:function(t){var e=[];for(i=0;i<4;i++)e[i]=[],e[i][0]=parseInt(t[i][0]),e[i][1]=parseInt(t[i][1]);return e},layout:{init:function(){jQuery(".inkgo-custom-mobile").click(function(t){inkgo.mobile.init()})}}};function inkgo_show_label(){if("undefined"!=typeof inkgo_disable_label_fixed&&1==inkgo_disable_label_fixed)return!1;var t=jQuery(window);if(!(500<t.width())){var e=jQuery(".inkgo-design-items");if(null!=e[0]){var i=e[0].getBoundingClientRect();i.top>t.height()||i.top<0&&-1*i.top>i.height?jQuery(".inkgo-label-design").show():jQuery(".inkgo-label-design").hide()}}}function inkgo_preview(t){if(!(780<jQuery(document).width())){var e=jQuery(".product-inkgo-swatches .woocommerce-product-gallery");if(null!=e[0]&&!jQuery("body").hasClass("inkgo-mobile")&&0!=jQuery(".inkgo-custom-field").length){if(0==jQuery(".inkgo-view-close").length&&e.parent().append('<span class="inkgo-view-close" onclick="inkgo_preview(0);"><svg viewBox="0 0 47.971 47.971" width="20" height="20"><path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"></path></svg></span>'),null!=t&&0==t)return jQuery("body").removeClass("inkgo-mobile-scroll"),e.parent().removeClass("inkgo-gallery-fixed"),e.css({"padding-left":"0","padding-right":"0"}),!1;e.parent()[0].getBoundingClientRect();var i=e[0].getBoundingClientRect().left+"px";jQuery("body").addClass("inkgo-mobile-scroll"),e.parent().addClass("inkgo-gallery-fixed"),e.css({"padding-left":i,"padding-right":i})}}}function dataURItoBlob(t,e){for(var i=atob(t.split(",")[1]),s=(t.split(",")[0].split(":")[1].split(";")[0],new ArrayBuffer(i.length)),n=new Uint8Array(s),a=0;a<i.length;a++)n[a]=i.charCodeAt(a);return new Blob([s],{type:e})}function inkgo_layout(){"undefined"!=typeof inkgo_woo_id&&0!=inkgo_campaign_custom&&(null==inkgo_dis_mobile&&(inkgo_dis_mobile=0),jQuery("body").removeClass("inkgo-mobile"),jQuery(document).width()<780&&0==inkgo_dis_mobile&&(inkgo.is_mobile=!0,jQuery("body").addClass("inkgo-mobile")))}inkgo.mobile={showing:0,init:function(){this.show(),0==jQuery(".inkgo-editor-main canvas").length&&(this.loading(1),inkgo.design.init(!0))},reload:function(){jQuery(".inkgo-cart-main").html(""),jQuery(".inkgo-editor-main").html(""),jQuery(".inkgo-editor-footer").html(""),this.thumb()},thumb:function(t){this.wapper(),jQuery.each(inkgo.data.mockups[inkgo.product_id],function(t,e){0==jQuery("#inkgo-view-"+t).length&&(first=1,jQuery(".inkgo-editor-footer").append('<a href="javascript:void(0);" data-id="'+t+'" id="inkgo-view-'+t+'" class="inkgo-view">'+e.title+"</a>"),jQuery("#inkgo-view-"+t).click(function(t){if(!jQuery(this).hasClass("active")){var e=jQuery(this).data("id");jQuery(".inkgo-editor-footer a").removeClass("active"),jQuery(this).addClass("active"),jQuery(".inkgo-editor-main canvas").removeClass("active"),jQuery("canvas#inkgo-canvas-"+e).addClass("active")}}))}),1<jQuery(".inkgo-editor-footer a").length?(jQuery(".inkgo-editor-footer").show(),inkgo.mobile.control()):jQuery(".inkgo-editor-footer").hide(),0==jQuery("a.inkgo-view.active").length&&(jQuery(jQuery("a.inkgo-view")[0]).addClass("active"),jQuery(jQuery(".inkgo-editor-main canvas")[0]).addClass("active"))},control:function(){0<jQuery(".inkgo-editor-control").length||(jQuery(".inkgo-editor-body").append('<a href="javascript:void(0);" class="inkgo-editor-control inkgo-editor-control-next"><svg viewBox="0 0 129 129"><g><path d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z"/></g></svg></a>'),jQuery(".inkgo-cart-body").append('<a href="javascript:void(0);" class="inkgo-cart-control inkgo-cart-control-next"><svg viewBox="0 0 129 129"><g><path d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z"/></g></svg></a>'),jQuery(".inkgo-editor-body").append('<a href="javascript:void(0);" class="inkgo-editor-control inkgo-editor-control-back"><svg viewBox="0 0 129 129"><g><path d="m88.6,121.3c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-51-51 51-51c1.6-1.6 1.6-4.2 0-5.8s-4.2-1.6-5.8,0l-54,53.9c-1.6,1.6-1.6,4.2 0,5.8l54,53.9z"/></g></svg></a>'),jQuery(".inkgo-cart-body").append('<a href="javascript:void(0);" class="inkgo-cart-control inkgo-cart-control-back"><svg viewBox="0 0 129 129"><g><path d="m88.6,121.3c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-51-51 51-51c1.6-1.6 1.6-4.2 0-5.8s-4.2-1.6-5.8,0l-54,53.9c-1.6,1.6-1.6,4.2 0,5.8l54,53.9z"/></g></svg></a>'))},items:function(h,d,t){if(null!=inkgo.data.mockups[inkgo.product_id]&&null!=inkgo.data.mockups[inkgo.product_id][t]){var e=inkgo.data.mockups[inkgo.product_id][t];if(null!=e.layers){var a=jQuery("canvas#inkgo-canvas-"+t).width()/e.width;jQuery.each(e.layers,function(t,e){if("area"==e.type&&""!=e.area_id){var r=e.left*a,i=r+e.width*a,o=e.top*a,s=o+e.height*a;if(r<=h&&h<=i&&o<=d&&d<=s){if(0<jQuery('.inkgo-field-group[data-view="'+e.area_id+'"]').length){if(null==inkgo.data.design[e.area_id])return!1;var n=inkgo.data.design[e.area_id],l=e.width*a/n.width;jQuery.each(n.layers,function(t,e){if(void 0!==e.allow_custom&&1==e.allow_custom){var i=r+e.left*l,s=i+e.width*l,n=o+e.top*l,a=n+e.height*l;if(i<=h&&h<=s&&n<=d&&d<=a)return inkgo.mobile.edit(e),!1}})}return!1}}})}}},edit:function(i){if("img"==i.type)jQuery("#inkgo-custom-"+i.id).parents(".inkgo-field-img").find("a.inkgo-edit").trigger("click");else{var t=jQuery("#inkgo-custom-"+i.id).val();""==t&&(t=i.text),jQuery(".inkgo-editor-text").remove(),jQuery(".inkgo-editor-mobile").append('<div class="inkgo-editor-text" style="left: 600px;"><textarea rows="3" class="inkgo-text-edit">'+t+'</textarea><div class="inkgo-editor-text-footer"><button type="button" class="inkgo-btn inkgo-cancel">Cancel</button> <button type="button" class="inkgo-btn inkgo-btn-done inkgo-update">Update</button></div></div>'),jQuery(".inkgo-editor-text").animate({left:"0px"},500),jQuery(".inkgo-update").click(function(t){var e=jQuery(".inkgo-text-edit").val();""!=e&&(jQuery(".inkgo-editor-text").animate({left:"600px"},500,function(){jQuery(".inkgo-editor-text").remove(),jQuery("#inkgo-custom-"+i.id).val(e).trigger("change")}),jQuery(".inkgo-editor-mobile").removeClass("inkgo-editor-texts"))}),jQuery(".inkgo-cancel").click(function(t){jQuery(".inkgo-editor-text").animate({left:"600px"},500,function(){jQuery(".inkgo-editor-text").remove()}),jQuery(".inkgo-editor-mobile").removeClass("inkgo-editor-texts")}),jQuery(".inkgo-editor-mobile").addClass("inkgo-editor-texts");var e=jQuery(".inkgo-text-edit");e.focus(),e[0].setSelectionRange(0,e[0].value.length)}},mockup:function(t,e,i){if(0<jQuery("#inkgo-canvas-"+e).length)var s=document.getElementById("inkgo-canvas-"+e);else(s=document.createElement("canvas")).id="inkgo-canvas-"+e,s.className="swiper-slide",s.width=t.width,s.height=t.height,s.addEventListener("click",function(t){inkgo.mobile.select(t,e)},!1),jQuery(".inkgo-editor-main").append(s);var n=s.getContext("2d");if(n.clearRect(0,0,s.width,s.height),n.drawImage(t,0,0),jQuery(".inkgo-editor-main").width()<100){var a=jQuery(".inkgo-editor-main canvas").length,r=parseInt(jQuery(window).width())*a;jQuery(".inkgo-editor-main").css("width",r+"px")}jQuery(".inkgo-editor-main canvas").length<2?(jQuery(".inkgo-editor-control").hide(),jQuery(".inkgo-editor-footer").hide()):(jQuery(".inkgo-editor-control").show(),jQuery(".inkgo-editor-footer").show()),inkgo.mobile.loading(0)},select:function(t,e){var i=t.x,s=t.y,n=document.getElementById("inkgo-canvas-"+e).getBoundingClientRect();i-=n.x,s-=n.y,inkgo.mobile.items(i,s,e)},show:function(){jQuery("html").addClass("inkgo-editor-modal"),jQuery(".inkgo-design").show();var t=jQuery(".inkgo-design.inkgo-hide-mobile").height();jQuery(".inkgo-editor-mobile").css("bottom",t+"px").show("slow",function(){var t=jQuery(".inkgo-editor-main canvas").length,e=parseInt(jQuery(window).width())*t;jQuery(".inkgo-editor-main").css("width",e+"px");new Swiper(".product-single__photos",{wrapperClass:"inkgo-editor-main",slidesPerView:1,pagination:{el:".inkgo-editor-footer",clickable:!0},navigation:{nextEl:".inkgo-editor-control-next",prevEl:".inkgo-editor-control-back"}})}).addClass("inkgo-working")},wapper:function(){if(!(0<jQuery(".inkgo-editor-mobile").length)){null==inkgo_lang.mobile_help&&(inkgo_lang.mobile_help="");var t='<div class="inkgo-editor-mobile" style="display:none;">';t+='<div class="inkgo-editor-body"><div class="inkgo-editor-main">Loading...</div></div>',t=(t+='<div class="inkgo-editor-head">')+'<h3 class="inkgo-editor-title">'+inkgo_lang.mobile_help+"</h4>",t+='<button class="inkgo-btn inkgo-btn-done">Done</button>',t+="</div>",t+='<div class="inkgo-editor-footer"></div>',t+="</div>",jQuery("body").append(t),jQuery(".inkgo-btn-done").click(function(t){jQuery(".inkgo-editor-mobile").show(),inkgo.mobile.cart.show(),jQuery(".inkgo-editor-mobile").removeClass("inkgo-working")}),this.cart.init(),this.loadMockupIMG()}},loadMockupIMG:function(){function s(t,e,i){var s=document.createElement("canvas");s.width=e.width,s.height=e.height,s.getContext("2d").drawImage(t,0,0),inkgo.mockups.canvas_layers[i]=s}jQuery.each(inkgo.data.mockups,function(t,e){jQuery.each(e,function(t,e){jQuery.each(e.layers,function(t,e){if("img"==e.type&&null!=e.src){var i=new Image;i.onerror=function(){var t=new Image;t.onload=function(){s(t,this,e.id)},t.crossOrigin="",t.src=inkgo.getIMGCache(i.src)},i.onload=function(){s(i,this,e.id)},i.crossOrigin="",i.src=inkgo.getSRC(e.src)}})})})},cart:{init:function(){var t=jQuery(".inkgo-design").parents("form");if(!(0<t.find(".inkgo-cart-designs").length)){var e='<div class="inkgo-cart-designs">';e+='<button class="inkgo-btn inkgo-btn-edit" type="button">Edit</button>',e+='<button class="inkgo-btn inkgo-btn-close" type="button">X</button>',e+='<div class="inkgo-cart-body"><div class="inkgo-cart-main"></div></div>',e+='<div class="inkgo-cart-footer"></div>',e+="</div>",t.prepend(e),t.addClass("inkgo-cart"),jQuery(".inkgo-design").parent().addClass("inkgo-cart-button"),jQuery(".inkgo-btn-edit").click(function(t){jQuery("form.inkgo-cart").removeClass("inkgo-cart-show"),jQuery(".inkgo-custom-mobile.inkgo-show-mobile").show().css("left","0"),jQuery(".inkgo-custom-mobile.inkgo-show-mobile").trigger("click")}),jQuery(".inkgo-btn-close").click(function(t){jQuery(".inkgo-custom-mobile.inkgo-show-mobile").show().css("left","0"),jQuery("html").removeClass("inkgo-editor-modal"),jQuery("form.inkgo-cart").removeClass("inkgo-cart-show"),jQuery(".inkgo-editor-mobile").hide("slow"),cart_ps.destroy()})}},thumb:function(t,e){if(0!=jQuery(".inkgo-cart-designs").length){var i=jQuery(window).width();0==jQuery("#inkgo-cart-thum-"+t).length?jQuery(".inkgo-cart-main").append('<div class="swiper-slide inkgo-cart-thum" style="width:'+i+'px;"><img src="'+e+'" alt="" id="inkgo-cart-thum-'+t+'"></div>'):jQuery("#inkgo-cart-thum-"+t).attr("src",e);var s=jQuery(".inkgo-cart-main img").length;i=(i=jQuery(window).width())*s;jQuery(".inkgo-cart-main").css("width",i+"px")}},show:function(){jQuery(".inkgo-custom-mobile.inkgo-show-mobile").hide().css("left","-9999px"),jQuery(".inkgo-design").hide(),jQuery("form.inkgo-cart").addClass("inkgo-cart-show"),""==jQuery("form.inkgo-cart .inkgo-cart-ps-description").length&&jQuery("form.inkgo-cart").append('<div class="inkgo-cart-ps-description">'+jQuery(".inkgo-product-description").html()+"</div>"),this.slides(),jQuery(".inkgo-editor-mobile").hide(),jQuery(".inkgo-cart-main img").length<2?(jQuery(".inkgo-cart-control").hide(),jQuery(".inkgo-cart-footer").hide()):(jQuery(".inkgo-cart-control").show(),jQuery(".inkgo-cart-footer").show()),cart_ps=new PerfectScrollbar("form.inkgo-cart.inkgo-cart-show",{wheelSpeed:50})},slides:function(){new Swiper(".inkgo-cart-body",{wrapperClass:"inkgo-cart-main",slidesPerView:1,pagination:{el:".inkgo-cart-footer",clickable:!0},navigation:{nextEl:".inkgo-cart-control-next",prevEl:".inkgo-cart-control-back"}})}},loading:function(t){0==jQuery(".inkgo-loading").length&&jQuery("body").append('<div class="inkgo-loading"><div class="inkgo-loading-bg"></div><div class="inkgo-loading-ripple"><div></div><div></div></div></div>'),1==t?jQuery(".inkgo-loading").show():jQuery(".inkgo-loading").hide()}},jQuery(window).on("scroll",function(){inkgo_show_label()}),jQuery(document).ready(function(t){inkgo.product(),0!=inkgo_campaign_custom&&inkgo.init(),inkgoWoo.init()}),jQuery(window).resize(function(){inkgo_layout()});var isFacebookApp=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return-1<t.indexOf("FBAN")||-1<t.indexOf("FBAV")||-1<t.indexOf("Instagram")};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.PerfectScrollbar=e()}(this,function(){"use strict";function m(t){return getComputedStyle(t)}function c(t,e){for(var i in e){var s=e[i];"number"==typeof s&&(s+="px"),t.style[i]=s}return t}function u(t){var e=document.createElement("div");return e.className=t,e}var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function o(t,e){if(!i)throw new Error("No element matching method supported");return i.call(t,e)}function n(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function a(t,e){return Array.prototype.filter.call(t.children,function(t){return o(t,e)})}var v={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},r={x:null,y:null};function y(t,e){var i=t.element.classList,s=v.state.scrolling(e);i.contains(s)?clearTimeout(r[e]):i.add(s)}function b(t,e){r[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(v.state.scrolling(e))},t.settings.scrollingThreshold)}function s(t){this.element=t,this.handlers={}}var t={isEmpty:{configurable:!0}};s.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},s.prototype.unbind=function(e,i){var s=this;this.handlers[e]=this.handlers[e].filter(function(t){return!(!i||t===i)||(s.element.removeEventListener(e,t,!1),!1)})},s.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},t.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(s.prototype,t);function p(){this.eventElements=[]}function f(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}p.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new s(e),this.eventElements.push(t)),t},p.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},p.prototype.unbind=function(t,e,i){var s=this.eventElement(t);s.unbind(e,i),s.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(s),1)},p.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},p.prototype.once=function(t,e,i){var s=this.eventElement(t),n=function(t){s.unbind(e,n),i(t)};s.bind(e,n)};function e(t,e,i,s,n){var p;if(void 0===s&&(s=!0),void 0===n&&(n=!1),"top"===e)p=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");p=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,i,s){var n=p[0],a=p[1],r=p[2],o=p[3],l=p[4],h=p[5];void 0===i&&(i=!0),void 0===s&&(s=!1);var d,c,u=t.element;t.reach[o]=null,u[r]<1&&(t.reach[o]="start"),u[r]>t[n]-t[a]-1&&(t.reach[o]="end"),e&&(u.dispatchEvent(f("ps-scroll-"+o)),e<0?u.dispatchEvent(f("ps-scroll-"+l)):0<e&&u.dispatchEvent(f("ps-scroll-"+h)),i&&(y(d=t,c=o),b(d,c))),t.reach[o]&&(e||s)&&u.dispatchEvent(f("ps-"+o+"-reach-"+t.reach[o]))}(t,i,s,n)}function g(t){return parseInt(t,10)||0}function w(t){var e=t.element,i=Math.floor(e.scrollTop),s=e.getBoundingClientRect();t.containerWidth=Math.ceil(s.width),t.containerHeight=Math.ceil(s.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(a(e,v.element.rail("x")).forEach(function(t){return n(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(a(e,v.element.rail("y")).forEach(function(t){return n(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=l(t,g(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=g((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=l(t,g(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=g(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth},s=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-s:i.top=e.scrollbarXTop+s,c(e.scrollbarXRail,i);var n={top:s,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:n.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+t.scrollLeft,c(e.scrollbarYRail,n),c(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),c(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(v.state.active("x")):(e.classList.remove(v.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(v.state.active("y")):(e.classList.remove(v.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}var x={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function l(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function h(e,t){var i=t[0],s=t[1],n=t[2],a=t[3],r=t[4],o=t[5],l=t[6],h=t[7],d=t[8],c=e.element,u=null,p=null,f=null;function g(t){c[l]=u+f*(t[n]-p),y(e,h),w(e),t.stopPropagation(),t.preventDefault()}function m(){b(e,h),e[d].classList.remove(v.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",g)}e.event.bind(e[r],"mousedown",function(t){u=c[l],p=t[n],f=(e[s]-e[i])/(e[a]-e[o]),e.event.bind(e.ownerDocument,"mousemove",g),e.event.once(e.ownerDocument,"mouseup",m),e[d].classList.add(v.state.clicking),t.stopPropagation(),t.preventDefault()})}function d(t,e){var i,s,n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in(this.element=t).classList.add(v.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)n.settings[a]=e[a];function r(){return t.classList.add(v.state.focus)}function o(){return t.classList.remove(v.state.focus)}this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null,this.isRtl="rtl"===m(t).direction,this.isNegativeScroll=(s=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=s,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new p,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=u(v.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=u(v.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",r),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=g(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=g(l.borderLeftWidth)+g(l.borderRightWidth),c(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=g(l.marginLeft)+g(l.marginRight),c(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=u(v.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=u(v.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",r),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h,d=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=g(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?g((h=m(this.scrollbarY)).width)+g(h.paddingLeft)+g(h.paddingRight)+g(h.borderLeftWidth)+g(h.borderRightWidth):null,this.railBorderYWidth=g(d.borderTopWidth)+g(d.borderBottomWidth),c(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=g(d.marginTop)+g(d.marginBottom),c(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return k[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),w(this)}var k={"click-rail":function(i){i.event.bind(i.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=e*i.containerHeight,w(i),t.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=e*i.containerWidth,w(i),t.stopPropagation()})},"drag-thumb":function(t){h(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),h(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(a){var r=a.element;a.event.bind(a.ownerDocument,"keydown",function(t){if(!(t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented)&&(o(r,":hover")||o(a.scrollbarX,":focus")||o(a.scrollbarY,":focus"))){var e,i=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(o(e=i,"input,[contenteditable]")||o(e,"select,[contenteditable]")||o(e,"textarea,[contenteditable]")||o(e,"button,[contenteditable]"))return}var s=0,n=0;switch(t.which){case 37:s=t.metaKey?-a.contentWidth:t.altKey?-a.containerWidth:-30;break;case 38:n=t.metaKey?a.contentHeight:t.altKey?a.containerHeight:30;break;case 39:s=t.metaKey?a.contentWidth:t.altKey?a.containerWidth:30;break;case 40:n=t.metaKey?-a.contentHeight:t.altKey?-a.containerHeight:-30;break;case 32:n=t.shiftKey?a.containerHeight:-a.containerHeight;break;case 33:n=a.containerHeight;break;case 34:n=-a.containerHeight;break;case 36:n=a.contentHeight;break;case 35:n=-a.contentHeight;break;default:return}a.settings.suppressScrollX&&0!==s||a.settings.suppressScrollY&&0!==n||(r.scrollTop-=n,r.scrollLeft+=s,w(a),function(t,e){var i=Math.floor(r.scrollTop);if(0===t){if(!a.scrollbarYActive)return 0;if(0===i&&0<e||i>=a.contentHeight-a.containerHeight&&e<0)return!a.settings.wheelPropagation}var s=r.scrollLeft;if(0===e){if(!a.scrollbarXActive)return 0;if(0===s&&t<0||s>=a.contentWidth-a.containerWidth&&0<t)return!a.settings.wheelPropagation}return 1}(s,n)&&t.preventDefault())}})},wheel:function(f){var g=f.element;function t(t){var e,i,s=(e=t.deltaX,i=-1*t.deltaY,void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]),n=s[0],a=s[1];if(!function(t,e,i){if(!x.isWebKit&&g.querySelector("select:focus"))return 1;if(!g.contains(t))return 0;for(var s=t;s&&s!==g;){if(s.classList.contains(v.element.consuming))return 1;var n=m(s);if([n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/)){var a=s.scrollHeight-s.clientHeight;if(0<a&&!(0===s.scrollTop&&0<i||s.scrollTop===a&&i<0))return 1;var r=s.scrollWidth-s.clientWidth;if(0<r&&!(0===s.scrollLeft&&e<0||s.scrollLeft===r&&0<e))return 1}s=s.parentNode}return 0}(t.target,n,a)){var r,o,l,h,d,c,u,p=!1;f.settings.useBothWheelAxes?f.scrollbarYActive&&!f.scrollbarXActive?(a?g.scrollTop-=a*f.settings.wheelSpeed:g.scrollTop+=n*f.settings.wheelSpeed,p=!0):f.scrollbarXActive&&!f.scrollbarYActive&&(n?g.scrollLeft+=n*f.settings.wheelSpeed:g.scrollLeft-=a*f.settings.wheelSpeed,p=!0):(g.scrollTop-=a*f.settings.wheelSpeed,g.scrollLeft+=n*f.settings.wheelSpeed),w(f),(p=p||(r=n,o=a,l=Math.floor(g.scrollTop),h=0===g.scrollTop,d=l+g.offsetHeight===g.scrollHeight,c=0===g.scrollLeft,u=g.scrollLeft+g.offsetWidth===g.scrollWidth,!(Math.abs(o)>Math.abs(r)?h||d:c||u)||!f.settings.wheelPropagation))&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault())}}void 0!==window.onwheel?f.event.bind(g,"wheel",t):void 0!==window.onmousewheel&&f.event.bind(g,"mousewheel",t)},touch:function(o){if(x.supportsTouch||x.supportsIePointer){var l=o.element,h={},d=0,c={},i=null;x.supportsTouch?(o.event.bind(l,"touchstart",t),o.event.bind(l,"touchmove",e),o.event.bind(l,"touchend",s)):x.supportsIePointer&&(window.PointerEvent?(o.event.bind(l,"pointerdown",t),o.event.bind(l,"pointermove",e),o.event.bind(l,"pointerup",s)):window.MSPointerEvent&&(o.event.bind(l,"MSPointerDown",t),o.event.bind(l,"MSPointerMove",e),o.event.bind(l,"MSPointerUp",s)))}function u(t,e){l.scrollTop-=e,l.scrollLeft-=t,w(o)}function p(t){return t.targetTouches?t.targetTouches[0]:t}function f(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function t(t){if(f(t)){var e=p(t);h.pageX=e.pageX,h.pageY=e.pageY,d=(new Date).getTime(),null!==i&&clearInterval(i)}}function e(t){if(f(t)){var e=p(t),i={pageX:e.pageX,pageY:e.pageY},s=i.pageX-h.pageX,n=i.pageY-h.pageY;if(function(t,e,i){if(!l.contains(t))return 0;for(var s=t;s&&s!==l;){if(s.classList.contains(v.element.consuming))return 1;var n=m(s);if([n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/)){var a=s.scrollHeight-s.clientHeight;if(0<a&&!(0===s.scrollTop&&0<i||s.scrollTop===a&&i<0))return 1;var r=s.scrollLeft-s.clientWidth;if(0<r&&!(0===s.scrollLeft&&e<0||s.scrollLeft===r&&0<e))return 1}s=s.parentNode}return 0}(t.target,s,n))return;u(s,n),h=i;var a=(new Date).getTime(),r=a-d;0<r&&(c.x=s/r,c.y=n/r,d=a),function(t,e){var i=Math.floor(l.scrollTop),s=l.scrollLeft,n=Math.abs(t),a=Math.abs(e);if(n<a){if(e<0&&i===o.contentHeight-o.containerHeight||0<e&&0===i)return 0===window.scrollY&&0<e&&x.isChrome}else if(a<n&&(t<0&&s===o.contentWidth-o.containerWidth||0<t&&0===s))return 1;return 1}(s,n)&&t.preventDefault()}}function s(){o.settings.swipeEasing&&(clearInterval(i),i=setInterval(function(){o.isInitialized?clearInterval(i):c.x||c.y?Math.abs(c.x)<.01&&Math.abs(c.y)<.01?clearInterval(i):(u(30*c.x,30*c.y),c.x*=.8,c.y*=.8):clearInterval(i)},10))}}};return d.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,c(this.scrollbarXRail,{display:"block"}),c(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=g(m(this.scrollbarXRail).marginLeft)+g(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=g(m(this.scrollbarYRail).marginTop)+g(m(this.scrollbarYRail).marginBottom),c(this.scrollbarXRail,{display:"none"}),c(this.scrollbarYRail,{display:"none"}),w(this),e(this,"top",0,!1,!0),e(this,"left",0,!1,!0),c(this.scrollbarXRail,{display:""}),c(this.scrollbarYRail,{display:""}))},d.prototype.onScroll=function(t){this.isAlive&&(w(this),e(this,"top",this.element.scrollTop-this.lastScrollTop),e(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},d.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),n(this.scrollbarX),n(this.scrollbarY),n(this.scrollbarXRail),n(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},d.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},d}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Perspective=t()}(function(){return function a(r,o,l){function h(e,t){if(!o[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(d)return d(e,!0);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}var n=o[e]={exports:{}};r[e][0].call(n.exports,function(t){return h(r[e][1][t]||t)},n,n.exports,a,r,o,l)}return o[e].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){var s=window.html5jp||{};!function(){s.perspective=function(t,e){if(t&&t.strokeStyle&&e&&e.width&&e.height){var i=document.createElement("canvas");i.width=parseInt(e.width),i.height=parseInt(e.height);var s=i.getContext("2d");s.drawImage(e,0,0,i.width,i.height);var n=document.createElement("canvas");n.width=t.canvas.width,n.height=t.canvas.height;var a=n.getContext("2d");this.p={ctxd:t,cvso:i,ctxo:s,ctxt:a}}};var t=s.perspective.prototype;t.draw=function(t){for(var e=parseInt(t[0][0]),i=parseInt(t[0][1]),s=parseInt(t[1][0]),n=parseInt(t[1][1]),a=parseInt(t[2][0]),r=parseInt(t[2][1]),o=parseInt(t[3][0]),l=parseInt(t[3][1]),h=[Math.sqrt(Math.pow(e-s,2)+Math.pow(i-n,2)),Math.sqrt(Math.pow(s-a,2)+Math.pow(n-r,2)),Math.sqrt(Math.pow(a-o,2)+Math.pow(r-l,2)),Math.sqrt(Math.pow(o-e,2)+Math.pow(l-i,2))],d=this.p.cvso.width,c=this.p.cvso.height,u=0,p=0,f=0,g=0;g<4;g++){var m;p<(m=g%2?h[g]/d:h[g]/c)&&(u=g,p=m),0==h[g]&&f++}if(!(1<f)){var v=this.p.ctxo,y=this.p.ctxt;if(y.clearRect(0,0,y.canvas.width,y.canvas.height),u%2==0){(T=this.create_canvas_context(d,10)).globalCompositeOperation="copy";for(var b=T.canvas,w=0;w<c;w+=2){var x=e+(o-e)*(M=w/c),k=i+(l-i)*M,C=s+(a-s)*M,E=n+(r-n)*M,_=Math.atan((E-k)/(C-x)),P=Math.sqrt(Math.pow(C-x,2)+Math.pow(E-k,2))/d;T.setTransform(1,0,0,1,0,-w),T.drawImage(v.canvas,0,0),y.translate(x,k),y.rotate(_),y.scale(P,P),y.drawImage(b,0,0),y.setTransform(1,0,0,1,0,0)}}else if(u%2==1){var T;(T=this.create_canvas_context(10,c)).globalCompositeOperation="copy",b=T.canvas;for(var S=0;S<d;S+=2){var M;x=e+(s-e)*(M=S/d),k=i+(n-i)*M,C=o+(a-o)*M,E=l+(r-l)*M,_=Math.atan((x-C)/(E-k)),P=Math.sqrt(Math.pow(C-x,2)+Math.pow(E-k,2))/c,T.setTransform(1,0,0,1,-S,0),T.drawImage(v.canvas,0,0),y.translate(x,k),y.rotate(_),y.scale(P,P),y.drawImage(b,0,0),y.setTransform(1,0,0,1,0,0)}}this.p.ctxd.save(),this.p.ctxd.drawImage(y.canvas,0,0),this._applyMask(this.p.ctxd,[[e,i],[s,n],[a,r],[o,l]]),this.p.ctxd.restore()}},t.create_canvas_context=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i.getContext("2d")},t._applyMask=function(t,e){t.beginPath(),t.moveTo(e[0][0],e[0][1]);for(var i=1;i<e.length;i++)t.lineTo(e[i][0],e[i][1]);t.closePath(),t.globalCompositeOperation="destination-in",t.fill(),t.globalCompositeOperation="source-over"}}(),e.exports=s.perspective},{}]},{},[1])(1)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("rgbcolor"),require("stackblur-canvas")):"function"==typeof define&&define.amd?define(["rgbcolor","stackblur-canvas"],e):t.canvg=e(t.RGBColor,t.StackBlur)}(this,function(m,v){"use strict";var t;return m=m&&m.hasOwnProperty("default")?m.default:m,v=v&&v.hasOwnProperty("default")?v.default:v,function(t){var h;t.exports,(h=window).DOMParser=window.DOMParser;var c=h.document;function f(t,e){var i;return(i=c.createElement("canvas")).width=t,i.height=e,i}var u,p=function(t,e,i){if(null!=t||null!=e||null!=i){var s=g(i||{});"string"==typeof t&&(t=c.getElementById(t)),null!=t.svg&&t.svg.stop(),t.childNodes&&1==t.childNodes.length&&"OBJECT"==t.childNodes[0].nodeName||(t.svg=s);var n=t.getContext("2d");void 0!==e.documentElement?s.loadXmlDoc(n,e):"<"==e.substr(0,1)?s.loadXml(n,e):s.load(n,e)}else for(var a=c.querySelectorAll("svg"),r=0;r<a.length;r++){var o=a[r],l=c.createElement("canvas");if(void 0!==o.clientWidth&&void 0!==o.clientHeight)l.width=o.clientWidth,l.height=o.clientHeight;else{var h=o.getBoundingClientRect();l.width=h.width,l.height=h.height}o.parentNode.insertBefore(l,o),o.parentNode.removeChild(o);var d=c.createElement("div");d.appendChild(o),p(l,d.innerHTML)}};"undefined"==typeof Element||(void 0!==Element.prototype.matches?u=function(t,e){return t.matches(e)}:void 0!==Element.prototype.webkitMatchesSelector?u=function(t,e){return t.webkitMatchesSelector(e)}:void 0!==Element.prototype.mozMatchesSelector?u=function(t,e){return t.mozMatchesSelector(e)}:void 0!==Element.prototype.msMatchesSelector?u=function(t,e){return t.msMatchesSelector(e)}:void 0!==Element.prototype.oMatchesSelector?u=function(t,e){return t.oMatchesSelector(e)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(u=function(t,e){return $(t).is(e)}),void 0===u&&"undefined"!=typeof Sizzle&&(u=Sizzle.matchesSelector)));var e=/(\[[^\]]+\])/g,i=/(#[^\s\+>~\.\[:]+)/g,a=/(\.[^\s\+>~\.\[:]+)/g,r=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,o=/(:[\w-]+\([^\)]*\))/gi,l=/(:[^\s\+>~\.\[:]+)/g,d=/([^\s\+>~\.\[:]+)/g;function x(s){function t(t,e){var i=s.match(t);null!=i&&(n[e]+=i.length,s=s.replace(t," "))}var n=[0,0,0];return s=(s=s.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[\s\S]*/gm," "),t(e,1),t(i,0),t(a,1),t(r,2),t(o,1),t(l,1),s=(s=s.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),t(d,2),n.join("")}function g(n){var I={opts:n,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,rootEmSize:12,emSize:12,log:function(){}};1==I.opts.log&&"undefined"!=typeof console&&(I.log=function(t){console.log(t)}),I.init=function(t){var e=0;I.UniqueId=function(){return"canvg"+ ++e},I.Definitions={},I.Styles={},I.StylesSpecificity={},I.Animations=[],I.Images=[],I.ctx=t,I.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},I.init(),I.ImagesLoaded=function(){for(var t=0;t<I.Images.length;t++)if(!I.Images[t].loaded)return!1;return!0},I.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},I.compressSpaces=function(t){return t.replace(/(?!\u3000)\s+/gm," ")},I.ajax=function(t){var e;return(e=h.XMLHttpRequest?new h.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",t,!1),e.send(null),e.responseText):null},I.parseXml=function(t){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var e=new Windows.Data.Xml.Dom.XmlDocument,i=new Windows.Data.Xml.Dom.XmlLoadSettings;return i.prohibitDtd=!1,e.loadXml(t,i),e}if(!h.DOMParser)return t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e;try{var s=n.xmldom?new h.DOMParser(n.xmldom):new h.DOMParser;return s.parseFromString(t,"image/svg+xml")}catch(e){return(s=n.xmldom?new h.DOMParser(n.xmldom):new h.DOMParser).parseFromString(t,"text/xml")}},I.Property=function(t,e){this.name=t,this.value=e},I.Property.prototype.getValue=function(){return this.value},I.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},I.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},I.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},I.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():parseFloat(t)},I.Property.prototype.addOpacity=function(t){var e=this.value;if(null!=t.value&&""!=t.value&&"string"==typeof this.value){var i=new m(this.value);i.ok&&(e="rgba("+i.r+", "+i.g+", "+i.b+", "+t.numValue()+")")}return new I.Property(this.name,e)},I.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t=(t=t&&t[1])||this.value,I.Definitions[t]},I.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},I.Property.prototype.getFillStyleDefinition=function(t,e){var i=this.getDefinition();if(null!=i&&i.createGradient)return i.createGradient(I.ctx,t,e);if(null!=i&&i.createPattern){if(i.getHrefAttribute().hasValue()){var s=i.attribute("patternTransform");i=i.getHrefAttribute().getDefinition(),s.hasValue()&&(i.attribute("patternTransform",!0).value=s.value)}return i.createPattern(I.ctx,t,e)}return null},I.Property.prototype.getDPI=function(){return 96},I.Property.prototype.getREM=function(){return I.rootEmSize},I.Property.prototype.getEM=function(){return I.emSize},I.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},I.Property.prototype.isPixels=function(){if(!this.hasValue())return!1;var t=this.value+"";return!!t.match(/px$/)||!!t.match(/^[0-9]+$/)},I.Property.prototype.toPixels=function(t,e){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/rem$/))return this.numValue()*this.getREM(t);if(i.match(/em$/))return this.numValue()*this.getEM(t);if(i.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(t);if(i.match(/%$/))return this.numValue()*I.ViewPort.ComputeSize(t);var s=this.numValue();return e&&s<1?s*I.ViewPort.ComputeSize(t):s},I.Property.prototype.toMilliseconds=function(){return this.hasValue()?(this.value+"").match(/ms$/)?this.numValue():1e3*this.numValue():0},I.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var t={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return I.Property.prototype.toTextBaseline=function(){return this.hasValue()?t[this.value]:null},I.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,e,i,s,n,a){var r=null!=a?this.Parse(a):this.CreateFont("","","","","",I.ctx.font);return{fontFamily:n=n||r.fontFamily,fontSize:s||r.fontSize,fontStyle:t||r.fontStyle,fontWeight:i||r.fontWeight,fontVariant:e||r.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var r=this;this.Parse=function(t){for(var e={},i=I.trim(I.compressSpaces(t||"")).split(" "),s={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},n="",a=0;a<i.length;a++)s.fontStyle||-1==r.Styles.indexOf(i[a])?s.fontVariant||-1==r.Variants.indexOf(i[a])?s.fontWeight||-1==r.Weights.indexOf(i[a])?s.fontSize?"inherit"!=i[a]&&(n+=i[a]):("inherit"!=i[a]&&(e.fontSize=i[a].split("/")[0]),s.fontStyle=s.fontVariant=s.fontWeight=s.fontSize=!0):("inherit"!=i[a]&&(e.fontWeight=i[a]),s.fontStyle=s.fontVariant=s.fontWeight=!0):("inherit"!=i[a]&&(e.fontVariant=i[a]),s.fontStyle=s.fontVariant=!0):("inherit"!=i[a]&&(e.fontStyle=i[a]),s.fontStyle=!0);return""!=n&&(e.fontFamily=n),e}},I.ToNumberArray=function(t){for(var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[],i=0;i<e.length;i++)e[i]=parseFloat(e[i]);return e},I.Point=function(t,e){this.x=t,this.y=e},I.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},I.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],i=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=i},I.CreatePoint=function(t){var e=I.ToNumberArray(t);return new I.Point(e[0],e[1])},I.CreatePath=function(t){for(var e=I.ToNumberArray(t),i=[],s=0;s<e.length;s+=2)i.push(new I.Point(e[s],e[s+1]));return i},I.BoundingBox=function(t,e,i,s){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,i,s,n,a){var r=t+2/3*(i-t),o=e+2/3*(s-e),l=r+1/3*(n-t),h=o+1/3*(a-e);this.addBezierCurve(t,e,r,l,o,h,n,a)},this.addBezierCurve=function(t,e,i,s,n,a,r,o){var l=[t,e],h=[i,s],d=[n,a],c=[r,o];this.addPoint(l[0],l[1]),this.addPoint(c[0],c[1]);for(var u=0;u<=1;u++){var p=function(t){return Math.pow(1-t,3)*l[u]+3*Math.pow(1-t,2)*t*h[u]+3*(1-t)*Math.pow(t,2)*d[u]+Math.pow(t,3)*c[u]},f=6*l[u]-12*h[u]+6*d[u],g=-3*l[u]+9*h[u]-9*d[u]+3*c[u],m=3*h[u]-3*l[u];if(0!=g){var v=Math.pow(f,2)-4*m*g;if(!(v<0)){var y=(-f+Math.sqrt(v))/(2*g);0<y&&y<1&&(0==u&&this.addX(p(y)),1==u&&this.addY(p(y)));var b=(-f-Math.sqrt(v))/(2*g);0<b&&b<1&&(0==u&&this.addX(p(b)),1==u&&this.addY(p(b)))}}else{if(0==f)continue;var w=-m/f;0<w&&w<1&&(0==u&&this.addX(p(w)),1==u&&this.addY(p(w)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(i,s)},I.Transform=function(t){var e=this;this.Type={},this.Type.translate=function(t){this.p=I.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var e=I.ToNumberArray(t);this.angle=new I.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=I.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=I.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],i=this.m[2],s=this.m[4],n=this.m[1],a=this.m[3],r=this.m[5],o=1/(e*(1*a-0*r)-i*(1*n-0*r)+s*(0*n-0*a));t.transform(o*(1*a-0*r),o*(0*r-1*n),o*(0*s-1*i),o*(1*e-0*s),o*(i*r-s*a),o*(s*n-e*r))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=e.Type.matrix,this.base(t),this.angle=new I.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;0<=e;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var i=I.trim(I.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),s=0;s<i.length;s++)if("none"!==i[s]){var n=I.trim(i[s].split("(")[0]),a=i[s].split("(")[1].replace(")",""),r=this.Type[n];if(void 0!==r){var o=new r(a);o.type=n,this.transforms.push(o)}}},I.AspectRatio=function(t,e,i,s,n,a,r,o,l,h){var d=(e=(e=I.compressSpaces(e)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",c=e.split(" ")[1]||"meet",u=i/s,p=n/a,f=Math.min(u,p),g=Math.max(u,p);"meet"==c&&(s*=f,a*=f),"slice"==c&&(s*=g,a*=g),l=new I.Property("refX",l),h=new I.Property("refY",h),l.hasValue()&&h.hasValue()?t.translate(-f*l.toPixels("x"),-f*h.toPixels("y")):(d.match(/^xMid/)&&("meet"==c&&f==p||"slice"==c&&g==p)&&t.translate(i/2-s/2,0),d.match(/YMid$/)&&("meet"==c&&f==u||"slice"==c&&g==u)&&t.translate(0,n/2-a/2),d.match(/^xMax/)&&("meet"==c&&f==p||"slice"==c&&g==p)&&t.translate(i-s,0),d.match(/YMax$/)&&("meet"==c&&f==u||"slice"==c&&g==u)&&t.translate(0,n-a)),"none"==d?t.scale(u,p):"meet"==c?t.scale(f,f):"slice"==c&&t.scale(g,g),t.translate(null==r?0:-r,null==o?0:-o)},I.Element={},I.EmptyProperty=new I.Property("EMPTY",""),I.Element.ElementBase=function(a){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,e){var i=this.attributes[t];return null!=i?i:(1==e&&(i=new I.Property(t,""),this.attributes[t]=i),i||I.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t];return I.EmptyProperty},this.style=function(t,e,i){var s=this.styles[t];if(null!=s)return s;var n=this.attribute(t);if(null!=n&&n.hasValue())return this.styles[t]=n;if(1!=i){var a=this.parent;if(null!=a){var r=a.style(t);if(null!=r&&r.hasValue())return r}}return 1==e&&(s=new I.Property(t,""),this.styles[t]=s),s||I.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(t.save(),this.style("mask").hasValue()){var e=this.style("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();null!=i&&i.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,e){var i=t;e&&(i=I.CreateElement(t)),i.parent=this,"title"!=i.type&&this.children.push(i)},this.addStylesFromStyleDefinition=function(){for(var t in I.Styles)if("@"!=t[0]&&u(a,t)){var e=I.Styles[t],i=I.StylesSpecificity[t];if(null!=e)for(var s in e){var n=this.stylesSpecificity[s];void 0===n&&(n="000"),n<=i&&(this.styles[s]=e[s],this.stylesSpecificity[s]=i)}}};var t,e=new RegExp("^[A-Z-]+$");if(null!=a&&1==a.nodeType){for(var i=0;i<a.attributes.length;i++){var s=a.attributes[i],n=(t=s.nodeName,e.test(t)?t.toLowerCase():t);this.attributes[n]=new I.Property(n,s.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var r=this.attribute("style").value.split(";");for(i=0;i<r.length;i++)if(""!=I.trim(r[i])){var o=r[i].split(":"),l=I.trim(o[0]),h=I.trim(o[1]);this.styles[l]=new I.Property(l,h)}}for(this.attribute("id").hasValue()&&null==I.Definitions[this.attribute("id").value]&&(I.Definitions[this.attribute("id").value]=this),i=0;i<a.childNodes.length;i++){var d=a.childNodes[i];if(1==d.nodeType&&this.addChild(d,!0),this.captureTextNodes&&(3==d.nodeType||4==d.nodeType)){var c=d.value||d.text||d.textContent||"";""!=I.compressSpaces(c)&&this.addChild(new I.Element.tspan(d),!1)}}}},I.Element.RenderedElementBase=function(t){this.base=I.Element.ElementBase,this.base(t),this.calculateOpacity=function(){for(var t=1,e=this;null!=e;){var i=e.style("opacity",!1,!0);i.hasValue()&&(t*=i.numValue()),e=e.parent}return t},this.setContext=function(t,e){if(!e){var i;if(this.style("fill").isUrlDefinition())null!=(i=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(t.fillStyle=i);else if(this.style("fill").hasValue()){var s;"currentColor"==(s=this.style("fill")).value&&(s.value=this.style("color").value),"inherit"!=s.value&&(t.fillStyle="none"==s.value?"rgba(0,0,0,0)":s.value)}if(this.style("fill-opacity").hasValue()&&(s=(s=new I.Property("fill",t.fillStyle)).addOpacity(this.style("fill-opacity")),t.fillStyle=s.value),this.style("stroke").isUrlDefinition())null!=(i=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(t.strokeStyle=i);else if(this.style("stroke").hasValue()){var n;"currentColor"==(n=this.style("stroke")).value&&(n.value=this.style("color").value),"inherit"!=n.value&&(t.strokeStyle="none"==n.value?"rgba(0,0,0,0)":n.value)}if(this.style("stroke-opacity").hasValue()&&(n=(n=new I.Property("stroke",t.strokeStyle)).addOpacity(this.style("stroke-opacity")),t.strokeStyle=n.value),this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();t.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("paint-order").hasValue()&&(t.paintOrder=this.style("paint-order").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var r=I.ToNumberArray(this.style("stroke-dasharray").value);void 0!==t.setLineDash?t.setLineDash(r):void 0!==t.webkitLineDash?t.webkitLineDash=r:void 0===t.mozDash||1==r.length&&0==r[0]||(t.mozDash=r);var o=this.style("stroke-dashoffset").toPixels();void 0!==t.lineDashOffset?t.lineDashOffset=o:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=o:void 0!==t.mozDashOffset&&(t.mozDashOffset=o)}}if(void 0!==t.font)if(this.style("font").hasValue())t.font=this.style("font").value;else{t.font=I.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString();var l=this.style("font-size",!1,!1);l.isPixels()&&(I.emSize=l.toPixels())}if(this.style("transform",!1,!0).hasValue()&&new I.Transform(this.style("transform",!1,!0).value).apply(t),this.style("clip-path",!1,!0).hasValue()){var h=this.style("clip-path",!1,!0).getDefinition();null!=h&&h.apply(t)}t.globalAlpha=this.calculateOpacity()}},I.Element.RenderedElementBase.prototype=new I.Element.ElementBase,I.Element.PathElementBase=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new I.BoundingBox},this.renderChildren=function(t){this.path(t),I.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var e=this.getMarkers();if(null!=e){if(this.style("marker-start").isUrlDefinition()&&(i=this.style("marker-start").getDefinition()).render(t,e[0][0],e[0][1]),this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),s=1;s<e.length-1;s++)i.render(t,e[s][0],e[s][1]);this.style("marker-end").isUrlDefinition()&&(i=this.style("marker-end").getDefinition()).render(t,e[e.length-1][0],e[e.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},I.Element.PathElementBase.prototype=new I.Element.RenderedElementBase,I.SetDefaults=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4},I.Element.svg=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),I.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){if(I.SetDefaults(t),t.canvas.style&&void 0!==t.font&&void 0!==h.getComputedStyle){t.font=h.getComputedStyle(t.canvas).getPropertyValue("font");var e=new I.Property("fontSize",I.Font.Parse(t.font).fontSize);e.hasValue()&&(I.rootEmSize=I.emSize=e.toPixels("y"))}this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i=I.ViewPort.width(),s=I.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){i=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");var n=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(n=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(n,a),t.lineTo(i,a),t.lineTo(i,s),t.lineTo(n,s),t.closePath(),t.clip())}if(I.ViewPort.SetCurrent(i,s),this.attribute("viewBox").hasValue()){var r=I.ToNumberArray(this.attribute("viewBox").value),o=r[0],l=r[1];i=r[2],s=r[3],I.AspectRatio(t,this.attribute("preserveAspectRatio").value,I.ViewPort.width(),i,I.ViewPort.height(),s,o,l,this.attribute("refX").value,this.attribute("refY").value),I.ViewPort.RemoveCurrent(),I.ViewPort.SetCurrent(r[2],r[3])}}},I.Element.svg.prototype=new I.Element.RenderedElementBase,I.Element.rect=function(t){this.base=I.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(r=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=r),a=Math.min(a,s/2),r=Math.min(r,n/2),null!=t){var o=(Math.sqrt(2)-1)/3*4;t.beginPath(),0<n&&0<s&&(t.moveTo(e+a,i),t.lineTo(e+s-a,i),t.bezierCurveTo(e+s-a+o*a,i,e+s,i+r-o*r,e+s,i+r),t.lineTo(e+s,i+n-r),t.bezierCurveTo(e+s,i+n-r+o*r,e+s-a+o*a,i+n,e+s-a,i+n),t.lineTo(e+a,i+n),t.bezierCurveTo(e+a-o*a,i+n,e,i+n-r+o*r,e,i+n-r),t.lineTo(e,i+r),t.bezierCurveTo(e,i+r-o*r,e+a-o*a,i,e+a,i),t.closePath())}return new I.BoundingBox(e,i,e+s,i+n)}},I.Element.rect.prototype=new I.Element.PathElementBase,I.Element.circle=function(t){this.base=I.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),s=this.attribute("r").toPixels();return null!=t&&0<s&&(t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!1),t.closePath()),new I.BoundingBox(e-s,i-s,e+s,i+s)}},I.Element.circle.prototype=new I.Element.PathElementBase,I.Element.ellipse=function(t){this.base=I.Element.PathElementBase,this.base(t),this.path=function(t){var e=(Math.sqrt(2)-1)/3*4,i=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y"),n=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(n+i,a),t.bezierCurveTo(n+i,a+e*s,n+e*i,a+s,n,a+s),t.bezierCurveTo(n-e*i,a+s,n-i,a+e*s,n-i,a),t.bezierCurveTo(n-i,a-e*s,n-e*i,a-s,n,a-s),t.bezierCurveTo(n+e*i,a-s,n+i,a-e*s,n+i,a),t.closePath()),new I.BoundingBox(n-i,a-s,n+i,a+s)}},I.Element.ellipse.prototype=new I.Element.PathElementBase,I.Element.line=function(t){this.base=I.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new I.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new I.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var e=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y)),new I.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},I.Element.line.prototype=new I.Element.PathElementBase,I.Element.polyline=function(t){this.base=I.Element.PathElementBase,this.base(t),this.points=I.CreatePath(this.attribute("points").value),this.path=function(t){var e=new I.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)e.addPoint(this.points[i].x,this.points[i].y),null!=t&&t.lineTo(this.points[i].x,this.points[i].y);return e},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return 0<t.length&&t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},I.Element.polyline.prototype=new I.Element.PathElementBase,I.Element.polygon=function(t){this.base=I.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},I.Element.polygon.prototype=new I.Element.polyline,I.Element.path=function(t){this.base=I.Element.PathElementBase,this.base(t);var e=this.attribute("d").value;e=e.replace(/,/gm," ");for(var i=0;i<2;i++)e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(e=(e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),i=0;i<2;i++)e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=I.compressSpaces(e),e=I.trim(e),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new I.Point(0,0),this.control=new I.Point(0,0),this.current=new I.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new I.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new I.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,i){null!=i&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(e),this.path=function(t){var e=this.PathParser;e.reset();var i=new I.BoundingBox;for(null!=t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":var s=e.getAsCurrentPoint();for(e.addMarker(s),i.addPoint(s.x,s.y),null!=t&&t.moveTo(s.x,s.y),e.start=e.current;!e.isCommandOrEnd();)s=e.getAsCurrentPoint(),e.addMarker(s,e.start),i.addPoint(s.x,s.y),null!=t&&t.lineTo(s.x,s.y);break;case"L":case"l":for(;!e.isCommandOrEnd();){var n=e.current;s=e.getAsCurrentPoint(),e.addMarker(s,n),i.addPoint(s.x,s.y),null!=t&&t.lineTo(s.x,s.y)}break;case"H":case"h":for(;!e.isCommandOrEnd();){var a=new I.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(a,e.current),e.current=a,i.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"V":case"v":for(;!e.isCommandOrEnd();)a=new I.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar()),e.addMarker(a,e.current),e.current=a,i.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y);break;case"C":case"c":for(;!e.isCommandOrEnd();){var r=e.current,o=e.getPoint(),l=e.getAsControlPoint(),h=e.getAsCurrentPoint();e.addMarker(h,l,o),i.addBezierCurve(r.x,r.y,o.x,o.y,l.x,l.y,h.x,h.y),null!=t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,h.x,h.y)}break;case"S":case"s":for(;!e.isCommandOrEnd();)r=e.current,o=e.getReflectedControlPoint(),l=e.getAsControlPoint(),h=e.getAsCurrentPoint(),e.addMarker(h,l,o),i.addBezierCurve(r.x,r.y,o.x,o.y,l.x,l.y,h.x,h.y),null!=t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,h.x,h.y);break;case"Q":case"q":for(;!e.isCommandOrEnd();)r=e.current,l=e.getAsControlPoint(),h=e.getAsCurrentPoint(),e.addMarker(h,l,l),i.addQuadraticCurve(r.x,r.y,l.x,l.y,h.x,h.y),null!=t&&t.quadraticCurveTo(l.x,l.y,h.x,h.y);break;case"T":case"t":for(;!e.isCommandOrEnd();)r=e.current,l=e.getReflectedControlPoint(),e.control=l,h=e.getAsCurrentPoint(),e.addMarker(h,l,l),i.addQuadraticCurve(r.x,r.y,l.x,l.y,h.x,h.y),null!=t&&t.quadraticCurveTo(l.x,l.y,h.x,h.y);break;case"A":case"a":for(;!e.isCommandOrEnd();){r=e.current;var d=e.getScalar(),c=e.getScalar(),u=e.getScalar()*(Math.PI/180),p=e.getScalar(),f=e.getScalar(),g=(h=e.getAsCurrentPoint(),new I.Point(Math.cos(u)*(r.x-h.x)/2+Math.sin(u)*(r.y-h.y)/2,-Math.sin(u)*(r.x-h.x)/2+Math.cos(u)*(r.y-h.y)/2)),m=Math.pow(g.x,2)/Math.pow(d,2)+Math.pow(g.y,2)/Math.pow(c,2);1<m&&(d*=Math.sqrt(m),c*=Math.sqrt(m));var v=(p==f?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(c,2)-Math.pow(d,2)*Math.pow(g.y,2)-Math.pow(c,2)*Math.pow(g.x,2))/(Math.pow(d,2)*Math.pow(g.y,2)+Math.pow(c,2)*Math.pow(g.x,2)));isNaN(v)&&(v=0);var y=new I.Point(v*d*g.y/c,v*-c*g.x/d),b=new I.Point((r.x+h.x)/2+Math.cos(u)*y.x-Math.sin(u)*y.y,(r.y+h.y)/2+Math.sin(u)*y.x+Math.cos(u)*y.y),w=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},x=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(w(t)*w(e))},k=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(x(t,e))},C=k([1,0],[(g.x-y.x)/d,(g.y-y.y)/c]),E=[(g.x-y.x)/d,(g.y-y.y)/c],_=[(-g.x-y.x)/d,(-g.y-y.y)/c],P=k(E,_);x(E,_)<=-1&&(P=Math.PI),1<=x(E,_)&&(P=0);var T=1-f?1:-1,S=C+P/2*T,M=new I.Point(b.x+d*Math.cos(S),b.y+c*Math.sin(S));if(e.addMarkerAngle(M,S-T*Math.PI/2),e.addMarkerAngle(h,S-T*Math.PI),i.addPoint(h.x,h.y),null!=t&&!isNaN(C)&&!isNaN(P)){x=c<d?d:c;var z=c<d?1:d/c,j=c<d?c/d:1;t.translate(b.x,b.y),t.rotate(u),t.scale(z,j),t.arc(0,0,x,C,C+P,1-f),t.scale(1/z,1/j),t.rotate(-u),t.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=t&&i.x1!==i.x2&&i.y1!==i.y2&&t.closePath(),e.current=e.start}return i},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),i=[],s=0;s<t.length;s++)i.push([t[s],e[s]]);return i}},I.Element.path.prototype=new I.Element.PathElementBase,I.Element.pattern=function(t){this.base=I.Element.ElementBase,this.base(t),this.createPattern=function(t,e,i){var s=this.attribute("width").toPixels("x",!0),n=this.attribute("height").toPixels("y",!0),a=new I.Element.svg;a.attributes.viewBox=new I.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new I.Property("width",s+"px"),a.attributes.height=new I.Property("height",n+"px"),a.attributes.transform=new I.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var r=f(s,n),o=r.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&o.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0)),i.hasValue()?this.styles["fill-opacity"]=i:delete this.styles["fill-opacity"];for(var l=-1;l<=1;l++)for(var h=-1;h<=1;h++)o.save(),a.attributes.x=new I.Property("x",l*r.width),a.attributes.y=new I.Property("y",h*r.height),a.render(o),o.restore();return t.createPattern(r,"repeat")}},I.Element.pattern.prototype=new I.Element.ElementBase,I.Element.marker=function(t){this.base=I.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,e,i){if(e){t.translate(e.x,e.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var s=new I.Element.svg;s.attributes.viewBox=new I.Property("viewBox",this.attribute("viewBox").value),s.attributes.refX=new I.Property("refX",this.attribute("refX").value),s.attributes.refY=new I.Property("refY",this.attribute("refY").value),s.attributes.width=new I.Property("width",this.attribute("markerWidth").value),s.attributes.height=new I.Property("height",this.attribute("markerHeight").value),s.attributes.fill=new I.Property("fill",this.attribute("fill").valueOrDefault("black")),s.attributes.stroke=new I.Property("stroke",this.attribute("stroke").valueOrDefault("none")),s.children=this.children,s.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-i),t.translate(-e.x,-e.y)}}},I.Element.marker.prototype=new I.Element.ElementBase,I.Element.defs=function(t){this.base=I.Element.ElementBase,this.base(t),this.render=function(){}},I.Element.defs.prototype=new I.Element.ElementBase,I.Element.GradientBase=function(t){this.base=I.Element.ElementBase,this.base(t),this.stops=[];for(var e=0;e<this.children.length;e++){var i=this.children[e];"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var i=this.attributesToInherit[e];!this.attribute(i).hasValue()&&t.attribute(i).hasValue()&&(this.attribute(i,!0).value=t.attribute(i).value)}},this.createGradient=function(t,e,i){var s=this;this.getHrefAttribute().hasValue()&&(s=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(s));function n(t){return i.hasValue()?new I.Property("color",t).addOpacity(i).value:t}var a=this.getGradient(t,e);if(null==a)return n(s.stops[s.stops.length-1].color);for(var r=0;r<s.stops.length;r++)a.addColorStop(s.stops[r].offset,n(s.stops[r].color));if(this.attribute("gradientTransform").hasValue()){var o=I.ViewPort.viewPorts[0],l=new I.Element.rect;l.attributes.x=new I.Property("x",-I.MAX_VIRTUAL_PIXELS/3),l.attributes.y=new I.Property("y",-I.MAX_VIRTUAL_PIXELS/3),l.attributes.width=new I.Property("width",I.MAX_VIRTUAL_PIXELS),l.attributes.height=new I.Property("height",I.MAX_VIRTUAL_PIXELS);var h=new I.Element.g;h.attributes.transform=new I.Property("transform",this.attribute("gradientTransform").value),h.children=[l];var d=new I.Element.svg;d.attributes.x=new I.Property("x",0),d.attributes.y=new I.Property("y",0),d.attributes.width=new I.Property("width",o.width),d.attributes.height=new I.Property("height",o.height),d.children=[h];var c=f(o.width,o.height),u=c.getContext("2d");return u.fillStyle=a,d.render(u),u.createPattern(c,"no-repeat")}return a}},I.Element.GradientBase.prototype=new I.Element.ElementBase,I.Element.linearGradient=function(t){this.base=I.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var i="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox(t):null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var s="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),n="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return s==a&&n==r?null:t.createLinearGradient(s,n,a,r)}},I.Element.linearGradient.prototype=new I.Element.GradientBase,I.Element.radialGradient=function(t){this.base=I.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.attributesToInherit.push("fr"),this.getGradient=function(t,e){var i=e.getBoundingBox(t);this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var s="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),n="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=s,r=n;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(r="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var o="objectBoundingBox"==this.gradientUnits()?(i.width()+i.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels(),l=this.attribute("fr").toPixels();return t.createRadialGradient(a,r,l,s,n,o)}},I.Element.radialGradient.prototype=new I.Element.GradientBase,I.Element.stop=function(t){this.base=I.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);var e=this.style("stop-color",!0);""===e.value&&(e.value="#000"),this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity"))),this.color=e.value},I.Element.stop.prototype=new I.Element.ElementBase,I.Element.AnimateBase=function(t){this.base=I.Element.ElementBase,this.base(t),I.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var i=this.calcValue();this.attribute("type").hasValue()&&(i=this.attribute("type").value+"("+i+")"),this.getProperty().value=i,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var e=t.progress*(this.values.value.length-1),i=Math.floor(e),s=Math.ceil(e);t.from=new I.Property("from",parseFloat(this.values.value[i])),t.to=new I.Property("to",parseFloat(this.values.value[s])),t.progress=(e-i)/(s-i)}else t.from=this.from,t.to=this.to;return t}},I.Element.AnimateBase.prototype=new I.Element.ElementBase,I.Element.animate=function(t){this.base=I.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return"%"===this.initialUnits&&(e*=100),e+this.initialUnits}},I.Element.animate.prototype=new I.Element.AnimateBase,I.Element.animateColor=function(t){this.base=I.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=new m(t.from.value),i=new m(t.to.value);if(e.ok&&i.ok){var s=e.r+(i.r-e.r)*t.progress,n=e.g+(i.g-e.g)*t.progress,a=e.b+(i.b-e.b)*t.progress;return"rgb("+parseInt(s,10)+","+parseInt(n,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},I.Element.animateColor.prototype=new I.Element.AnimateBase,I.Element.animateTransform=function(t){this.base=I.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),e=I.ToNumberArray(t.from.value),i=I.ToNumberArray(t.to.value),s="",n=0;n<e.length;n++)s+=e[n]+(i[n]-e[n])*t.progress+" ";return s}},I.Element.animateTransform.prototype=new I.Element.animate,I.Element.font=function(t){this.base=I.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var e=0;e<this.children.length;e++){var i=this.children[e];"font-face"==i.type?(this.fontFace=i).style("font-family").hasValue()&&(I.Definitions[i.style("font-family").value]=this):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}this.render=function(){}},I.Element.font.prototype=new I.Element.ElementBase,I.Element.fontface=function(t){this.base=I.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},I.Element.fontface.prototype=new I.Element.ElementBase,I.Element.missingglyph=function(t){this.base=I.Element.path,this.base(t),this.horizAdvX=0},I.Element.missingglyph.prototype=new I.Element.path,I.Element.glyph=function(t){this.base=I.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},I.Element.glyph.prototype=new I.Element.path,I.Element.text=function(t){this.captureTextNodes=!0,this.base=I.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.initializeCoordinates=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0)},this.getBoundingBox=function(t){this.initializeCoordinates(t);for(var e=null,i=0;i<this.children.length;i++){var s=this.getChildBoundingBox(t,this,this,i);null==e?e=s:e.addBoundingBox(s)}return e},this.renderChildren=function(t){this.initializeCoordinates(t);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,this,e);I.Mouse.checkBoundingBox(this,this.getBoundingBox(t))},this.getAnchorDelta=function(t,e,i){var s=this.style("text-anchor").valueOrDefault("start");if("start"==s)return 0;for(var n=0,a=i;a<e.children.length;a++){var r=e.children[a];if(i<a&&r.attribute("x").hasValue())break;n+=r.measureTextRecursive(t)}return-1*("end"==s?n:n/2)},this.adjustChildCoordinates=function(t,e,i,s){var n=i.children[s];if("function"!=typeof n.measureText)return n;if(n.attribute("x").hasValue()){n.x=n.attribute("x").toPixels("x")+e.getAnchorDelta(t,i,s);var a=n.attribute("text-anchor").valueOrDefault("start");if("start"!==a){var r=n.measureTextRecursive(t);n.x+=-1*("end"==a?r:r/2)}n.attribute("dx").hasValue()&&(n.x+=n.attribute("dx").toPixels("x"))}else n.attribute("dx").hasValue()&&(e.x+=n.attribute("dx").toPixels("x")),n.x=e.x;return e.x=n.x+n.measureText(t),n.attribute("y").hasValue()?(n.y=n.attribute("y").toPixels("y"),n.attribute("dy").hasValue()&&(n.y+=n.attribute("dy").toPixels("y"))):(n.attribute("dy").hasValue()&&(e.y+=n.attribute("dy").toPixels("y")),n.y=e.y),e.y=n.y,n},this.getChildBoundingBox=function(t,e,i,s){var n=this.adjustChildCoordinates(t,e,i,s),a=n.getBoundingBox(t);for(s=0;s<n.children.length;s++){var r=e.getChildBoundingBox(t,e,n,s);a.addBoundingBox(r)}return a},this.renderChild=function(t,e,i,s){var n=this.adjustChildCoordinates(t,e,i,s);for(n.render(t),s=0;s<n.children.length;s++)e.renderChild(t,e,n,s)}},I.Element.text.prototype=new I.Element.RenderedElementBase,I.Element.TextElementBase=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,i){var s=e[i],n=null;if(t.isArabic){var a="isolated";(0==i||" "==e[i-1])&&i<e.length-2&&" "!=e[i+1]&&(a="terminal"),0<i&&" "!=e[i-1]&&i<e.length-2&&" "!=e[i+1]&&(a="medial"),0<i&&" "!=e[i-1]&&(i==e.length-1||" "==e[i+1])&&(a="initial"),void 0!==t.glyphs[s]&&null==(n=t.glyphs[s][a])&&"glyph"==t.glyphs[s].type&&(n=t.glyphs[s])}else n=t.glyphs[s];return null==n&&(n=t.missingGlyph),n},this.renderChildren=function(t){var e=this.parent.style("font-family").getDefinition();if(null==e)"stroke"==t.paintOrder?(""!=t.strokeStyle&&t.strokeText(I.compressSpaces(this.getText()),this.x,this.y),""!=t.fillStyle&&t.fillText(I.compressSpaces(this.getText()),this.x,this.y)):(""!=t.fillStyle&&t.fillText(I.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(I.compressSpaces(this.getText()),this.x,this.y));else{var i=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize),s=this.parent.style("font-style").valueOrDefault(I.Font.Parse(I.ctx.font).fontStyle),n=this.getText();e.isRTL&&(n=n.split("").reverse().join(""));for(var a=I.ToNumberArray(this.parent.attribute("dx").value),r=0;r<n.length;r++){var o=this.getGlyph(e,n,r),l=i/e.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(l,-l);var h=t.lineWidth;t.lineWidth=t.lineWidth*e.fontFace.unitsPerEm/i,"italic"==s&&t.transform(1,0,.4,1,0,0),o.render(t),"italic"==s&&t.transform(1,0,-.4,1,0,0),t.lineWidth=h,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=i*(o.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm,void 0===a[r]||isNaN(a[r])||(this.x+=a[r])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),i=0;i<this.children.length;i++)e+=this.children[i].measureTextRecursive(t);return e},this.measureText=function(t){var e=this.parent.style("font-family").getDefinition();if(null!=e){var i=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize),s=0,n=this.getText();e.isRTL&&(n=n.split("").reverse().join(""));for(var a=I.ToNumberArray(this.parent.attribute("dx").value),r=0;r<n.length;r++)s+=(this.getGlyph(e,n,r).horizAdvX||e.horizAdvX)*i/e.fontFace.unitsPerEm,void 0===a[r]||isNaN(a[r])||(s+=a[r]);return s}var o=I.compressSpaces(this.getText());if(!t.measureText)return 10*o.length;t.save(),this.setContext(t,!0);var l=t.measureText(o).width;return t.restore(),l},this.getBoundingBox=function(t){var e=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize);return new I.BoundingBox(this.x,this.y-e,this.x+this.measureText(t),this.y)}},I.Element.TextElementBase.prototype=new I.Element.RenderedElementBase,I.Element.tspan=function(t){this.captureTextNodes=!0,this.base=I.Element.TextElementBase,this.base(t),this.text=I.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return 0<this.children.length?"":this.text}},I.Element.tspan.prototype=new I.Element.TextElementBase,I.Element.tref=function(t){this.base=I.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},I.Element.tref.prototype=new I.Element.TextElementBase,I.Element.a=function(t){this.base=I.Element.TextElementBase,this.base(t),this.hasText=0<t.childNodes.length;for(var e=0;e<t.childNodes.length;e++)3!=t.childNodes[e].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].value||t.childNodes[0].data:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var e=new I.Property("fontSize",I.Font.Parse(I.ctx.font).fontSize);I.Mouse.checkBoundingBox(this,new I.BoundingBox(this.x,this.y-e.toPixels("y"),this.x+this.measureText(t),this.y))}else if(0<this.children.length){var i=new I.Element.g;i.children=this.children,i.parent=this,i.render(t)}},this.onclick=function(){h.open(this.getHrefAttribute().value)},this.onmousemove=function(){I.ctx.canvas.style.cursor="pointer"}},I.Element.a.prototype=new I.Element.TextElementBase,I.Element.textPath=function(t){this.base=I.Element.TextElementBase,this.base(t);var e=this.getHrefAttribute().getDefinition();this.text=I.compressSpaces(t.value||t.text||t.textContent||""),this.renderChildren=function(t){this.setTextData(t),t.save();var e=this.parent.style("text-decoration").value,i=this.fontSize(),s=this.glyphInfo,n=t.fillStyle;"underline"===e&&t.beginPath();for(var a=0;a<s.length;a++){var r=s[a].p0,o=s[a].p1,l=s[a].text;t.save(),t.translate(r.x,r.y),t.rotate(s[a].rotation),""!=t.fillStyle&&t.fillText(I.compressSpaces(l),0,0),""!=t.strokeStyle&&t.strokeText(I.compressSpaces(l),0,0),t.restore(),"underline"===e&&(0===a&&t.moveTo(r.x,r.y+i/8),t.lineTo(o.x,o.y+i/5))}"underline"===e&&(t.lineWidth=i/20,t.strokeStyle=n,t.stroke(),t.closePath()),t.restore()},this.path=function(t){var e=this.dataArray;null!=t&&t.beginPath();for(var i=0;i<e.length;i++){var s=e[i].command,n=e[i].points;switch(s){case"L":null!=t&&t.lineTo(n[0],n[1]);break;case"M":null!=t&&t.moveTo(n[0],n[1]);break;case"C":null!=t&&t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"Q":null!=t&&t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"A":var a=n[0],r=n[1],o=n[2],l=n[3],h=n[4],d=n[5],c=n[6],u=n[7],p=l<o?o:l,f=l<o?1:o/l,g=l<o?l/o:1;null!=t&&(t.translate(a,r),t.rotate(c),t.scale(f,g),t.arc(0,0,p,h,h+d,1-u),t.scale(1/f,1/g),t.rotate(-c),t.translate(-a,-r));break;case"z":null!=t&&t.closePath()}}},this.getText=function(){return this.text},this.fontSize=function(){return this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize)},this.measureText=function(t,e){var i=this.parent.style("font-family").getDefinition();if(e=e||this.getText(),null!=i){var s=this.fontSize(),n=0;i.isRTL&&(e=e.split("").reverse().join(""));for(var a=I.ToNumberArray(this.parent.attribute("dx").value),r=0;r<e.length;r++)n+=(this.getGlyph(i,e,r).horizAdvX||i.horizAdvX)*s/i.fontFace.unitsPerEm,void 0===a[r]||isNaN(a[r])||(n+=a[r]);return n}var o=I.compressSpaces(e);if(!t.measureText)return 10*o.length;t.save(),this.setContext(t);var l=t.measureText(o).width;return t.restore(),l},this.setTextData=function(r){if(!this.hasOwnProperty("glyphInfo")){var o=this,t=this.getText().split(""),l=this.getText().split(" ").length-1,e=I.ToNumberArray(this.parent.attribute("dx").valueOrDefault("0")),i=0,h=this.parent.style("text-anchor").valueOrDefault("start"),s=this.style("letter-spacing"),n=this.parent.style("letter-spacing");s.hasValue()&&"inherit"!==s.getValue()?s.hasValue()&&"initial"!==s.getValue()&&"unset"!==s.getValue()&&(i=s.toPixels()):i=n.toPixels(),this.letterSpacingCache=[];for(var a=0;a<this.getText().length;a++)this.letterSpacingCache.push(void 0!==e[a]?e[a]:i);var d=this.letterSpacingCache.reduce(function(t,e){return t+e||0},0);this.textWidth=this.measureText(r),this.textHeight=this.fontSize();var c=Math.max(this.textWidth+d,0);this.glyphInfo=[];var u=this.getPathLength(),p=this.style("startOffset").numValueOrDefault(0)*u,f=0;"middle"!==h&&"center"!==h||(f=-c/2),"end"!==h&&"right"!==h||(f=-c),f+=p;var g=function(t,e){var i,s=o.measureText(r,t);" "===t&&"justify"===h&&c<u&&(s+=(u-c)/l),-1<e&&(f+=(i=(i=e)||0,o.letterSpacingCache[i]||0));var n=o.textHeight/20,a={p0:o.getEquidistantPointOnPath(f,n),p1:o.getEquidistantPointOnPath(f+s,n)};return f+=s,a};for(a=0;a<t.length;a++){var m=g(t[a],a);if(void 0!==m.p0&&void 0!==m.p1){var v=o.getLineLength(m.p0.x,m.p0.y,m.p1.x,m.p1.y),y=o.getPointOnLine(0+v/2,m.p0.x,m.p0.y,m.p1.x,m.p1.y),b=Math.atan2(m.p1.y-m.p0.y,m.p1.x-m.p0.x);this.glyphInfo.push({transposeX:y.x,transposeY:y.y,text:t[a],rotation:b,p0:m.p0,p1:m.p1})}}}},this.parsePathData=function(t){if(this.pathLength=void 0,!t)return[];var e=[],i=t.PathParser;for(i.reset();!i.isEnd();){var s=[],n=null,a=i.current?i.current.x:0,r=i.current?i.current.y:0;i.nextCommand();var o=i.command.toUpperCase();switch(i.command){case"M":case"m":var l=i.getAsCurrentPoint();for(s.push(l.x,l.y),i.start=i.current;!i.isCommandOrEnd();)l=i.getAsCurrentPoint(),s.push(l.x,l.y),n="L";break;case"L":case"l":for(;!i.isCommandOrEnd();)l=i.getAsCurrentPoint(),s.push(l.x,l.y);n="L";break;case"H":case"h":for(;!i.isCommandOrEnd();){var h=new I.Point((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y);s.push(h.x,h.y),i.current=h}n="L";break;case"V":case"v":for(;!i.isCommandOrEnd();)h=new I.Point(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar()),s.push(h.x,h.y),i.current=h;n="L";break;case"C":case"c":for(;!i.isCommandOrEnd();){var d=i.getPoint(),c=i.getAsControlPoint(),u=i.getAsCurrentPoint();s.push(d.x,d.y,c.x,c.y,u.x,u.y)}break;case"S":case"s":for(;!i.isCommandOrEnd();)d=i.getReflectedControlPoint(),c=i.getAsControlPoint(),u=i.getAsCurrentPoint(),s.push(d.x,d.y,c.x,c.y,u.x,u.y);n="C";break;case"Q":case"q":for(;!i.isCommandOrEnd();)c=i.getAsControlPoint(),u=i.getAsCurrentPoint(),s.push(c.x,c.y,u.x,u.y);break;case"T":case"t":for(;!i.isCommandOrEnd();)c=i.getReflectedControlPoint(),i.control=c,u=i.getAsCurrentPoint(),s.push(c.x,c.y,u.x,u.y);n="Q";break;case"A":case"a":for(;!i.isCommandOrEnd();){var p=i.current,f=i.getScalar(),g=i.getScalar(),m=i.getScalar()*(Math.PI/180),v=i.getScalar(),y=i.getScalar(),b=(u=i.getAsCurrentPoint(),new I.Point(Math.cos(m)*(p.x-u.x)/2+Math.sin(m)*(p.y-u.y)/2,-Math.sin(m)*(p.x-u.x)/2+Math.cos(m)*(p.y-u.y)/2)),w=Math.pow(b.x,2)/Math.pow(f,2)+Math.pow(b.y,2)/Math.pow(g,2);1<w&&(f*=Math.sqrt(w),g*=Math.sqrt(w));var x=(v==y?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(g,2)-Math.pow(f,2)*Math.pow(b.y,2)-Math.pow(g,2)*Math.pow(b.x,2))/(Math.pow(f,2)*Math.pow(b.y,2)+Math.pow(g,2)*Math.pow(b.x,2)));isNaN(x)&&(x=0);var k=new I.Point(x*f*b.y/g,x*-g*b.x/f),C=new I.Point((p.x+u.x)/2+Math.cos(m)*k.x-Math.sin(m)*k.y,(p.y+u.y)/2+Math.sin(m)*k.x+Math.cos(m)*k.y),E=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(E(t)*E(e))},P=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},T=P([1,0],[(b.x-k.x)/f,(b.y-k.y)/g]),S=[(b.x-k.x)/f,(b.y-k.y)/g],M=[(-b.x-k.x)/f,(-b.y-k.y)/g],z=P(S,M);_(S,M)<=-1&&(z=Math.PI),1<=_(S,M)&&(z=0),0===y&&0<z&&(z-=2*Math.PI),1===y&&z<0&&(z+=2*Math.PI),s=[C.x,C.y,f,g,T,z,m,y]}break;case"Z":case"z":i.current=i.start}"Z"!==o?e.push({command:n||o,points:s,start:{x:a,y:r},pathLength:this.calcLength(a,r,n||o,s)}):e.push({command:"z",points:[],start:void 0,pathLength:0})}return e},this.getPathLength=function(){if(void 0===this.pathLength||null===this.pathLength||isNaN(this.pathLength))for(var t=this.pathLength=0;t<this.dataArray.length;t++)0<this.dataArray[t].pathLength&&(this.pathLength+=this.dataArray[t].pathLength);return this.pathLength},this.getPointOnPath=function(t){var e=0,i=this.getPathLength(),s=void 0;if(!(t<-5e-5||i<t-5e-5))for(var n=0;n<this.dataArray.length;n++){var a=this.dataArray[n];if(!a||!(a.pathLength<5e-5||e+a.pathLength+5e-5<t)){var r=t-e,o=void 0;switch(a.command){case"L":s=this.getPointOnLine(r,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case"A":var l=a.points[4],h=a.points[5],d=a.points[4]+h;if(o=l+r/a.pathLength*h,h<0&&o<d||0<=h&&d<o)break;s=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],o,a.points[6]);break;case"C":1<(o=r/a.pathLength)&&(o=1),s=this.getPointOnCubicBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case"Q":1<(o=r/a.pathLength)&&(o=1),s=this.getPointOnQuadraticBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(void 0!==s&&s!=={})return s;break}e+=a.pathLength}},this.buildEquidistantCache=function(t,e){var i=this.getPathLength();if(e=e||.25,t=t||i/100,this.equidistantCache=this.equidistantCache||{},!this.equidistantCache.hasOwnProperty("points")||this.equidistantCache.step!=t||this.equidistantCache.precision!=e){this.equidistantCache={step:t,precision:e,points:[]};for(var s=0,n=0;n<=i;n+=e){var a=this.getPointOnPath(n),r=this.getPointOnPath(n+e);void 0!==a&&void 0!==r&&t<=(s+=this.getLineLength(a.x,a.y,r.x,r.y))&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:n}),s-=t)}}},this.getEquidistantPointOnPath=function(t,e,i){if(this.buildEquidistantCache(e,i),!(t<0||5e-5<t-this.getPathLength())){var s=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[s]||void 0}},this.getLineLength=function(t,e,i,s){return Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))},this.getPointOnLine=function(t,e,i,s,n,a,r){void 0===a&&(a=e),void 0===r&&(r=i);var o=(n-i)/(s-e+1e-8),l=Math.sqrt(t*t/(1+o*o));s<e&&(l*=-1);var h,d=o*l;if(s===e)h={x:a,y:r+d};else if((r-i)/(a-e+1e-8)==o)h={x:a+l,y:r+d};else{var c,u,p=this.getLineLength(e,i,s,n);if(p<1e-8)return;var f=(a-e)*(s-e)+(r-i)*(n-i);c=e+(f/=p*p)*(s-e),u=i+f*(n-i);var g=this.getLineLength(a,r,c,u),m=Math.sqrt(t*t-g*g);l=Math.sqrt(m*m/(1+o*o)),s<e&&(l*=-1),h={x:c+l,y:u+(d=o*l)}}return h},this.getPointOnCubicBezier=function(t,e,i,s,n,a,r,o,l){function h(t){return t*t*t}function d(t){return 3*t*t*(1-t)}function c(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:o*h(t)+a*d(t)+s*c(t)+e*u(t),y:l*h(t)+r*d(t)+n*c(t)+i*u(t)}},this.getPointOnQuadraticBezier=function(t,e,i,s,n,a,r){function o(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:a*o(t)+s*l(t)+e*h(t),y:r*o(t)+n*l(t)+i*h(t)}},this.getPointOnEllipticalArc=function(t,e,i,s,n,a){var r=Math.cos(a),o=Math.sin(a),l=i*Math.cos(n),h=s*Math.sin(n);return{x:t+(l*r-h*o),y:e+(l*o+h*r)}},this.calcLength=function(t,e,i,s){var n,a,r,o;switch(i){case"L":return this.getLineLength(t,e,s[0],s[1]);case"C":for(n=0,a=this.getPointOnCubicBezier(0,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),o=.01;o<=1;o+=.01)r=this.getPointOnCubicBezier(o,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),n+=this.getLineLength(a.x,a.y,r.x,r.y),a=r;return n;case"Q":for(n=0,a=this.getPointOnQuadraticBezier(0,t,e,s[0],s[1],s[2],s[3]),o=.01;o<=1;o+=.01)r=this.getPointOnQuadraticBezier(o,t,e,s[0],s[1],s[2],s[3]),n+=this.getLineLength(a.x,a.y,r.x,r.y),a=r;return n;case"A":n=0;var l=s[4],h=s[5],d=s[4]+h,c=Math.PI/180;if(Math.abs(l-d)<c&&(c=Math.abs(l-d)),a=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],l,0),h<0)for(o=l-c;d<o;o-=c)r=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],o,0),n+=this.getLineLength(a.x,a.y,r.x,r.y),a=r;else for(o=l+c;o<d;o+=c)r=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],o,0),n+=this.getLineLength(a.x,a.y,r.x,r.y),a=r;return r=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),n+this.getLineLength(a.x,a.y,r.x,r.y)}return 0},this.dataArray=this.parsePathData(e)},I.Element.textPath.prototype=new I.Element.TextElementBase,I.Element.image=function(t){this.base=I.Element.RenderedElementBase,this.base(t);var e=this.getHrefAttribute().value;if(""!=e){var a=e.match(/\.svg$/);if(I.Images.push(this),this.loaded=!1,a)this.img=I.ajax(e),this.loaded=!0;else{this.img=c.createElement("img"),1==I.opts.useCORS&&(this.img.crossOrigin="Anonymous");var r=this;this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){I.log('ERROR: image "'+e+'" not found'),r.loaded=!0},this.img.src=e}this.renderChildren=function(t){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");0!=s&&0!=n&&(t.save(),a?t.drawSvg(this.img,e,i,s,n):(t.translate(e,i),I.AspectRatio(t,this.attribute("preserveAspectRatio").value,s,this.img.width,n,this.img.height,0,0),r.loaded&&(void 0===this.img.complete||this.img.complete)&&t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");return new I.BoundingBox(t,e,t+i,e+s)}}},I.Element.image.prototype=new I.Element.RenderedElementBase,I.Element.g=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(t){for(var e=new I.BoundingBox,i=0;i<this.children.length;i++)e.addBoundingBox(this.children[i].getBoundingBox(t));return e}},I.Element.g.prototype=new I.Element.RenderedElementBase,I.Element.symbol=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.render=function(){}},I.Element.symbol.prototype=new I.Element.RenderedElementBase,I.ParseExternalUrl=function(t){var e=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return e[2]||e[3]||e[4]},I.Element.style=function(t){this.base=I.Element.ElementBase,this.base(t);for(var e="",i=0;i<t.childNodes.length;i++)e+=t.childNodes[i].data;e=e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var s=(e=I.compressSpaces(e)).split("}");for(i=0;i<s.length;i++)if(""!=I.trim(s[i]))for(var n=s[i].split("{"),a=n[0].split(","),r=n[1].split(";"),o=0;o<a.length;o++){var l=I.trim(a[o]);if(""!=l){for(var h=I.Styles[l]||{},d=0;d<r.length;d++){var c=r[d].indexOf(":"),u=r[d].substr(0,c),p=r[d].substr(c+1,r[d].length-c);null!=u&&null!=p&&(h[I.trim(u)]=new I.Property(I.trim(u),I.trim(p)))}if(I.Styles[l]=h,I.StylesSpecificity[l]=x(l),"@font-face"==l)for(var f=h["font-family"].value.replace(/"/g,""),g=h.src.value.split(","),m=0;m<g.length;m++)if(0<g[m].indexOf('format("svg")')){var v=I.ParseExternalUrl(g[m]);if(v)for(var y=I.parseXml(I.ajax(v)).getElementsByTagName("font"),b=0;b<y.length;b++){var w=I.CreateElement(y[b]);I.Definitions[f]=w}}}}},I.Element.style.prototype=new I.Element.ElementBase,I.Element.use=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var s=this.getHrefAttribute().getDefinition();this.path=function(t){null!=s&&s.path(t)},this.elementTransform=function(){if(null!=s&&s.style("transform",!1,!0).hasValue())return new I.Transform(s.style("transform",!1,!0).value)},this.getBoundingBox=function(t){if(null!=s)return s.getBoundingBox(t)},this.renderChildren=function(t){if(null!=s){var e=s;"symbol"==s.type&&((e=new I.Element.svg).type="svg",e.attributes.viewBox=new I.Property("viewBox",s.attribute("viewBox").value),e.attributes.preserveAspectRatio=new I.Property("preserveAspectRatio",s.attribute("preserveAspectRatio").value),e.attributes.overflow=new I.Property("overflow",s.attribute("overflow").value),e.children=s.children),"svg"==e.type&&(this.attribute("width").hasValue()&&(e.attributes.width=new I.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(e.attributes.height=new I.Property("height",this.attribute("height").value)));var i=e.parent;e.parent=null,e.render(t),e.parent=i}}},I.Element.use.prototype=new I.Element.RenderedElementBase,I.Element.mask=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(t,e){var i=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==n&&0==a){for(var r=new I.BoundingBox,o=0;o<this.children.length;o++)r.addBoundingBox(this.children[o].getBoundingBox(t));i=Math.floor(r.x1),s=Math.floor(r.y1),n=Math.floor(r.width()),a=Math.floor(r.height())}var l=e.style("mask").value;e.style("mask").value="";var h=f(i+n,s+a),d=h.getContext("2d");I.SetDefaults(d),this.renderChildren(d),new I.Element.feColorMatrix({nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,i+n,s+a);var c=f(i+n,s+a),u=c.getContext("2d");I.SetDefaults(u),e.render(u),u.globalCompositeOperation="destination-in",u.fillStyle=d.createPattern(h,"no-repeat"),u.fillRect(0,0,i+n,s+a),t.fillStyle=u.createPattern(c,"no-repeat"),t.fillRect(0,0,i+n,s+a),e.style("mask").value=l},this.render=function(){}},I.Element.mask.prototype=new I.Element.ElementBase,I.Element.clipPath=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(t){var e="undefined"!=typeof CanvasRenderingContext2D,i=t.beginPath,s=t.closePath;e&&(CanvasRenderingContext2D.prototype.beginPath=function(){},CanvasRenderingContext2D.prototype.closePath=function(){}),i.call(t);for(var n=0;n<this.children.length;n++){var a=this.children[n];if(void 0!==a.path){var r=void 0!==a.elementTransform&&a.elementTransform();!r&&a.style("transform",!1,!0).hasValue()&&(r=new I.Transform(a.style("transform",!1,!0).value)),r&&r.apply(t),a.path(t),e&&(CanvasRenderingContext2D.prototype.closePath=s),r&&r.unapply(t)}}s.call(t),t.clip(),e&&(CanvasRenderingContext2D.prototype.beginPath=i,CanvasRenderingContext2D.prototype.closePath=s)},this.render=function(){}},I.Element.clipPath.prototype=new I.Element.ElementBase,I.Element.filter=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(t,e){var i=e.getBoundingBox(t),s=Math.floor(i.x1),n=Math.floor(i.y1),a=Math.floor(i.width()),r=Math.floor(i.height()),o=e.style("filter").value;e.style("filter").value="";for(var l=0,h=0,d=0;d<this.children.length;d++){var c=this.children[d].extraFilterDistance||0;l=Math.max(l,c),h=Math.max(h,c)}var u=f(a+2*l,r+2*h),p=u.getContext("2d");for(I.SetDefaults(p),p.translate(-s+l,-n+h),e.render(p),d=0;d<this.children.length;d++)"function"==typeof this.children[d].apply&&this.children[d].apply(p,0,0,a+2*l,r+2*h);t.drawImage(u,0,0,a+2*l,r+2*h,s-l,n-h,a+2*l,r+2*h),e.style("filter",!0).value=o},this.render=function(){}},I.Element.filter.prototype=new I.Element.ElementBase,I.Element.feDropShadow=function(t){this.base=I.Element.ElementBase,this.base(t),this.addStylesFromStyleDefinition(),this.apply=function(){}},I.Element.feDropShadow.prototype=new I.Element.ElementBase,I.Element.feMorphology=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(){}},I.Element.feMorphology.prototype=new I.Element.ElementBase,I.Element.feComposite=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(){}},I.Element.feComposite.prototype=new I.Element.ElementBase,I.Element.feColorMatrix=function(t){this.base=I.Element.ElementBase,this.base(t);var s=I.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var e=s[0];s=[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var n=s[0]*Math.PI/180,i=function(t,e,i){return t+Math.cos(n)*e+Math.sin(n)*i};s=[i(.213,.787,-.213),i(.715,-.715,-.715),i(.072,-.072,.928),0,0,i(.213,-.213,.143),i(.715,.285,.14),i(.072,-.072,-.283),0,0,i(.213,-.213,-.787),i(.715,-.715,.715),i(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function f(t,e,i,s,n,a){return t[i*s*4+4*e+a]}function g(t,e,i,s,n,a,r){t[i*s*4+4*e+a]=r}function m(t,e){var i=s[t];return i*(i<0?e-255:e)}var v=this.attribute("includeOpacity").hasValue();this.apply=function(t,e,i,s,n){var a=t.getImageData(0,0,s,n);for(i=0;i<n;i++)for(e=0;e<s;e++){var r=f(a.data,e,i,s,0,0),o=f(a.data,e,i,s,0,1),l=f(a.data,e,i,s,0,2),h=f(a.data,e,i,s,0,3),d=m(0,r)+m(1,o)+m(2,l)+m(3,h)+m(4,1),c=m(5,r)+m(6,o)+m(7,l)+m(8,h)+m(9,1),u=m(10,r)+m(11,o)+m(12,l)+m(13,h)+m(14,1),p=m(15,r)+m(16,o)+m(17,l)+m(18,h)+m(19,1);v&&(d=c=u=0,p*=h/255),g(a.data,e,i,s,0,0,d),g(a.data,e,i,s,0,1,c),g(a.data,e,i,s,0,2,u),g(a.data,e,i,s,0,3,p)}t.clearRect(0,0,s,n),t.putImageData(a,0,0)}},I.Element.feColorMatrix.prototype=new I.Element.ElementBase,I.Element.feGaussianBlur=function(t){this.base=I.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,e,i,s,n){v&&void 0!==v.canvasRGBA?(t.canvas.id=I.UniqueId(),t.canvas.style.display="none",c.body.appendChild(t.canvas),v.canvasRGBA(t.canvas,e,i,s,n,this.blurRadius),c.body.removeChild(t.canvas)):I.log("ERROR: StackBlur.js must be included for blur to work")}},I.Element.feGaussianBlur.prototype=new I.Element.ElementBase,I.Element.title=function(){},I.Element.title.prototype=new I.Element.ElementBase,I.Element.desc=function(){},I.Element.desc.prototype=new I.Element.ElementBase,I.Element.MISSING=function(t){I.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},I.Element.MISSING.prototype=new I.Element.ElementBase,I.CreateElement=function(t){var e=t.nodeName.replace(/^[^:]+:/,"");e=e.replace(/\-/g,"");var i=null;return(i=void 0!==I.Element[e]?new I.Element[e](t):new I.Element.MISSING(t)).type=t.nodeName,i},I.load=function(t,e){I.loadXml(t,I.ajax(e))},I.loadXml=function(t,e){I.loadXmlDoc(t,I.parseXml(e))},I.loadXmlDoc=function(a,r){I.init(a);function i(t){for(var e=a.canvas;e;)t.x-=e.offsetLeft,t.y-=e.offsetTop,e=e.offsetParent;return h.scrollX&&(t.x+=h.scrollX),h.scrollY&&(t.y+=h.scrollY),t}1!=I.opts.ignoreMouse&&(a.canvas.onclick=function(t){var e=i(new I.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));I.Mouse.onclick(e.x,e.y)},a.canvas.onmousemove=function(t){var e=i(new I.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));I.Mouse.onmousemove(e.x,e.y)});var o=I.CreateElement(r.documentElement);o.root=!0,o.addStylesFromStyleDefinition();function s(){I.ViewPort.Clear(),a.canvas.parentNode?I.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight):I.ViewPort.SetCurrent(800,600),1!=I.opts.ignoreDimensions&&(l||null==I.opts.scaleWidth&&null==I.opts.scaleHeight)&&(o.style("width").hasValue()&&(a.canvas.width=o.style("width").toPixels("x"),a.canvas.style&&(a.canvas.style.width=a.canvas.width+"px")),o.style("height").hasValue()&&(a.canvas.height=o.style("height").toPixels("y"),a.canvas.style&&(a.canvas.style.height=a.canvas.height+"px")));var t=a.canvas.clientWidth||a.canvas.width,e=a.canvas.clientHeight||a.canvas.height;if(1==I.opts.ignoreDimensions&&o.style("width").hasValue()&&o.style("height").hasValue()&&(t=o.style("width").toPixels("x"),e=o.style("height").toPixels("y")),I.ViewPort.SetCurrent(t,e),null!=I.opts.offsetX&&(o.attribute("x",!0).value=I.opts.offsetX),null!=I.opts.offsetY&&(o.attribute("y",!0).value=I.opts.offsetY),null!=I.opts.scaleWidth||null!=I.opts.scaleHeight){var i=null,s=null,n=I.ToNumberArray(o.attribute("viewBox").value);null!=I.opts.scaleWidth&&(o.attribute("width").hasValue()?i=o.attribute("width").toPixels("x")/I.opts.scaleWidth:isNaN(n[2])||(i=n[2]/I.opts.scaleWidth)),null!=I.opts.scaleHeight&&(o.attribute("height").hasValue()?s=o.attribute("height").toPixels("y")/I.opts.scaleHeight:isNaN(n[3])||(s=n[3]/I.opts.scaleHeight)),null==i&&(i=s),null==s&&(s=i),o.attribute("width",!0).value=I.opts.scaleWidth,o.attribute("height",!0).value=I.opts.scaleHeight,o.style("transform",!0,!0).value+=" scale("+1/i+","+1/s+")"}1!=I.opts.ignoreClear&&a.clearRect(0,0,t,e),o.render(a),l&&(l=!1,"function"==typeof I.opts.renderCallback&&I.opts.renderCallback(r))}var l=!0,n=!0;I.ImagesLoaded()&&(n=!1,s()),I.intervalID=setInterval(function(){var t=!1;if(n&&I.ImagesLoaded()&&(t=!(n=!1)),1!=I.opts.ignoreMouse&&(t=t||I.Mouse.hasEvents()),1!=I.opts.ignoreAnimation)for(var e=0;e<I.Animations.length;e++){var i=I.Animations[e].update(1e3/I.FRAMERATE);t=t||i}"function"==typeof I.opts.forceRedraw&&1==I.opts.forceRedraw()&&(t=!0),t&&(s(),I.Mouse.runEvents())},1e3/I.FRAMERATE)},I.stop=function(){I.intervalID&&clearInterval(I.intervalID)},I.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var i=0;i<this.events.length;i++){var s=this.events[i];e.isPointInPath&&e.isPointInPath(s.x,s.y)&&(this.eventElements[i]=t)}},this.checkBoundingBox=function(t,e){if(e)for(var i=0;i<this.events.length;i++){var s=this.events[i];e.isPointInBox(s.x,s.y)&&(this.eventElements[i]=t)}},this.runEvents=function(){I.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var e=this.events[t],i=this.eventElements[t];i;)e.run(i),i=i.parent;this.events=[],this.eventElements=[]}},I}"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,i,s,n,a){var r={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:i,scaleWidth:s,scaleHeight:n};for(var o in a)a.hasOwnProperty(o)&&(r[o]=a[o]);p(this.canvas,t,r)}),p._build=g,t.exports=p}(t={exports:{}}),t.exports}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(k){k.ui=k.ui||{},k.ui.version="1.12.1";var t,e,i,n,C,E,s,a,r,o,l,h,d,c=0,u=Array.prototype.slice;function _(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function P(t,e){return parseInt(k.css(t,e),10)||0}k.cleanData=(d=k.cleanData,function(t){var e,i,s;for(s=0;null!=(i=t[s]);s++)try{(e=k._data(i,"events"))&&e.remove&&k(i).triggerHandler("remove")}catch(t){}d(t)}),k.widget=function(t,i,e){var s,n,a,r={},o=t.split(".")[0],l=o+"-"+(t=t.split(".")[1]);return e||(e=i,i=k.Widget),k.isArray(e)&&(e=k.extend.apply(null,[{}].concat(e))),k.expr[":"][l.toLowerCase()]=function(t){return!!k.data(t,l)},k[o]=k[o]||{},s=k[o][t],n=k[o][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new n(t,e)},k.extend(n,s,{version:e.version,_proto:k.extend({},e),_childConstructors:[]}),(a=new i).options=k.widget.extend({},a.options),k.each(e,function(e,s){return k.isFunction(s)?void(r[e]=function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=a,t=s.apply(this,arguments),this._super=e,this._superApply=i,t}):void(r[e]=s);function n(){return i.prototype[e].apply(this,arguments)}function a(t){return i.prototype[e].apply(this,t)}}),n.prototype=k.widget.extend(a,{widgetEventPrefix:s&&a.widgetEventPrefix||t},r,{constructor:n,namespace:o,widgetName:t,widgetFullName:l}),s?(k.each(s._childConstructors,function(t,e){var i=e.prototype;k.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),k.widget.bridge(t,n),n},k.widget.extend=function(t){for(var e,i,s=u.call(arguments,1),n=0,a=s.length;n<a;n++)for(e in s[n])i=s[n][e],s[n].hasOwnProperty(e)&&void 0!==i&&(t[e]=k.isPlainObject(i)?k.isPlainObject(t[e])?k.widget.extend({},t[e],i):k.widget.extend({},i):i);return t},k.widget.bridge=function(a,e){var r=e.prototype.widgetFullName||a;k.fn[a]=function(i){var t="string"==typeof i,s=u.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=k.data(this,r);return"instance"===i?(n=e,!1):e?k.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:k.error("no such method '"+i+"' for "+a+" widget instance"):k.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=k.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=k.data(this,r);t?(t.option(i||{}),t._init&&t._init()):k.data(this,r,new e(i,this))})),n}},k.Widget=function(){},k.Widget._childConstructors=[],k.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=k(e||this.defaultElement||this)[0],this.element=k(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=k(),this.hoverable=k(),this.focusable=k(),this.classesElementLookup={},e!==this&&(k.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=k(e.style?e.ownerDocument:e.document||e),this.window=k(this.document[0].defaultView||this.document[0].parentWindow)),this.options=k.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:k.noop,_create:k.noop,_init:k.noop,destroy:function(){var i=this;this._destroy(),k.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:k.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,a=t;if(0===arguments.length)return k.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(i=t.split(".")).shift(),i.length){for(s=a[t]=k.widget.extend({},this.options[t]),n=0;i.length-1>n;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=e}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=k(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){function t(t,e){var i,s;for(s=0;t.length>s;s++)i=r.classesElementLookup[t[s]]||k(),i=n.add?k(k.unique(i.get().concat(n.element.get()))):k(i.not(n.element).get()),r.classesElementLookup[t[s]]=i,a.push(t[s]),e&&n.classes[t[s]]&&a.push(n.classes[t[s]])}var a=[],r=this;return n=k.extend({element:this.element,classes:this.options.classes||{}},n),this._on(n.element,{remove:"_untrackClassesElement"}),n.keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(i){var s=this;k.each(s.classesElementLookup,function(t,e){-1!==k.inArray(i.target,e)&&(s.classesElementLookup[t]=k(e.not(i.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,a={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return a.element.toggleClass(this._classes(a),s),this},_on:function(r,o,t){var l,h=this;"boolean"!=typeof r&&(t=o,o=r,r=!1),t?(o=l=k(o),this.bindings=this.bindings.add(o)):(t=o,o=this.element,l=this.widget()),k.each(t,function(t,e){function i(){return r||!0!==h.options.disabled&&!k(this).hasClass("ui-state-disabled")?("string"==typeof e?h[e]:e).apply(h,arguments):void 0}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||k.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),n=s[1]+h.eventNamespace,a=s[2];a?l.on(n,a,i):o.on(n,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=k(this.bindings.not(t).get()),this.focusable=k(this.focusable.not(t).get()),this.hoverable=k(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(k(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(k(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(k(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(k(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,a=this.options[t];if(i=i||{},(e=k.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!(k.isFunction(a)&&!1===a.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},k.each({show:"fadeIn",hide:"fadeOut"},function(a,r){k.Widget.prototype["_"+a]=function(e,t,i){"string"==typeof t&&(t={effect:t});var s,n=t?!0===t||"number"==typeof t?r:t.effect||r:a;"number"==typeof(t=t||{})&&(t={duration:t}),s=!k.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&k.effects&&k.effects.effect[n]?e[a](t):n!==a&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){k(this)[a](),i&&i.call(e[0]),t()})}}),k.widget,C=Math.max,E=Math.abs,s=/left|center|right/,a=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,o=/^\w+/,l=/%$/,h=k.fn.position,k.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,e,i=k("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return k("body").append(i),t=s.offsetWidth,i.css("overflow","scroll"),t===(e=s.offsetWidth)&&(e=i[0].clientWidth),i.remove(),n=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?k.position.scrollbarWidth():0,height:s?k.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=k(t||window),i=k.isWindow(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:i||s?{left:0,top:0}:k(t).offset(),scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},k.fn.position=function(c){if(!c||!c.of)return h.apply(this,arguments);c=k.extend({},c);var u,p,f,g,m,t,e,i,v=k(c.of),y=k.position.getWithinInfo(c.within),b=k.position.getScrollInfo(y),w=(c.collision||"flip").split(" "),x={};return t=9===(i=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:k.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(c.at="left top"),p=t.width,f=t.height,g=t.offset,m=k.extend({},g),k.each(["my","at"],function(){var t,e,i=(c[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=r.exec(i[0]),e=r.exec(i[1]),x[this]=[t?t[0]:0,e?e[0]:0],c[this]=[o.exec(i[0])[0],o.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===c.at[0]?m.left+=p:"center"===c.at[0]&&(m.left+=p/2),"bottom"===c.at[1]?m.top+=f:"center"===c.at[1]&&(m.top+=f/2),u=_(x.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var i,t,r=k(this),o=r.outerWidth(),l=r.outerHeight(),e=P(this,"marginLeft"),s=P(this,"marginTop"),n=o+e+P(this,"marginRight")+b.width,a=l+s+P(this,"marginBottom")+b.height,h=k.extend({},m),d=_(x.my,r.outerWidth(),r.outerHeight());"right"===c.my[0]?h.left-=o:"center"===c.my[0]&&(h.left-=o/2),"bottom"===c.my[1]?h.top-=l:"center"===c.my[1]&&(h.top-=l/2),h.left+=d[0],h.top+=d[1],i={marginLeft:e,marginTop:s},k.each(["left","top"],function(t,e){k.ui.position[w[t]]&&k.ui.position[w[t]][e](h,{targetWidth:p,targetHeight:f,elemWidth:o,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:a,offset:[u[0]+d[0],u[1]+d[1]],my:c.my,at:c.at,within:y,elem:r})}),c.using&&(t=function(t){var e=g.left-h.left,i=e+p-o,s=g.top-h.top,n=s+f-l,a={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:r,left:h.left,top:h.top,width:o,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};p<o&&p>E(e+i)&&(a.horizontal="center"),f<l&&f>E(s+n)&&(a.vertical="middle"),a.important=C(E(e),E(i))>C(E(s),E(n))?"horizontal":"vertical",c.using.call(this,t,a)}),r.offset(k.extend(h,{using:t}))})},k.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,o=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?0<o&&l<=0?(i=t.left+o+e.collisionWidth-a-n,t.left+=o-i):t.left=0<l&&o<=0?n:l<o?n+a-e.collisionWidth:n:0<o?t.left+=o:0<l?t.left-=l:t.left=C(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,o=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?0<o&&l<=0?(i=t.top+o+e.collisionHeight-a-n,t.top+=o-i):t.top=0<l&&o<=0?n:l<o?n+a-e.collisionHeight:n:0<o?t.top+=o:0<l?t.top-=l:t.top=C(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,r=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,h=l-o,d=l+e.collisionWidth-r-o,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,u="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];h<0?((i=t.left+c+u+p+e.collisionWidth-r-a)<0||E(h)>i)&&(t.left+=c+u+p):0<d&&(0<(s=t.left-e.collisionPosition.marginLeft+c+u+p-o)||d>E(s))&&(t.left+=c+u+p)},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,r=n.height,o=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,h=l-o,d=l+e.collisionHeight-r-o,c="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,u="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];h<0?((s=t.top+c+u+p+e.collisionHeight-r-a)<0||E(h)>s)&&(t.top+=c+u+p):0<d&&(0<(i=t.top-e.collisionPosition.marginTop+c+u+p-o)||d>E(i))&&(t.top+=c+u+p)}},flipfit:{left:function(){k.ui.position.flip.left.apply(this,arguments),k.ui.position.fit.left.apply(this,arguments)},top:function(){k.ui.position.flip.top.apply(this,arguments),k.ui.position.fit.top.apply(this,arguments)}}},k.ui.position,k.extend(k.expr[":"],{data:k.expr.createPseudo?k.expr.createPseudo(function(e){return function(t){return!!k.data(t,e)}}):function(t,e,i){return!!k.data(t,i[3])}}),k.fn.extend({disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),k.ui.focusable=function(t,e){var i,s,n,a,r,o=t.nodeName.toLowerCase();return"area"===o?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&0<(n=k("img[usemap='#"+s+"']")).length&&n.is(":visible")):(/^(input|select|textarea|button|object)$/.test(o)?(a=!t.disabled)&&(r=k(t).closest("fieldset")[0])&&(a=!r.disabled):a="a"===o&&t.href||e,a&&k(t).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(k(t)))},k.extend(k.expr[":"],{focusable:function(t){return k.ui.focusable(t,null!=k.attr(t,"tabindex"))}}),k.ui.focusable,k.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):k(this[0].form)},k.ui.formResetMixin={_formResetHandler:function(){var e=k(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");k.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(k.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===k.fn.jquery.substring(0,3)&&(k.each(["Width","Height"],function(t,i){function s(t,e,i,s){return k.each(n,function(){e-=parseFloat(k.css(t,"padding"+this))||0,i&&(e-=parseFloat(k.css(t,"border"+this+"Width"))||0),s&&(e-=parseFloat(k.css(t,"margin"+this))||0)}),e}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),r={innerWidth:k.fn.innerWidth,innerHeight:k.fn.innerHeight,outerWidth:k.fn.outerWidth,outerHeight:k.fn.outerHeight};k.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){k(this).css(a,s(this,t)+"px")})},k.fn["outer"+i]=function(t,e){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){k(this).css(a,s(this,t,!0,e)+"px")})}}),k.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),k.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},k.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")}),k.fn.labels=function(){var t,e,i,s,n;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),(i=this.attr("id"))&&(n=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+k.ui.escapeSelector(i)+"']",s=s.add(n.find(e).addBack(e))),this.pushStack(s))},k.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=k(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:k(this[0].ownerDocument||document)},k.extend(k.expr[":"],{tabbable:function(t){var e=k.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&k.ui.focusable(t,i)}}),k.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&k(this).removeAttr("id")})}}),k.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var p=!1;k(document).on("mouseup",function(){p=!1}),k.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){return!0===k.data(t.target,e.widgetName+".preventClickEvent")?(k.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&k(t.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===k.data(t.target,this.widgetName+".preventClickEvent")&&k.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),p=!0)),!0}},_mouseMove:function(t){if(this._mouseMoved){if(k.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&k.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,p=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),k.ui.plugin={add:function(t,e,i){var s,n=k.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)t.options[a[n][0]]&&a[n][1].apply(t.element,i)}},k.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return(i=i||e.body).nodeName||(i=e.body),i},k.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&k(t).trigger("blur")},k.widget("ui.draggable",k.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<k(t.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=k(this);return k("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=k.ui.safeActiveElement(this.document[0]);k(t.target).closest(e).length||k.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),k.ui.ddmanager&&(k.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===k(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),k.ui.ddmanager&&!e.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),k.ui.ddmanager&&k.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new k.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",k.ui.ddmanager&&k.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return k.ui.ddmanager&&!this.options.dropBehaviour&&(i=k.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||k.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?k(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),k.ui.ddmanager&&k.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),k.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new k.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!k(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=k.isFunction(e.helper),s=i?k(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),k.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];return this.relativeContainer=null,s.containment?"window"===s.containment?void(this.containment=[k(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,k(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,k(window).scrollLeft()+k(window).width()-this.helperProportions.width-this.margins.left,k(window).scrollTop()+(k(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,k(n).width()-this.helperProportions.width-this.margins.left,(k(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),void((i=(e=k(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,a,r=this.options,o=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(s=this.relativeContainer.offset(),[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1]:n,a=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-r.grid[0]:a+r.grid[0]:a),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),k.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),k.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),k.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=k.extend({},t,{item:i.element});i.sortables=[],k(i.options.connectToSortable).each(function(){var t=k(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=k.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,k.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){k.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,k.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&k.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,k.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,k.each(n.sortables,function(){this.refreshPositions()}))})}}),k.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=k("body"),n=i.options;s.css("cursor")&&(n._cursor=s.css("cursor")),s.css("cursor",n.cursor)},stop:function(t,e,i){var s=i.options;s._cursor&&k("body").css("cursor",s._cursor)}}),k.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var s=k(e.helper),n=i.options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(t,e,i){var s=i.options;s._opacity&&k(e.helper).css("opacity",s._opacity)}}),k.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,a=i.scrollParentNotHidden[0],r=i.document[0];a!==r&&"HTML"!==a.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<s.scrollSensitivity?a.scrollTop=n=a.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(a.scrollTop=n=a.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<s.scrollSensitivity?a.scrollLeft=n=a.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(a.scrollLeft=n=a.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-k(r).scrollTop()<s.scrollSensitivity?n=k(r).scrollTop(k(r).scrollTop()-s.scrollSpeed):k(window).height()-(t.pageY-k(r).scrollTop())<s.scrollSensitivity&&(n=k(r).scrollTop(k(r).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-k(r).scrollLeft()<s.scrollSensitivity?n=k(r).scrollLeft(k(r).scrollLeft()-s.scrollSpeed):k(window).width()-(t.pageX-k(r).scrollLeft())<s.scrollSensitivity&&(n=k(r).scrollLeft(k(r).scrollLeft()+s.scrollSpeed)))),!1!==n&&k.ui.ddmanager&&!s.dropBehaviour&&k.ui.ddmanager.prepareOffsets(i,t)}}),k.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],k(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=k(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){var s,n,a,r,o,l,h,d,c,u,p=i.options,f=p.snapTolerance,g=e.offset.left,m=g+i.helperProportions.width,v=e.offset.top,y=v+i.helperProportions.height;for(c=i.snapElements.length-1;0<=c;c--)l=(o=i.snapElements[c].left-i.margins.left)+i.snapElements[c].width,d=(h=i.snapElements[c].top-i.margins.top)+i.snapElements[c].height,m<o-f||l+f<g||y<h-f||d+f<v||!k.contains(i.snapElements[c].item.ownerDocument,i.snapElements[c].item)?(i.snapElements[c].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,k.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=!1):("inner"!==p.snapMode&&(s=f>=Math.abs(h-y),n=f>=Math.abs(d-v),a=f>=Math.abs(o-m),r=f>=Math.abs(l-g),s&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:o-i.helperProportions.width}).left),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),u=s||n||a||r,"outer"!==p.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(d-y),a=f>=Math.abs(o-g),r=f>=Math.abs(l-m),s&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:o}).left),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[c].snapping&&(s||n||a||r||u)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,k.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=s||n||a||r||u)}}),k.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,n=i.options,a=k.makeArray(k(n.stack)).sort(function(t,e){return(parseInt(k(t).css("zIndex"),10)||0)-(parseInt(k(e).css("zIndex"),10)||0)});a.length&&(s=parseInt(k(a[0]).css("zIndex"),10)||0,k(a).each(function(t){k(this).css("zIndex",s+t)}),this.css("zIndex",s+a.length))}}),k.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var s=k(e.helper),n=i.options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(t,e,i){var s=i.options;s._zIndex&&k(e.helper).css("zIndex",s._zIndex)}}),k.ui.draggable,k.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=k.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t=t||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){k.ui.ddmanager.droppables[t]=k.ui.ddmanager.droppables[t]||[],k.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=k.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){if("accept"===t)this.accept=k.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var i=k.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=k.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=k.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=k.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=k.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||k.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=k(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&f(i,k.extend(t,{offset:t.element.offset()}),t.options.tolerance,e)?!(s=!0):void 0}),!s&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var f=k.ui.intersect=function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,r=n+t.helperProportions.width,o=a+t.helperProportions.height,l=e.offset.left,h=e.offset.top,d=l+e.proportions().width,c=h+e.proportions().height;switch(i){case"fit":return l<=n&&r<=d&&h<=a&&o<=c;case"intersect":return n+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&a+t.helperProportions.height/2>h&&c>o-t.helperProportions.height/2;case"pointer":return g(s.pageY,h,e.proportions().height)&&g(s.pageX,l,e.proportions().width);case"touch":return(h<=a&&a<=c||h<=o&&o<=c||a<h&&c<o)&&(l<=n&&n<=d||l<=r&&r<=d||n<l&&d<r);default:return!1}};function g(t,e,i){return e<=t&&t<e+i}!(k.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=k.ui.ddmanager.droppables[t.options.scope]||[],a=e?e.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;n.length>i;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;r.length>s;s++)if(r[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===a&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return k.each((k.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&f(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||k.ui.ddmanager.prepareOffsets(t,e)})},drag:function(a,r){a.options.refreshPositions&&k.ui.ddmanager.prepareOffsets(a,r),k.each(k.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,i,s=f(a,this,this.options.tolerance,r),n=!s&&this.isover?"isout":s&&!this.isover?"isover":null;n&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return k(this).droppable("instance").options.scope===e})).length&&((t=k(i[0]).droppable("instance")).greedyChild="isover"===n)),t&&"isover"===n&&(t.isover=!1,t.isout=!0,t._out.call(t,r)),this[n]=!0,this["isout"===n?"isover":"isout"]=!1,this["isover"===n?"_over":"_out"].call(this,r),t&&"isout"===n&&(t.isout=!1,t.isover=!0,t._over.call(t,r)))}})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||k.ui.ddmanager.prepareOffsets(t,e)}})!==k.uiBackCompat&&k.widget("ui.droppable",k.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),k.ui.droppable,k.widget("ui.resizable",k.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===k(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",s=!1;return 0<t[i]||(t[i]=1,s=0<t[i],t[i]=0,s)},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),k.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(k("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&k(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){function t(t){k(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()}var e;return this._mouseDestroy(),this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,i,s,n,a=this.options,r=this;if(this.handles=a.handles||(k(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=k(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;i.length>e;e++)s="ui-resizable-"+(t=k.trim(i[e])),n=k("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:a.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(n);this._renderAxis=function(t){var e,i,s,n;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=k(this.handles[e]),this._on(this.handles[e],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=k(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(s,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=k(this.handles[e])[0])!==t.target&&!k.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s,n=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),n.containment&&(e+=k(n.containment).scrollLeft()||0,i+=k(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=k(".ui-resizable-"+this.axis).css("cursor"),k("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i,s=this.originalMousePosition,n=this.axis,a=t.pageX-s.left||0,r=t.pageY-s.top||0,o=this._change[n];return this._updatePrevProperties(),o&&(e=o.apply(this,[t,a,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),k.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n,a,r,o,l=this.options,h=this;return this._helper&&(s=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:h.sizeDiff.height,n=i?0:h.sizeDiff.width,a={width:h.helper.width()-n,height:h.helper.height()-s},r=parseFloat(h.element.css("left"))+(h.position.left-h.originalPosition.left)||null,o=parseFloat(h.element.css("top"))+(h.position.top-h.originalPosition.top)||null,l.animate||this.element.css(k.extend(a,{top:o,left:r})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!l.animate&&this._proportionallyResize()),k("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,a,r=this.options;a={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,o=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),a&&h&&(t.left=o-e.minWidth),s&&h&&(t.left=o-e.maxWidth),r&&d&&(t.top=l-e.minHeight),n&&d&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||k("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return k.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return k.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return k.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return k.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){k.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),k.ui.plugin.add("resizable","animate",{stop:function(e){var i=k(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),a=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,r=n?0:i.sizeDiff.width,o={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(k.extend(o,h&&l?{top:h,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&k(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),k.ui.plugin.add("resizable","containment",{start:function(){var i,s,t,e,n,a,r,o=k(this).resizable("instance"),l=o.options,h=o.element,d=l.containment,c=d instanceof k?d.get(0):/parent/.test(d)?h.parent().get(0):d;c&&(o.containerElement=k(c),/document/.test(d)||d===document?(o.containerOffset={left:0,top:0},o.containerPosition={left:0,top:0},o.parentData={element:k(document),left:0,top:0,width:k(document).width(),height:k(document).height()||document.body.parentNode.scrollHeight}):(i=k(c),s=[],k(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=o._num(i.css("padding"+e))}),o.containerOffset=i.offset(),o.containerPosition=i.position(),o.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=o.containerOffset,e=o.containerSize.height,n=o.containerSize.width,a=o._hasScroll(c,"left")?c.scrollWidth:n,r=o._hasScroll(c)?c.scrollHeight:e,o.parentData={element:c,left:t.left,top:t.top,width:a,height:r}))},resize:function(t){var e,i,s,n,a=k(this).resizable("instance"),r=a.options,o=a.containerOffset,l=a.position,h=a._aspectRatio||t.shiftKey,d={top:0,left:0},c=a.containerElement,u=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=o),l.left<(a._helper?o.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-o.left:a.position.left-d.left),h&&(a.size.height=a.size.width/a.aspectRatio,u=!1),a.position.left=r.helper?o.left:0),l.top<(a._helper?o.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-o.top:a.position.top),h&&(a.size.width=a.size.height*a.aspectRatio,u=!1),a.position.top=a._helper?o.top:0),s=a.containerElement.get(0)===a.element.parent().get(0),n=/relative|absolute/.test(a.containerElement.css("position")),s&&n?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),e=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-o.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-o.top)),e+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-e,h&&(a.size.height=a.size.width/a.aspectRatio,u=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,h&&(a.size.width=a.size.height*a.aspectRatio,u=!1)),u||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=k(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,a=k(t.helper),r=a.offset(),o=a.outerWidth()-t.sizeDiff.width,l=a.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&k(this).css({left:r.left-s.left-i.left,width:o,height:l}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&k(this).css({left:r.left-s.left-i.left,width:o,height:l})}}),k.ui.plugin.add("resizable","alsoResize",{start:function(){var t=k(this).resizable("instance").options;k(t.alsoResize).each(function(){var t=k(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=k(this).resizable("instance"),s=e.options,n=e.originalSize,a=e.originalPosition,r={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-a.top||0,left:e.position.left-a.left||0};k(s.alsoResize).each(function(){var t=k(this),s=k(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];k.each(e,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){k(this).removeData("ui-resizable-alsoresize")}}),k.ui.plugin.add("resizable","ghost",{start:function(){var t=k(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==k.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=k(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=k(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),k.ui.plugin.add("resizable","grid",{resize:function(){var t,e=k(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,r=e.axis,o="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=o[0]||1,h=o[1]||1,d=Math.round((s.width-n.width)/l)*l,c=Math.round((s.height-n.height)/h)*h,u=n.width+d,p=n.height+c,f=i.maxWidth&&u>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>u,v=i.minHeight&&i.minHeight>p;i.grid=o,m&&(u+=l),v&&(p+=h),f&&(u-=l),g&&(p-=h),/^(se|s|e)$/.test(r)?(e.size.width=u,e.size.height=p):/^(ne)$/.test(r)?(e.size.width=u,e.size.height=p,e.position.top=a.top-c):/^(sw)$/.test(r)?(e.size.width=u,e.size.height=p,e.position.left=a.left-d):((p-h<=0||u-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<p-h?(e.size.height=p,e.position.top=a.top-c):(p=h-t.height,e.size.height=p,e.position.top=a.top+n.height-p),0<u-l?(e.size.width=u,e.position.left=a.left-d):(u=l-t.width,e.size.width=u,e.position.left=a.left+n.width-u))}}),k.ui.resizable,k.widget("ui.selectable",k.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var s=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){s.elementPos=k(s.element[0]).offset(),s.selectees=k(s.options.filter,s.element[0]),s._addClass(s.selectees,"ui-selectee"),s.selectees.each(function(){var t=k(this),e=t.offset(),i={left:e.left-s.elementPos.left,top:e.top-s.elementPos.top};k.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=k("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var s=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=k(this.element[0]).offset(),this.options.disabled||(this.selectees=k(t.filter,this.element[0]),this._trigger("start",i),k(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=k.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(s._removeClass(t.$element,"ui-selected"),t.selected=!1,s._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,s._trigger("unselecting",i,{unselecting:t.element}))}),k(i.target).parents().addBack().each(function(){var t,e=k.data(this,"selectable-item");return e?(t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),s._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?s._trigger("selecting",i,{selecting:e.element}):s._trigger("unselecting",i,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var t,n=this,a=this.options,r=this.opos[0],o=this.opos[1],l=s.pageX,h=s.pageY;return l<r&&(t=l,l=r,r=t),h<o&&(t=h,h=o,o=t),this.helper.css({left:r,top:o,width:l-r,height:h-o}),this.selectees.each(function(){var t=k.data(this,"selectable-item"),e=!1,i={};t&&t.element!==n.element[0]&&(i.left=t.left+n.elementPos.left,i.right=t.right+n.elementPos.left,i.top=t.top+n.elementPos.top,i.bottom=t.bottom+n.elementPos.top,"touch"===a.tolerance?e=!(i.left>l||r>i.right||i.top>h||o>i.bottom):"fit"===a.tolerance&&(e=i.left>r&&l>i.right&&i.top>o&&h>i.bottom),e?(t.selected&&(n._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(n._addClass(t.$element,"ui-selecting"),t.selecting=!0,n._trigger("selecting",s,{selecting:t.element}))):(t.selecting&&((s.metaKey||s.ctrlKey)&&t.startselected?(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,n._addClass(t.$element,"ui-selected"),t.selected=!0):(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",s,{unselecting:t.element}))),t.selected&&(s.metaKey||s.ctrlKey||t.startselected||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",s,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,k(".ui-unselecting",this.element[0]).each(function(){var t=k.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),k(".ui-selecting",this.element[0]).each(function(){var t=k.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),k.widget("ui.sortable",k.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),k.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),k(t.target).parents().each(function(){return k.data(this,n.widgetName+"-item")===n?(i=k(this),!1):void 0}),k.data(t.target,n.widgetName+"-item")===n&&(i=k(t.target)),!i||this.options.handle&&!e&&(k(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,e,i){var s,n,a=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},k.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",a.cursor),this.storedStylesheet=k("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(n)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;0<=s;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return k.ui.ddmanager&&(k.ui.ddmanager.current=this),k.ui.ddmanager&&!a.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,s,n,a=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==r&&k.ui.ddmanager&&!a.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(s=(i=this.items[e]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==s&&!k.contains(this.placeholder[0],s)&&("semi-dynamic"!==this.options.type||!k.contains(this.element[0],s))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),k.ui.ddmanager&&k.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(k.ui.ddmanager&&!this.options.dropBehaviour&&k.ui.ddmanager.drop(this,t),this.options.revert){var i=this,s=this.placeholder.offset(),n=this.options.axis,a={};n&&"x"!==n||(a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,k(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new k.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),k.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?k(this.domPosition.prev).after(this.currentItem):k(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},k(t).each(function(){var t=(k(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(k(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=t.left,r=a+t.width,o=t.top,l=o+t.height,h=this.offset.click.top,d=this.offset.click.left,c="x"===this.options.axis||o<s+h&&s+h<l,u="y"===this.options.axis||a<e+d&&e+d<r,p=c&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>a&&r>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>o&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!s||!n)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){r.push(this)}var i,s,n,a,r=[],o=[],l=this._connectWith();if(l&&t)for(i=l.length-1;0<=i;i--)for(s=(n=k(l[i],this.document[0])).length-1;0<=s;s--)(a=k.data(n[s],this.widgetFullName))&&a!==this&&!a.options.disabled&&o.push([k.isFunction(a.options.items)?a.options.items.call(a.element):k(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(o.push([k.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):k(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=o.length-1;0<=i;i--)o[i][0].each(e);return k(r)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=k.grep(this.items,function(t){for(var e=0;i.length>e;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,a,r,o,l,h=this.items,d=[[k.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):k(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(e=c.length-1;0<=e;e--)for(i=(s=k(c[e],this.document[0])).length-1;0<=i;i--)(n=k.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(d.push([k.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):k(n.options.items,n.element),n]),this.containers.push(n));for(e=d.length-1;0<=e;e--)for(a=d[e][1],i=0,l=(r=d[e][0]).length;i<l;i++)(o=k(r[i])).data(this.widgetName+"-item",a),h.push({item:o,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,s,n;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?k(this.options.toleranceElement,i.item):i.item,t||(i.width=s.outerWidth(),i.height=s.outerHeight()),n=s.offset(),i.left=n.left,i.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)n=this.containers[e].element.offset(),this.containers[e].containerCache.left=n.left,this.containers[e].containerCache.top=n.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var s,n=(i=i||this).options;n.placeholder&&n.placeholder.constructor!==String||(s=n.placeholder,n.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=k("<"+t+">",i.document[0]);return i._addClass(e,"ui-sortable-placeholder",s||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),k("<tr>",i.document[0]).appendTo(e)):"tr"===t?i._createTrPlaceholder(i.currentItem,e):"img"===t&&e.attr("src",i.currentItem.attr("src")),s||e.css("visibility","hidden"),e},update:function(t,e){s&&!n.forcePlaceholderSize||(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=k(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){k("<td>&#160;</td>",i.document[0]).attr("colspan",k(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,s,n,a,r,o,l,h,d,c=null,u=null;for(e=this.containers.length-1;0<=e;e--)if(!k.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&k.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],u=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(s=1e4,n=null,a=(h=c.floating||this._isFloating(this.currentItem))?"left":"top",r=h?"width":"height",d=h?"pageX":"pageY",i=this.items.length-1;0<=i;i--)k.contains(this.containers[u].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(o=this.items[i].item.offset()[a],l=!1,t[d]-o>this.items[i][r]/2&&(l=!0),s>Math.abs(t[d]-o)&&(s=Math.abs(t[d]-o),n=this.items[i],this.direction=l?"up":"down"));if(!n&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return void(this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[u].element,!0),this._trigger("change",t,this._uiHash()),this.containers[u]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=k.isFunction(e.helper)?k(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||k("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!e.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!e.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),k.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&k.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=k(s.containment)[0],e=k(s.containment).offset(),i="hidden"!==k(t).css("overflow"),this.containment=[e.left+(parseInt(k(t).css("borderLeftWidth"),10)||0)+(parseInt(k(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(k(t).css("borderTopWidth"),10)||0)+(parseInt(k(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(k(t).css("borderLeftWidth"),10)||0)-(parseInt(k(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(k(t).css("borderTopWidth"),10)||0)-(parseInt(k(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*i}},_generatePosition:function(t){var e,i,s=this.options,n=t.pageX,a=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),s.grid&&(e=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1],a=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-s.grid[1]:e+s.grid[1]:e,i=this.originalPageX+Math.round((n-this.originalPageX)/s.grid[0])*s.grid[0],n=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-s.grid[0]:i+s.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(e,i,s){return function(t){s._trigger(e,t,i._uiHash(i))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)"auto"!==this._storedCSS[s]&&"static"!==this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;0<=s;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===k.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||k([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});var m,v,y,b,w,x,T,S,M,z,j,I,L,D,B,A,O,Q,H,R,N,W="ui-effects-",$="ui-effects-style",V="ui-effects-animated",X=k;function Y(t,e,i,s){return k.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),k.isFunction(e)&&(s=e,i=null,e={}),"number"!=typeof e&&!k.fx.speeds[e]||(s=i,i=e,e={}),k.isFunction(i)&&(s=i,i=null),e&&k.extend(t,e),i=i||e.duration,t.duration=k.fx.off?0:"number"==typeof i?i:i in k.fx.speeds?k.fx.speeds[i]:k.fx.speeds._default,t.complete=s||e.complete,t}function F(t){return!(t&&"number"!=typeof t&&!k.fx.speeds[t])||"string"==typeof t&&!k.effects.effect[t]||!!k.isFunction(t)||"object"==typeof t&&!t.effect}function G(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,s,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?s:parseFloat(n[3]),left:parseFloat(n[4])||0}}function q(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[k.camelCase(e)]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function U(t,e,i){var s=Q[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:t<0?0:s.max<t?s.max:t)}function K(r){var o=A(),l=o._rgba=[];return r=r.toLowerCase(),N(B,function(t,e){var i,s=e.re.exec(r),n=s&&e.parse(s),a=e.space||"rgba";return n?(i=o[a](n),o[O[a].cache]=i[O[a].cache],l=o._rgba=i._rgba,!1):I}),l.length?("0,0,0,0"===l.join()&&j.extend(l,L.transparent),o):L[r]}function Z(t,e,i){return 6*(i=(i+1)%1)<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+6*(e-t)*(2/3-i):t}k.effects={effect:{}},D=/^([\-+])=\s*(\d+\.?\d*)/,B=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],A=(j=X).Color=function(t,e,i,s){return new j.Color.fn.parse(t,e,i,s)},O={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},Q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},H=A.support={},R=j("<p>")[0],N=j.each,R.style.cssText="background-color:rgba(1,1,1,.5)",H.rgba=-1<R.style.backgroundColor.indexOf("rgba"),N(O,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),A.fn=j.extend(A.prototype,{parse:function(n,t,e,i){if(n===I)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=j(n).css(t),t=I);var a=this,s=j.type(n),r=this._rgba=[];return t!==I&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(K(n)||L._default):"array"===s?(N(O.rgba.props,function(t,e){r[e.idx]=U(n[e.idx],e)}),this):"object"===s?(N(O,n instanceof A?function(t,e){n[e.cache]&&(a[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;N(i.props,function(t,e){if(!a[s]&&i.to){if("alpha"===t||null==n[t])return;a[s]=i.to(a._rgba)}a[s][e.idx]=U(n[t],e,!0)}),a[s]&&j.inArray(null,a[s].slice(0,3))<0&&(a[s][3]=1,i.from&&(a._rgba=i.from(a[s])))}),this):I},is:function(t){var n=A(t),a=!0,r=this;return N(O,function(t,e){var i,s=n[e.cache];return s&&(i=r[e.cache]||e.to&&e.to(r._rgba)||[],N(e.props,function(t,e){return null!=s[e.idx]?a=s[e.idx]===i[e.idx]:I})),a}),a},_space:function(){var i=[],s=this;return N(O,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,r){var o=A(t),e=o._space(),i=O[e],s=0===this.alpha()?A("transparent"):this,l=s[i.cache]||i.to(s._rgba),h=l.slice();return o=o[i.cache],N(i.props,function(t,e){var i=e.idx,s=l[i],n=o[i],a=Q[e.type]||{};null!==n&&(null===s?h[i]=n:(a.mod&&(a.mod/2<n-s?s+=a.mod:a.mod/2<s-n&&(s-=a.mod)),h[i]=U((n-s)*r+s,e)))}),this[e](h)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=A(t)._rgba;return A(j.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=j.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=j.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+j.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),A.fn.parse.prototype=A.fn,O.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,r=t[3],o=Math.max(s,n,a),l=Math.min(s,n,a),h=o-l,d=o+l,c=.5*d;return e=l===o?0:s===o?60*(n-a)/h+360:n===o?60*(a-s)/h+120:60*(s-n)/h+240,i=0==h?0:c<=.5?h/d:h/(2-d),[Math.round(e)%360,i,c,null==r?1:r]},O.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],a=s<=.5?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*Z(r,a,e+1/3)),Math.round(255*Z(r,a,e)),Math.round(255*Z(r,a,e-1/3)),n]},N(O,function(l,t){var i=t.props,r=t.cache,o=t.to,h=t.from;A.fn[l]=function(t){if(o&&!this[r]&&(this[r]=o(this._rgba)),t===I)return this[r].slice();var e,s=j.type(t),n="array"===s||"object"===s?t:arguments,a=this[r].slice();return N(i,function(t,e){var i=n["object"===s?t:e.idx];null==i&&(i=a[e.idx]),a[e.idx]=U(i,e)}),h?((e=A(h(a)))[r]=a,e):A(a)},N(i,function(r,o){A.fn[r]||(A.fn[r]=function(t){var e,i=j.type(t),s="alpha"===r?this._hsla?"hsla":"rgba":l,n=this[s](),a=n[o.idx];return"undefined"===i?a:("function"===i&&(t=t.call(this,a),i=j.type(t)),null==t&&o.empty?this:("string"===i&&(e=D.exec(t))&&(t=a+parseFloat(e[2])*("+"===e[1]?1:-1)),n[o.idx]=t,this[s](n)))})})}),A.hook=function(t){var e=t.split(" ");N(e,function(t,a){j.cssHooks[a]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==j.type(e)||(i=K(e)))){if(e=A(i||e),!H.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===a?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=j.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[a]=e}catch(t){}}},j.fx.step[a]=function(t){t.colorInit||(t.start=A(t.elem,a),t.end=A(t.end),t.colorInit=!0),j.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})},A.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),j.cssHooks.borderColor={expand:function(i){var s={};return N(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}},L=j.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},M=["add","remove","toggle"],z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},k.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){k.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(X.style(t.elem,e,t.end),t.setAttr=!0)}}),k.fn.addBack||(k.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),k.effects.animateClass=function(n,t,e,i){var a=k.speed(t,e,i);return this.queue(function(){var t,i=k(this),e=i.attr("class")||"",s=a.children?i.find("*").addBack():i;s=s.map(function(){return{el:k(this),start:q(this)}}),(t=function(){k.each(M,function(t,e){n[e]&&i[e+"Class"](n[e])})})(),s=s.map(function(){return this.end=q(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(z[i]||!k.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",e),s=s.map(function(){var t=this,e=k.Deferred(),i=k.extend({},a,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),k.when.apply(k,s.get()).done(function(){t(),k.each(arguments,function(){var e=this.el;k.each(this.diff,function(t){e.css(t,"")})}),a.complete.call(i[0])})})},k.fn.extend({addClass:(S=k.fn.addClass,function(t,e,i,s){return e?k.effects.animateClass.call(this,{add:t},e,i,s):S.apply(this,arguments)}),removeClass:(T=k.fn.removeClass,function(t,e,i,s){return 1<arguments.length?k.effects.animateClass.call(this,{remove:t},e,i,s):T.apply(this,arguments)}),toggleClass:(x=k.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?k.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):x.apply(this,arguments):k.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return k.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}}),k.expr&&k.expr.filters&&k.expr.filters.animated&&(k.expr.filters.animated=(w=k.expr.filters.animated,function(t){return!!k(t).data(V)||w(t)})),!1!==k.uiBackCompat&&k.extend(k.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(W+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(W+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=k("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),i[0]!==n&&!k.contains(i[0],n)||k(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(k.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),k.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!k.contains(t[0],e)||k(e).trigger("focus")),t}}),k.extend(k.effects,{version:"1.12.1",define:function(t,e,i){return i||(i=e,e="effect"),k.effects.effect[t]=i,k.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data($,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data($)||"",t.removeData($)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=k("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(W+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=W+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){k.effects.restoreStyle(t),k.effects.removePlaceholder(t)},setTransition:function(s,t,n,a){return a=a||{},k.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(a[e]=i[0]*n+i[1])}),a}}),k.fn.extend({effect:function(){function t(t){function e(){k.isFunction(o)&&o.call(i[0]),k.isFunction(t)&&t()}var i=k(this);s.mode=h.shift(),!1===k.uiBackCompat||a?"none"===s.mode?(i[l](),e()):n.call(i[0],s,function(){i.removeData(V),k.effects.cleanUp(i),"hide"===s.mode&&i.hide(),e()}):(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),e()):n.call(i[0],s,e)}function e(t){var e=k(this),i=k.effects.mode(e,l)||a;e.data(V,!0),h.push(i),a&&("show"===i||i===a&&"hide"===i)&&e.show(),a&&"none"===i||k.effects.saveStyle(e),k.isFunction(t)&&t()}var s=Y.apply(this,arguments),n=k.effects.effect[s.effect],a=n.mode,i=s.queue,r=i||"fx",o=s.complete,l=s.mode,h=[];return k.fx.off||!n?l?this[l](s.duration,o):this.each(function(){o&&o.call(this)}):!1===i?this.each(e).each(t):this.queue(r,e).queue(r,t)},show:(b=k.fn.show,function(t){if(F(t))return b.apply(this,arguments);var e=Y.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(y=k.fn.hide,function(t){if(F(t))return y.apply(this,arguments);var e=Y.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(v=k.fn.toggle,function(t){if(F(t)||"boolean"==typeof t)return v.apply(this,arguments);var e=Y.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var i=this.css(t),s=[];return k.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):G(this.css("clip"),this)},transfer:function(t,e){var i=k(this),s=k(t.to),n="fixed"===s.css("position"),a=k("body"),r=n?a.scrollTop():0,o=n?a.scrollLeft():0,l=s.offset(),h={top:l.top-r,left:l.left-o,height:s.innerHeight(),width:s.innerWidth()},d=i.offset(),c=k("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-r,left:d.left-o,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){c.remove(),k.isFunction(e)&&e()})}}),k.fx.step.clip=function(t){t.clipInit||(t.start=k(t.elem).cssClip(),"string"==typeof t.end&&(t.end=G(t.end,t.elem)),t.clipInit=!0),k(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},m={},k.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){m[t]=function(t){return Math.pow(t,e+2)}}),k.extend(m,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),k.each(m,function(t,e){k.easing["easeIn"+t]=e,k.easing["easeOut"+t]=function(t){return 1-e(1-t)},k.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}}),k.effects}),function(e){if(e.support.touch="ontouchend"in document,e.support.touch){var i,t=e.ui.mouse.prototype,s=t._mouseInit;t._touchStart=function(t){!i&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,this._touchMoved=!1,n(t,"mouseover"),n(t,"mousemove"),n(t,"mousedown"))},t._touchMove=function(t){i&&(this._touchMoved=!0,n(t,"mousemove"))},t._touchEnd=function(t){i&&(n(t,"mouseup"),n(t,"mouseout"),this._touchMoved||n(t,"click"),i=!1)},t._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),s.call(t)}}function n(t,e){if(!(1<t.originalEvent.touches.length)){t.preventDefault();var i=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Swiper=e()}(this,function(){"use strict";var g="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,J="undefined"==typeof window?{document:g,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,l=function(t){for(var e=0;e<t.length;e+=1)this[e]=t[e];return this.length=t.length,this};function j(t,e){var i=[],s=0;if(t&&!e&&t instanceof l)return t;if(t)if("string"==typeof t){var n,a,r=t.trim();if(0<=r.indexOf("<")&&0<=r.indexOf(">")){var o="div";for(0===r.indexOf("<li")&&(o="ul"),0===r.indexOf("<tr")&&(o="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(o="tr"),0===r.indexOf("<tbody")&&(o="table"),0===r.indexOf("<option")&&(o="select"),(a=g.createElement(o)).innerHTML=r,s=0;s<a.childNodes.length;s+=1)i.push(a.childNodes[s])}else for(n=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||g).querySelectorAll(t.trim()):[g.getElementById(t.trim().split("#")[1])],s=0;s<n.length;s+=1)n[s]&&i.push(n[s])}else if(t.nodeType||t===J||t===g)i.push(t);else if(0<t.length&&t[0].nodeType)for(s=0;s<t.length;s+=1)i.push(t[s]);return new l(i)}function a(t){for(var e=[],i=0;i<t.length;i+=1)-1===e.indexOf(t[i])&&e.push(t[i]);return e}j.fn=l.prototype,j.Class=l,j.Dom7=l;var e={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.add(e[i]);return this},removeClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.remove(e[i]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.toggle(e[i]);return this},attr:function(t,e){var i=arguments;if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var s=0;s<this.length;s+=1)if(2===i.length)this[s].setAttribute(t,e);else for(var n in t)this[s][n]=t[n],this[s].setAttribute(n,t[n]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},data:function(t,e){var i;if(void 0!==e){for(var s=0;s<this.length;s+=1)(i=this[s]).dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[t]=e;return this}if(i=this[0])return i.dom7ElementDataStorage&&t in i.dom7ElementDataStorage?i.dom7ElementDataStorage[t]:i.getAttribute("data-"+t)||void 0},transform:function(t){for(var e=0;e<this.length;e+=1){var i=this[e].style;i.webkitTransform=t,i.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e+=1){var i=this[e].style;i.webkitTransitionDuration=t,i.transitionDuration=t}return this},on:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=t[0],a=t[1],r=t[2],s=t[3];function n(t){var e=t.target;if(e){var i=t.target.dom7EventData||[];if(i.indexOf(t)<0&&i.unshift(t),j(e).is(a))r.apply(e,i);else for(var s=j(e).parents(),n=0;n<s.length;n+=1)j(s[n]).is(a)&&r.apply(s[n],i)}}function o(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),r.apply(this,e)}"function"==typeof t[1]&&(i=t[0],r=t[1],s=t[2],a=void 0),s=s||!1;for(var l,h=i.split(" "),d=0;d<this.length;d+=1){var c=this[d];if(a)for(l=0;l<h.length;l+=1){var u=h[l];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[u]||(c.dom7LiveListeners[u]=[]),c.dom7LiveListeners[u].push({listener:r,proxyListener:n}),c.addEventListener(u,n,s)}else for(l=0;l<h.length;l+=1){var p=h[l];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[p]||(c.dom7Listeners[p]=[]),c.dom7Listeners[p].push({listener:r,proxyListener:o}),c.addEventListener(p,o,s)}}return this},off:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=t[0],s=t[1],n=t[2],a=t[3];"function"==typeof t[1]&&(i=t[0],n=t[1],a=t[2],s=void 0),a=a||!1;for(var r=i.split(" "),o=0;o<r.length;o+=1)for(var l=r[o],h=0;h<this.length;h+=1){var d=this[h],c=void 0;if(!s&&d.dom7Listeners?c=d.dom7Listeners[l]:s&&d.dom7LiveListeners&&(c=d.dom7LiveListeners[l]),c&&c.length)for(var u=c.length-1;0<=u;--u){var p=c[u];n&&p.listener===n?(d.removeEventListener(l,p.proxyListener,a),c.splice(u,1)):n&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===n?(d.removeEventListener(l,p.proxyListener,a),c.splice(u,1)):n||(d.removeEventListener(l,p.proxyListener,a),c.splice(u,1))}}return this},trigger:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=t[0].split(" "),s=t[1],n=0;n<i.length;n+=1)for(var a=i[n],r=0;r<this.length;r+=1){var o=this[r],l=void 0;try{l=new J.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0})}catch(t){(l=g.createEvent("Event")).initEvent(a,!0,!0),l.detail=s}o.dom7EventData=t.filter(function(t,e){return 0<e}),o.dispatchEvent(l),o.dom7EventData=[],delete o.dom7EventData}return this},transitionEnd:function(e){var i,s=["webkitTransitionEnd","transitionend"],n=this;function a(t){if(t.target===this)for(e.call(this,t),i=0;i<s.length;i+=1)n.off(s[i],a)}if(e)for(i=0;i<s.length;i+=1)n.on(s[i],a);return this},outerWidth:function(t){if(0<this.length){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(0<this.length){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var t=this[0],e=t.getBoundingClientRect(),i=g.body,s=t.clientTop||i.clientTop||0,n=t.clientLeft||i.clientLeft||0,a=t===J?J.scrollY:t.scrollTop,r=t===J?J.scrollX:t.scrollLeft;return{top:e.top+a-s,left:e.left+r-n}}return null},css:function(t,e){var i;if(1===arguments.length){if("string"!=typeof t){for(i=0;i<this.length;i+=1)for(var s in t)this[i].style[s]=t[s];return this}if(this[0])return J.getComputedStyle(this[0],null).getPropertyValue(t)}if(2!==arguments.length||"string"!=typeof t)return this;for(i=0;i<this.length;i+=1)this[i].style[t]=e;return this},each:function(t){if(!t)return this;for(var e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,i,s=this[0];if(!s||void 0===t)return!1;if("string"==typeof t){if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(e=j(t),i=0;i<e.length;i+=1)if(e[i]===s)return!0;return!1}if(t===g)return s===g;if(t===J)return s===J;if(t.nodeType||t instanceof l){for(e=t.nodeType?[t]:t,i=0;i<e.length;i+=1)if(e[i]===s)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e,i=this.length;return new l(i-1<t?[]:t<0?(e=i+t)<0?[]:[this[e]]:[this[t]])},append:function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var s=0;s<e.length;s+=1){t=e[s];for(var n=0;n<this.length;n+=1)if("string"==typeof t){var a=g.createElement("div");for(a.innerHTML=t;a.firstChild;)this[n].appendChild(a.firstChild)}else if(t instanceof l)for(var r=0;r<t.length;r+=1)this[n].appendChild(t[r]);else this[n].appendChild(t)}return this},prepend:function(t){var e,i;for(e=0;e<this.length;e+=1)if("string"==typeof t){var s=g.createElement("div");for(s.innerHTML=t,i=s.childNodes.length-1;0<=i;--i)this[e].insertBefore(s.childNodes[i],this[e].childNodes[0])}else if(t instanceof l)for(i=0;i<t.length;i+=1)this[e].insertBefore(t[i],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return 0<this.length?t?this[0].nextElementSibling&&j(this[0].nextElementSibling).is(t)?new l([this[0].nextElementSibling]):new l([]):this[0].nextElementSibling?new l([this[0].nextElementSibling]):new l([]):new l([])},nextAll:function(t){var e=[],i=this[0];if(!i)return new l([]);for(;i.nextElementSibling;){var s=i.nextElementSibling;t?j(s).is(t)&&e.push(s):e.push(s),i=s}return new l(e)},prev:function(t){if(0<this.length){var e=this[0];return t?e.previousElementSibling&&j(e.previousElementSibling).is(t)?new l([e.previousElementSibling]):new l([]):e.previousElementSibling?new l([e.previousElementSibling]):new l([])}return new l([])},prevAll:function(t){var e=[],i=this[0];if(!i)return new l([]);for(;i.previousElementSibling;){var s=i.previousElementSibling;t?j(s).is(t)&&e.push(s):e.push(s),i=s}return new l(e)},parent:function(t){for(var e=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(t?j(this[i].parentNode).is(t)&&e.push(this[i].parentNode):e.push(this[i].parentNode));return j(a(e))},parents:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].parentNode;s;)t?j(s).is(t)&&e.push(s):e.push(s),s=s.parentNode;return j(a(e))},closest:function(t){var e=this;return void 0===t?new l([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].querySelectorAll(t),n=0;n<s.length;n+=1)e.push(s[n]);return new l(e)},children:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].childNodes,n=0;n<s.length;n+=1)t?1===s[n].nodeType&&j(s[n]).is(t)&&e.push(s[n]):1===s[n].nodeType&&e.push(s[n]);return new l(a(e))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i,s;for(i=0;i<t.length;i+=1){var n=j(t[i]);for(s=0;s<n.length;s+=1)this[this.length]=n[s],this.length+=1}return this},styles:function(){return this[0]?J.getComputedStyle(this[0],null):{}}};Object.keys(e).forEach(function(t){j.fn[t]=e[t]});function t(t){void 0===t&&(t={});var e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach(function(t){e.on(t,e.params.on[t])})}var i,s,n,r,tt={deleteProps:function(t){var e=t;Object.keys(e).forEach(function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})},nextTick:function(t,e){return void 0===e&&(e=0),setTimeout(t,e)},now:function(){return Date.now()},getTranslate:function(t,e){var i,s,n;void 0===e&&(e="x");var a=J.getComputedStyle(t,null);return J.WebKitCSSMatrix?(6<(s=a.transform||a.webkitTransform).split(",").length&&(s=s.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),n=new J.WebKitCSSMatrix("none"===s?"":s)):i=(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(s=J.WebKitCSSMatrix?n.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(s=J.WebKitCSSMatrix?n.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0},parseUrlQuery:function(t){var e,i,s,n,a={},r=t||J.location.href;if("string"==typeof r&&r.length)for(n=(i=(r=-1<r.indexOf("?")?r.replace(/\S*\?/,""):"").split("&").filter(function(t){return""!==t})).length,e=0;e<n;e+=1)s=i[e].replace(/#\S+/g,"").split("="),a[decodeURIComponent(s[0])]=void 0===s[1]?void 0:decodeURIComponent(s[1])||"";return a},isObject:function(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object},extend:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=Object(t[0]),s=1;s<t.length;s+=1){var n=t[s];if(null!=n)for(var a=Object.keys(Object(n)),r=0,o=a.length;r<o;r+=1){var l=a[r],h=Object.getOwnPropertyDescriptor(n,l);void 0!==h&&h.enumerable&&(tt.isObject(i[l])&&tt.isObject(n[l])?tt.extend(i[l],n[l]):!tt.isObject(i[l])&&tt.isObject(n[l])?(i[l]={},tt.extend(i[l],n[l])):i[l]=n[l])}}return i}},et=(n=g.createElement("div"),{touch:J.Modernizr&&!0===J.Modernizr.touch||!!(0<J.navigator.maxTouchPoints||"ontouchstart"in J||J.DocumentTouch&&g instanceof J.DocumentTouch),pointerEvents:!!(J.navigator.pointerEnabled||J.PointerEvent||"maxTouchPoints"in J.navigator&&0<J.navigator.maxTouchPoints),prefixedPointerEvents:!!J.navigator.msPointerEnabled,transition:"transition"in(s=n.style)||"webkitTransition"in s||"MozTransition"in s,transforms3d:J.Modernizr&&!0===J.Modernizr.csstransforms3d||("webkitPerspective"in(i=n.style)||"MozPerspective"in i||"OPerspective"in i||"MsPerspective"in i||"perspective"in i),flexbox:function(){for(var t=n.style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<e.length;i+=1)if(e[i]in t)return!0;return!1}(),observer:"MutationObserver"in J||"WebkitMutationObserver"in J,passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});J.addEventListener("testPassiveListener",null,e)}catch(t){}return t}(),gestures:"ongesturestart"in J}),I={isIE:!!J.navigator.userAgent.match(/Trident/g)||!!J.navigator.userAgent.match(/MSIE/g),isEdge:!!J.navigator.userAgent.match(/Edge/g),isSafari:0<=(r=J.navigator.userAgent.toLowerCase()).indexOf("safari")&&r.indexOf("chrome")<0&&r.indexOf("android")<0,isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(J.navigator.userAgent)},o={components:{configurable:!0}};t.prototype.on=function(t,e,i){var s=this;if("function"!=typeof e)return s;var n=i?"unshift":"push";return t.split(" ").forEach(function(t){s.eventsListeners[t]||(s.eventsListeners[t]=[]),s.eventsListeners[t][n](e)}),s},t.prototype.once=function(i,s,t){var n=this;if("function"!=typeof s)return n;function a(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];s.apply(n,t),n.off(i,a),a.f7proxy&&delete a.f7proxy}return a.f7proxy=s,n.on(i,a,t)},t.prototype.off=function(t,s){var n=this;return n.eventsListeners&&t.split(" ").forEach(function(i){void 0===s?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].length&&n.eventsListeners[i].forEach(function(t,e){(t===s||t.f7proxy&&t.f7proxy===s)&&n.eventsListeners[i].splice(e,1)})}),n},t.prototype.emit=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i,s,n,a=this;return a.eventsListeners&&(n="string"==typeof t[0]||Array.isArray(t[0])?(i=t[0],s=t.slice(1,t.length),a):(i=t[0].events,s=t[0].data,t[0].context||a),(Array.isArray(i)?i:i.split(" ")).forEach(function(t){if(a.eventsListeners&&a.eventsListeners[t]){var e=[];a.eventsListeners[t].forEach(function(t){e.push(t)}),e.forEach(function(t){t.apply(n,s)})}})),a},t.prototype.useModulesParams=function(i){var s=this;s.modules&&Object.keys(s.modules).forEach(function(t){var e=s.modules[t];e.params&&tt.extend(i,e.params)})},t.prototype.useModules=function(s){void 0===s&&(s={});var n=this;n.modules&&Object.keys(n.modules).forEach(function(t){var i=n.modules[t],e=s[t]||{};i.instance&&Object.keys(i.instance).forEach(function(t){var e=i.instance[t];n[t]="function"==typeof e?e.bind(n):e}),i.on&&n.on&&Object.keys(i.on).forEach(function(t){n.on(t,i.on[t])}),i.create&&i.create.bind(n)(e)})},o.components.set=function(t){this.use&&this.use(t)},t.installModule=function(e){for(var t=[],i=arguments.length-1;0<i--;)t[i]=arguments[i+1];var s=this;s.prototype.modules||(s.prototype.modules={});var n=e.name||Object.keys(s.prototype.modules).length+"_"+tt.now();return(s.prototype.modules[n]=e).proto&&Object.keys(e.proto).forEach(function(t){s.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(function(t){s[t]=e.static[t]}),e.install&&e.install.apply(s,t),s},t.use=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];var s=this;return Array.isArray(t)?(t.forEach(function(t){return s.installModule(t)}),s):s.installModule.apply(s,[t].concat(e))},Object.defineProperties(t,o);var h={updateSize:function(){var t,e,i=this,s=i.$el;t=void 0!==i.params.width?i.params.width:s[0].clientWidth,e=void 0!==i.params.height?i.params.height:s[0].clientHeight,0===t&&i.isHorizontal()||0===e&&i.isVertical()||(t=t-parseInt(s.css("padding-left"),10)-parseInt(s.css("padding-right"),10),e=e-parseInt(s.css("padding-top"),10)-parseInt(s.css("padding-bottom"),10),tt.extend(i,{width:t,height:e,size:i.isHorizontal()?t:e}))},updateSlides:function(){var t=this,e=t.params,i=t.$wrapperEl,s=t.size,n=t.rtlTranslate,a=t.wrongRTL,r=t.virtual&&e.virtual.enabled,o=r?t.virtual.slides.length:t.slides.length,l=i.children("."+t.params.slideClass),h=r?t.virtual.slides.length:l.length,d=[],c=[],u=[],p=e.slidesOffsetBefore;"function"==typeof p&&(p=e.slidesOffsetBefore.call(t));var f=e.slidesOffsetAfter;"function"==typeof f&&(f=e.slidesOffsetAfter.call(t));var g=t.snapGrid.length,m=t.snapGrid.length,v=e.spaceBetween,y=-p,b=0,w=0;if(void 0!==s){var x,k;"string"==typeof v&&0<=v.indexOf("%")&&(v=parseFloat(v.replace("%",""))/100*s),t.virtualSize=-v,n?l.css({marginLeft:"",marginTop:""}):l.css({marginRight:"",marginBottom:""}),1<e.slidesPerColumn&&(x=Math.floor(h/e.slidesPerColumn)===h/t.params.slidesPerColumn?h:Math.ceil(h/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(x=Math.max(x,e.slidesPerView*e.slidesPerColumn)));for(var C,E=e.slidesPerColumn,_=x/E,P=Math.floor(h/e.slidesPerColumn),T=0;T<h;T+=1){k=0;var S=l.eq(T);if(1<e.slidesPerColumn){var M=void 0,z=void 0,j=void 0;"column"===e.slidesPerColumnFill?(j=T-(z=Math.floor(T/E))*E,(P<z||z===P&&j===E-1)&&E<=(j+=1)&&(j=0,z+=1),M=z+j*x/E,S.css({"-webkit-box-ordinal-group":M,"-moz-box-ordinal-group":M,"-ms-flex-order":M,"-webkit-order":M,order:M})):z=T-(j=Math.floor(T/_))*_,S.css("margin-"+(t.isHorizontal()?"top":"left"),0!==j&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",z).attr("data-swiper-row",j)}if("none"!==S.css("display")){if("auto"===e.slidesPerView){var I=J.getComputedStyle(S[0],null),L=S[0].style.transform,D=S[0].style.webkitTransform;if(L&&(S[0].style.transform="none"),D&&(S[0].style.webkitTransform="none"),e.roundLengths)k=t.isHorizontal()?S.outerWidth(!0):S.outerHeight(!0);else if(t.isHorizontal()){var B=parseFloat(I.getPropertyValue("width")),A=parseFloat(I.getPropertyValue("padding-left")),O=parseFloat(I.getPropertyValue("padding-right")),Q=parseFloat(I.getPropertyValue("margin-left")),H=parseFloat(I.getPropertyValue("margin-right")),R=I.getPropertyValue("box-sizing");k=R&&"border-box"===R?B+Q+H:B+A+O+Q+H}else{var N=parseFloat(I.getPropertyValue("height")),W=parseFloat(I.getPropertyValue("padding-top")),$=parseFloat(I.getPropertyValue("padding-bottom")),V=parseFloat(I.getPropertyValue("margin-top")),X=parseFloat(I.getPropertyValue("margin-bottom")),Y=I.getPropertyValue("box-sizing");k=Y&&"border-box"===Y?N+V+X:N+W+$+V+X}L&&(S[0].style.transform=L),D&&(S[0].style.webkitTransform=D),e.roundLengths&&(k=Math.floor(k))}else k=(s-(e.slidesPerView-1)*v)/e.slidesPerView,e.roundLengths&&(k=Math.floor(k)),l[T]&&(t.isHorizontal()?l[T].style.width=k+"px":l[T].style.height=k+"px");l[T]&&(l[T].swiperSlideSize=k),u.push(k),e.centeredSlides?(y=y+k/2+b/2+v,0===b&&0!==T&&(y=y-s/2-v),0===T&&(y=y-s/2-v),Math.abs(y)<.001&&(y=0),e.roundLengths&&(y=Math.floor(y)),w%e.slidesPerGroup==0&&d.push(y),c.push(y)):(e.roundLengths&&(y=Math.floor(y)),w%e.slidesPerGroup==0&&d.push(y),c.push(y),y=y+k+v),t.virtualSize+=k+v,b=k,w+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+f,n&&a&&("slide"===e.effect||"coverflow"===e.effect)&&i.css({width:t.virtualSize+e.spaceBetween+"px"}),et.flexbox&&!e.setWrapperSize||(t.isHorizontal()?i.css({width:t.virtualSize+e.spaceBetween+"px"}):i.css({height:t.virtualSize+e.spaceBetween+"px"})),1<e.slidesPerColumn&&(t.virtualSize=(k+e.spaceBetween)*x,t.virtualSize=Math.ceil(t.virtualSize/e.slidesPerColumn)-e.spaceBetween,t.isHorizontal()?i.css({width:t.virtualSize+e.spaceBetween+"px"}):i.css({height:t.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){C=[];for(var F=0;F<d.length;F+=1){var G=d[F];e.roundLengths&&(G=Math.floor(G)),d[F]<t.virtualSize+d[0]&&C.push(G)}d=C}if(!e.centeredSlides){C=[];for(var q=0;q<d.length;q+=1){var U=d[q];e.roundLengths&&(U=Math.floor(U)),d[q]<=t.virtualSize-s&&C.push(U)}d=C,1<Math.floor(t.virtualSize-s)-Math.floor(d[d.length-1])&&d.push(t.virtualSize-s)}if(0===d.length&&(d=[0]),0!==e.spaceBetween&&(t.isHorizontal()?n?l.css({marginLeft:v+"px"}):l.css({marginRight:v+"px"}):l.css({marginBottom:v+"px"})),e.centerInsufficientSlides){var K=0;if(u.forEach(function(t){K+=t+(e.spaceBetween?e.spaceBetween:0)}),(K-=e.spaceBetween)<s){var Z=(s-K)/2;d.forEach(function(t,e){d[e]=t-Z}),c.forEach(function(t,e){c[e]=t+Z})}}tt.extend(t,{slides:l,snapGrid:d,slidesGrid:c,slidesSizesGrid:u}),h!==o&&t.emit("slidesLengthChange"),d.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),c.length!==m&&t.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,i=this,s=[],n=0;if("number"==typeof t?i.setTransition(t):!0===t&&i.setTransition(i.params.speed),"auto"!==i.params.slidesPerView&&1<i.params.slidesPerView)for(e=0;e<Math.ceil(i.params.slidesPerView);e+=1){var a=i.activeIndex+e;if(a>i.slides.length)break;s.push(i.slides.eq(a)[0])}else s.push(i.slides.eq(i.activeIndex)[0]);for(e=0;e<s.length;e+=1)if(void 0!==s[e]){var r=s[e].offsetHeight;n=n<r?r:n}n&&i.$wrapperEl.css("height",n+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,i=e.params,s=e.slides,n=e.rtlTranslate;if(0!==s.length){void 0===s[0].swiperSlideOffset&&e.updateSlidesOffset();var a=-t;n&&(a=t),s.removeClass(i.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var r=0;r<s.length;r+=1){var o=s[r],l=(a+(i.centeredSlides?e.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+i.spaceBetween);if(i.watchSlidesVisibility){var h=-(a-o.swiperSlideOffset),d=h+e.slidesSizesGrid[r];(0<=h&&h<e.size||0<d&&d<=e.size||h<=0&&d>=e.size)&&(e.visibleSlides.push(o),e.visibleSlidesIndexes.push(r),s.eq(r).addClass(i.slideVisibleClass))}o.progress=n?-l:l}e.visibleSlides=j(e.visibleSlides)}},updateProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,i=e.params,s=e.maxTranslate()-e.minTranslate(),n=e.progress,a=e.isBeginning,r=e.isEnd,o=a,l=r;r=0==s?a=!(n=0):(a=(n=(t-e.minTranslate())/s)<=0,1<=n),tt.extend(e,{progress:n,isBeginning:a,isEnd:r}),(i.watchSlidesProgress||i.watchSlidesVisibility)&&e.updateSlidesProgress(t),a&&!o&&e.emit("reachBeginning toEdge"),r&&!l&&e.emit("reachEnd toEdge"),(o&&!a||l&&!r)&&e.emit("fromEdge"),e.emit("progress",n)},updateSlidesClasses:function(){var t,e=this,i=e.slides,s=e.params,n=e.$wrapperEl,a=e.activeIndex,r=e.realIndex,o=e.virtual&&s.virtual.enabled;i.removeClass(s.slideActiveClass+" "+s.slideNextClass+" "+s.slidePrevClass+" "+s.slideDuplicateActiveClass+" "+s.slideDuplicateNextClass+" "+s.slideDuplicatePrevClass),(t=o?e.$wrapperEl.find("."+s.slideClass+'[data-swiper-slide-index="'+a+'"]'):i.eq(a)).addClass(s.slideActiveClass),s.loop&&(t.hasClass(s.slideDuplicateClass)?n.children("."+s.slideClass+":not(."+s.slideDuplicateClass+')[data-swiper-slide-index="'+r+'"]').addClass(s.slideDuplicateActiveClass):n.children("."+s.slideClass+"."+s.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]').addClass(s.slideDuplicateActiveClass));var l=t.nextAll("."+s.slideClass).eq(0).addClass(s.slideNextClass);s.loop&&0===l.length&&(l=i.eq(0)).addClass(s.slideNextClass);var h=t.prevAll("."+s.slideClass).eq(0).addClass(s.slidePrevClass);s.loop&&0===h.length&&(h=i.eq(-1)).addClass(s.slidePrevClass),s.loop&&(l.hasClass(s.slideDuplicateClass)?n.children("."+s.slideClass+":not(."+s.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(s.slideDuplicateNextClass):n.children("."+s.slideClass+"."+s.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(s.slideDuplicateNextClass),h.hasClass(s.slideDuplicateClass)?n.children("."+s.slideClass+":not(."+s.slideDuplicateClass+')[data-swiper-slide-index="'+h.attr("data-swiper-slide-index")+'"]').addClass(s.slideDuplicatePrevClass):n.children("."+s.slideClass+"."+s.slideDuplicateClass+'[data-swiper-slide-index="'+h.attr("data-swiper-slide-index")+'"]').addClass(s.slideDuplicatePrevClass))},updateActiveIndex:function(t){var e,i=this,s=i.rtlTranslate?i.translate:-i.translate,n=i.slidesGrid,a=i.snapGrid,r=i.params,o=i.activeIndex,l=i.realIndex,h=i.snapIndex,d=t;if(void 0===d){for(var c=0;c<n.length;c+=1)void 0!==n[c+1]?s>=n[c]&&s<n[c+1]-(n[c+1]-n[c])/2?d=c:s>=n[c]&&s<n[c+1]&&(d=c+1):s>=n[c]&&(d=c);r.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if((e=0<=a.indexOf(s)?a.indexOf(s):Math.floor(d/r.slidesPerGroup))>=a.length&&(e=a.length-1),d!==o){var u=parseInt(i.slides.eq(d).attr("data-swiper-slide-index")||d,10);tt.extend(i,{snapIndex:e,realIndex:u,previousIndex:o,activeIndex:d}),i.emit("activeIndexChange"),i.emit("snapIndexChange"),l!==u&&i.emit("realIndexChange"),i.emit("slideChange")}else e!==h&&(i.snapIndex=e,i.emit("snapIndexChange"))},updateClickedSlide:function(t){var e=this,i=e.params,s=j(t.target).closest("."+i.slideClass)[0],n=!1;if(s)for(var a=0;a<e.slides.length;a+=1)e.slides[a]===s&&(n=!0);if(!s||!n)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=s,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(j(s).attr("data-swiper-slide-index"),10):e.clickedIndex=j(s).index(),i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},d={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this.params,i=this.rtlTranslate,s=this.translate,n=this.$wrapperEl;if(e.virtualTranslate)return i?-s:s;var a=tt.getTranslate(n[0],t);return i&&(a=-a),a||0},setTranslate:function(t,e){var i=this,s=i.rtlTranslate,n=i.params,a=i.$wrapperEl,r=i.progress,o=0,l=0;i.isHorizontal()?o=s?-t:t:l=t,n.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),n.virtualTranslate||(et.transforms3d?a.transform("translate3d("+o+"px, "+l+"px, 0px)"):a.transform("translate("+o+"px, "+l+"px)")),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?o:l;var h=i.maxTranslate()-i.minTranslate();(0==h?0:(t-i.minTranslate())/h)!==r&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},c={slideTo:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var n=this,a=t;a<0&&(a=0);var r=n.params,o=n.snapGrid,l=n.slidesGrid,h=n.previousIndex,d=n.activeIndex,c=n.rtlTranslate;if(n.animating&&r.preventInteractionOnTransition)return!1;var u=Math.floor(a/r.slidesPerGroup);u>=o.length&&(u=o.length-1),(d||r.initialSlide||0)===(h||0)&&i&&n.emit("beforeSlideChangeStart");var p,f=-o[u];if(n.updateProgress(f),r.normalizeSlideIndex)for(var g=0;g<l.length;g+=1)-Math.floor(100*f)>=Math.floor(100*l[g])&&(a=g);if(n.initialized&&a!==d){if(!n.allowSlideNext&&f<n.translate&&f<n.minTranslate())return!1;if(!n.allowSlidePrev&&f>n.translate&&f>n.maxTranslate()&&(d||0)!==a)return!1}return p=d<a?"next":a<d?"prev":"reset",c&&-f===n.translate||!c&&f===n.translate?(n.updateActiveIndex(a),r.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),"slide"!==r.effect&&n.setTranslate(f),"reset"!=p&&(n.transitionStart(i,p),n.transitionEnd(i,p)),!1):(0!==e&&et.transition?(n.setTransition(e),n.setTranslate(f),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,s),n.transitionStart(i,p),n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(t){n&&!n.destroyed&&t.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(i,p))}),n.$wrapperEl[0].addEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd))):(n.setTransition(0),n.setTranslate(f),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,s),n.transitionStart(i,p),n.transitionEnd(i,p)),!0)},slideToLoop:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var n=t;return this.params.loop&&(n+=this.loopedSlides),this.slideTo(n,e,i,s)},slideNext:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var s=this.params,n=this.animating;return s.loop?!n&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+s.slidesPerGroup,t,e,i)):this.slideTo(this.activeIndex+s.slidesPerGroup,t,e,i)},slidePrev:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var s=this,n=s.params,a=s.animating,r=s.snapGrid,o=s.slidesGrid,l=s.rtlTranslate;if(n.loop){if(a)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function h(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var d,c=h(l?s.translate:-s.translate),u=r.map(function(t){return h(t)}),p=(o.map(function(t){return h(t)}),r[u.indexOf(c)],r[u.indexOf(c)-1]);return void 0!==p&&(d=o.indexOf(p))<0&&(d=s.activeIndex-1),s.slideTo(d,t,e,i)},slideReset:function(t,e,i){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,i)},slideToClosest:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var s=this,n=s.activeIndex,a=Math.floor(n/s.params.slidesPerGroup);if(a<s.snapGrid.length-1){var r=s.rtlTranslate?s.translate:-s.translate,o=s.snapGrid[a];(s.snapGrid[a+1]-o)/2<r-o&&(n=s.params.slidesPerGroup)}return s.slideTo(n,t,e,i)},slideToClickedSlide:function(){var t,e=this,i=e.params,s=e.$wrapperEl,n="auto"===i.slidesPerView?e.slidesPerViewDynamic():i.slidesPerView,a=e.clickedIndex;if(i.loop){if(e.animating)return;t=parseInt(j(e.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?a<e.loopedSlides-n/2||a>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),a=s.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),tt.nextTick(function(){e.slideTo(a)})):e.slideTo(a):a>e.slides.length-n?(e.loopFix(),a=s.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),tt.nextTick(function(){e.slideTo(a)})):e.slideTo(a)}else e.slideTo(a)}},u={loopCreate:function(){var s=this,t=s.params,e=s.$wrapperEl;e.children("."+t.slideClass+"."+t.slideDuplicateClass).remove();var n=e.children("."+t.slideClass);if(t.loopFillGroupWithBlank){var i=t.slidesPerGroup-n.length%t.slidesPerGroup;if(i!==t.slidesPerGroup){for(var a=0;a<i;a+=1){var r=j(g.createElement("div")).addClass(t.slideClass+" "+t.slideBlankClass);e.append(r)}n=e.children("."+t.slideClass)}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=n.length),s.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),s.loopedSlides+=t.loopAdditionalSlides,s.loopedSlides>n.length&&(s.loopedSlides=n.length);var o=[],l=[];n.each(function(t,e){var i=j(e);t<s.loopedSlides&&l.push(e),t<n.length&&t>=n.length-s.loopedSlides&&o.push(e),i.attr("data-swiper-slide-index",t)});for(var h=0;h<l.length;h+=1)e.append(j(l[h].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var d=o.length-1;0<=d;--d)e.prepend(j(o[d].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function(){var t,e=this,i=e.params,s=e.activeIndex,n=e.slides,a=e.loopedSlides,r=e.allowSlidePrev,o=e.allowSlideNext,l=e.snapGrid,h=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var d=-l[s]-e.getTranslate();s<a?(t=n.length-3*a+s,t+=a,e.slideTo(t,0,!1,!0)&&0!=d&&e.setTranslate((h?-e.translate:e.translate)-d)):("auto"===i.slidesPerView&&2*a<=s||s>=n.length-a)&&(t=-n.length+s+a,t+=a,e.slideTo(t,0,!1,!0)&&0!=d&&e.setTranslate((h?-e.translate:e.translate)-d)),e.allowSlidePrev=r,e.allowSlideNext=o},loopDestroy:function(){var t=this.$wrapperEl,e=this.params,i=this.slides;t.children("."+e.slideClass+"."+e.slideDuplicateClass+",."+e.slideClass+"."+e.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},p={setGrabCursor:function(t){if(!(et.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){et.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},f={appendSlide:function(t){var e=this.$wrapperEl,i=this.params;if(i.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(var s=0;s<t.length;s+=1)t[s]&&e.append(t[s]);else e.append(t);i.loop&&this.loopCreate(),i.observer&&et.observer||this.update()},prependSlide:function(t){var e=this.params,i=this.$wrapperEl,s=this.activeIndex;e.loop&&this.loopDestroy();var n=s+1;if("object"==typeof t&&"length"in t){for(var a=0;a<t.length;a+=1)t[a]&&i.prepend(t[a]);n=s+t.length}else i.prepend(t);e.loop&&this.loopCreate(),e.observer&&et.observer||this.update(),this.slideTo(n,0,!1)},addSlide:function(t,e){var i=this,s=i.$wrapperEl,n=i.params,a=i.activeIndex;n.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.slides=s.children("."+n.slideClass));var r=i.slides.length;if(t<=0)i.prependSlide(e);else if(r<=t)i.appendSlide(e);else{for(var o=t<a?a+1:a,l=[],h=r-1;t<=h;--h){var d=i.slides.eq(h);d.remove(),l.unshift(d)}if("object"==typeof e&&"length"in e){for(var c=0;c<e.length;c+=1)e[c]&&s.append(e[c]);o=t<a?a+e.length:a}else s.append(e);for(var u=0;u<l.length;u+=1)s.append(l[u]);n.loop&&i.loopCreate(),n.observer&&et.observer||i.update(),n.loop?i.slideTo(o+i.loopedSlides,0,!1):i.slideTo(o,0,!1)}},removeSlide:function(t){var e=this,i=e.params,s=e.$wrapperEl,n=e.activeIndex;i.loop&&(n-=e.loopedSlides,e.loopDestroy(),e.slides=s.children("."+i.slideClass));var a,r=n;if("object"==typeof t&&"length"in t){for(var o=0;o<t.length;o+=1)a=t[o],e.slides[a]&&e.slides.eq(a).remove(),a<r&&--r;r=Math.max(r,0)}else a=t,e.slides[a]&&e.slides.eq(a).remove(),a<r&&--r,r=Math.max(r,0);i.loop&&e.loopCreate(),i.observer&&et.observer||e.update(),i.loop?e.slideTo(r+e.loopedSlides,0,!1):e.slideTo(r,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},m=function(){var t=J.navigator.userAgent,e={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:J.cordova||J.phonegap,phonegap:J.cordova||J.phonegap},i=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),s=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),a=t.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(i&&(e.os="windows",e.osVersion=i[2],e.windows=!0),s&&!i&&(e.os="android",e.osVersion=s[2],e.android=!0,e.androidChrome=0<=t.toLowerCase().indexOf("chrome")),(n||r||a)&&(e.os="ios",e.ios=!0),r&&!a&&(e.osVersion=r[2].replace(/_/g,"."),e.iphone=!0),n&&(e.osVersion=n[2].replace(/_/g,"."),e.ipad=!0),a&&(e.osVersion=a[3]?a[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&0<=t.indexOf("Version/")&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.desktop=!(e.os||e.android||e.webView),e.webView=(r||n||a)&&t.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var o=e.osVersion.split("."),l=g.querySelector('meta[name="viewport"]');e.minimalUi=!e.webView&&(a||r)&&(1*o[0]==7?1<=1*o[1]:7<1*o[0])&&l&&0<=l.getAttribute("content").indexOf("minimal-ui")}return e.pixelRatio=J.devicePixelRatio||1,e}();function v(){var t=this,e=t.params,i=t.el;if(!i||0!==i.offsetWidth){e.breakpoints&&t.setBreakpoint();var s=t.allowSlideNext,n=t.allowSlidePrev,a=t.snapGrid;if(t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),e.freeMode){var r=Math.min(Math.max(t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(r),t.updateActiveIndex(),t.updateSlidesClasses(),e.autoHeight&&t.updateAutoHeight()}else t.updateSlidesClasses(),("auto"===e.slidesPerView||1<e.slidesPerView)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0);t.allowSlidePrev=n,t.allowSlideNext=s,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}}var y={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},b={update:h,translate:d,transition:{setTransition:function(t,e){this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var i=this.activeIndex,s=this.params,n=this.previousIndex;s.autoHeight&&this.updateAutoHeight();var a=e;if(a=a||(n<i?"next":i<n?"prev":"reset"),this.emit("transitionStart"),t&&i!==n){if("reset"===a)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===a?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(t,e){void 0===t&&(t=!0);var i=this.activeIndex,s=this.previousIndex;this.animating=!1,this.setTransition(0);var n=e;if(n=n||(s<i?"next":i<s?"prev":"reset"),this.emit("transitionEnd"),t&&i!==s){if("reset"===n)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===n?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},slide:c,loop:u,grabCursor:p,manipulation:f,events:{attachEvents:function(){var t=this,e=t.params,i=t.touchEvents,s=t.el,n=t.wrapperEl;t.onTouchStart=function(t){var e=this,i=e.touchEventsData,s=e.params,n=e.touches;if(!e.animating||!s.preventInteractionOnTransition){var a=t;if(a.originalEvent&&(a=a.originalEvent),i.isTouchEvent="touchstart"===a.type,(i.isTouchEvent||!("which"in a)||3!==a.which)&&!(!i.isTouchEvent&&"button"in a&&0<a.button||i.isTouched&&i.isMoved))if(s.noSwiping&&j(a.target).closest(s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass)[0])e.allowClick=!0;else if(!s.swipeHandler||j(a).closest(s.swipeHandler)[0]){n.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,n.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var r=n.currentX,o=n.currentY,l=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,h=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(!l||!(r<=h||r>=J.screen.width-h)){if(tt.extend(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),n.startX=r,n.startY=o,i.touchStartTime=tt.now(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,0<s.threshold&&(i.allowThresholdMove=!1),"touchstart"!==a.type){var d=!0;j(a.target).is(i.formElements)&&(d=!1),g.activeElement&&j(g.activeElement).is(i.formElements)&&g.activeElement!==a.target&&g.activeElement.blur();var c=d&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||c)&&a.preventDefault()}e.emit("touchStart",a)}}}}.bind(t),t.onTouchMove=function(t){var e=this,i=e.touchEventsData,s=e.params,n=e.touches,a=e.rtlTranslate,r=t;if(r.originalEvent&&(r=r.originalEvent),i.isTouched){if(!i.isTouchEvent||"mousemove"!==r.type){var o="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX,l="touchmove"===r.type?r.targetTouches[0].pageY:r.pageY;if(r.preventedByNestedSwiper)return n.startX=o,void(n.startY=l);if(!e.allowTouchMove)return e.allowClick=!1,void(i.isTouched&&(tt.extend(n,{startX:o,startY:l,currentX:o,currentY:l}),i.touchStartTime=tt.now()));if(i.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(e.isVertical()){if(l<n.startY&&e.translate<=e.maxTranslate()||l>n.startY&&e.translate>=e.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(o<n.startX&&e.translate<=e.maxTranslate()||o>n.startX&&e.translate>=e.minTranslate())return;if(i.isTouchEvent&&g.activeElement&&r.target===g.activeElement&&j(r.target).is(i.formElements))return i.isMoved=!0,void(e.allowClick=!1);if(i.allowTouchCallbacks&&e.emit("touchMove",r),!(r.targetTouches&&1<r.targetTouches.length)){n.currentX=o,n.currentY=l;var h,d=n.currentX-n.startX,c=n.currentY-n.startY;if(!(e.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(c,2))<e.params.threshold))if(void 0===i.isScrolling&&(e.isHorizontal()&&n.currentY===n.startY||e.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:25<=d*d+c*c&&(h=180*Math.atan2(Math.abs(c),Math.abs(d))/Math.PI,i.isScrolling=e.isHorizontal()?h>s.touchAngle:90-h>s.touchAngle)),i.isScrolling&&e.emit("touchMoveOpposite",r),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){e.allowClick=!1,r.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&r.stopPropagation(),i.isMoved||(s.loop&&e.loopFix(),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating&&e.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!s.grabCursor||!0!==e.allowSlideNext&&!0!==e.allowSlidePrev||e.setGrabCursor(!0),e.emit("sliderFirstMove",r)),e.emit("sliderMove",r),i.isMoved=!0;var u=e.isHorizontal()?d:c;n.diff=u,u*=s.touchRatio,a&&(u=-u),e.swipeDirection=0<u?"prev":"next",i.currentTranslate=u+i.startTranslate;var p=!0,f=s.resistanceRatio;if(s.touchReleaseOnEdges&&(f=0),0<u&&i.currentTranslate>e.minTranslate()?(p=!1,s.resistance&&(i.currentTranslate=e.minTranslate()-1+Math.pow(-e.minTranslate()+i.startTranslate+u,f))):u<0&&i.currentTranslate<e.maxTranslate()&&(p=!1,s.resistance&&(i.currentTranslate=e.maxTranslate()+1-Math.pow(e.maxTranslate()-i.startTranslate-u,f))),p&&(r.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),0<s.threshold){if(!(Math.abs(u)>s.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=e.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}s.followFinger&&((s.freeMode||s.watchSlidesProgress||s.watchSlidesVisibility)&&(e.updateActiveIndex(),e.updateSlidesClasses()),s.freeMode&&(0===i.velocities.length&&i.velocities.push({position:n[e.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:n[e.isHorizontal()?"currentX":"currentY"],time:tt.now()})),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}}}}else i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",r)}.bind(t),t.onTouchEnd=function(t){var e=this,i=e.touchEventsData,s=e.params,n=e.touches,a=e.rtlTranslate,r=e.$wrapperEl,o=e.slidesGrid,l=e.snapGrid,h=t;if(h.originalEvent&&(h=h.originalEvent),i.allowTouchCallbacks&&e.emit("touchEnd",h),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var d,c=tt.now(),u=c-i.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(h),e.emit("tap",h),u<300&&300<c-i.lastClickTime&&(i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=tt.nextTick(function(){e&&!e.destroyed&&e.emit("click",h)},300)),u<300&&c-i.lastClickTime<300&&(i.clickTimeout&&clearTimeout(i.clickTimeout),e.emit("doubleTap",h))),i.lastClickTime=tt.now(),tt.nextTick(function(){e.destroyed||(e.allowClick=!0)}),!i.isTouched||!i.isMoved||!e.swipeDirection||0===n.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,d=s.followFinger?a?e.translate:-e.translate:-i.currentTranslate,s.freeMode){if(d<-e.minTranslate())return void e.slideTo(e.activeIndex);if(d>-e.maxTranslate())return void(e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1));if(s.freeModeMomentum){if(1<i.velocities.length){var p=i.velocities.pop(),f=i.velocities.pop(),g=p.position-f.position,m=p.time-f.time;e.velocity=g/m,e.velocity/=2,Math.abs(e.velocity)<s.freeModeMinimumVelocity&&(e.velocity=0),(150<m||300<tt.now()-p.time)&&(e.velocity=0)}else e.velocity=0;e.velocity*=s.freeModeMomentumVelocityRatio,i.velocities.length=0;var v=1e3*s.freeModeMomentumRatio,y=e.velocity*v,b=e.translate+y;a&&(b=-b);var w,x,k=!1,C=20*Math.abs(e.velocity)*s.freeModeMomentumBounceRatio;if(b<e.maxTranslate())s.freeModeMomentumBounce?(b+e.maxTranslate()<-C&&(b=e.maxTranslate()-C),w=e.maxTranslate(),k=!0,i.allowMomentumBounce=!0):b=e.maxTranslate(),s.loop&&s.centeredSlides&&(x=!0);else if(b>e.minTranslate())s.freeModeMomentumBounce?(b-e.minTranslate()>C&&(b=e.minTranslate()+C),w=e.minTranslate(),k=!0,i.allowMomentumBounce=!0):b=e.minTranslate(),s.loop&&s.centeredSlides&&(x=!0);else if(s.freeModeSticky){for(var E,_=0;_<l.length;_+=1)if(l[_]>-b){E=_;break}b=-(Math.abs(l[E]-b)<Math.abs(l[E-1]-b)||"next"===e.swipeDirection?l[E]:l[E-1])}if(x&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity)v=a?Math.abs((-b-e.translate)/e.velocity):Math.abs((b-e.translate)/e.velocity);else if(s.freeModeSticky)return void e.slideToClosest();s.freeModeMomentumBounce&&k?(e.updateProgress(w),e.setTransition(v),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,r.transitionEnd(function(){e&&!e.destroyed&&i.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(s.speed),e.setTranslate(w),r.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))})):e.velocity?(e.updateProgress(b),e.setTransition(v),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,r.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}else if(s.freeModeSticky)return void e.slideToClosest();(!s.freeModeMomentum||u>=s.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var P=0,T=e.slidesSizesGrid[0],S=0;S<o.length;S+=s.slidesPerGroup)void 0!==o[S+s.slidesPerGroup]?d>=o[S]&&d<o[S+s.slidesPerGroup]&&(T=o[(P=S)+s.slidesPerGroup]-o[S]):d>=o[S]&&(P=S,T=o[o.length-1]-o[o.length-2]);var M=(d-o[P])/T;if(u>s.longSwipesMs){if(!s.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(M>=s.longSwipesRatio?e.slideTo(P+s.slidesPerGroup):e.slideTo(P)),"prev"===e.swipeDirection&&(M>1-s.longSwipesRatio?e.slideTo(P+s.slidesPerGroup):e.slideTo(P))}else{if(!s.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(P+s.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(P)}}}.bind(t),t.onClick=function(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}.bind(t);var a="container"===e.touchEventsTarget?s:n,r=!!e.nested;if(et.touch||!et.pointerEvents&&!et.prefixedPointerEvents){if(et.touch){var o=!("touchstart"!==i.start||!et.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};a.addEventListener(i.start,t.onTouchStart,o),a.addEventListener(i.move,t.onTouchMove,et.passiveListener?{passive:!1,capture:r}:r),a.addEventListener(i.end,t.onTouchEnd,o)}(e.simulateTouch&&!m.ios&&!m.android||e.simulateTouch&&!et.touch&&m.ios)&&(a.addEventListener("mousedown",t.onTouchStart,!1),g.addEventListener("mousemove",t.onTouchMove,r),g.addEventListener("mouseup",t.onTouchEnd,!1))}else a.addEventListener(i.start,t.onTouchStart,!1),g.addEventListener(i.move,t.onTouchMove,r),g.addEventListener(i.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&a.addEventListener("click",t.onClick,!0),t.on(m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",v,!0)},detachEvents:function(){var t=this,e=t.params,i=t.touchEvents,s=t.el,n=t.wrapperEl,a="container"===e.touchEventsTarget?s:n,r=!!e.nested;if(et.touch||!et.pointerEvents&&!et.prefixedPointerEvents){if(et.touch){var o=!("onTouchStart"!==i.start||!et.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};a.removeEventListener(i.start,t.onTouchStart,o),a.removeEventListener(i.move,t.onTouchMove,r),a.removeEventListener(i.end,t.onTouchEnd,o)}(e.simulateTouch&&!m.ios&&!m.android||e.simulateTouch&&!et.touch&&m.ios)&&(a.removeEventListener("mousedown",t.onTouchStart,!1),g.removeEventListener("mousemove",t.onTouchMove,r),g.removeEventListener("mouseup",t.onTouchEnd,!1))}else a.removeEventListener(i.start,t.onTouchStart,!1),g.removeEventListener(i.move,t.onTouchMove,r),g.removeEventListener(i.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&a.removeEventListener("click",t.onClick,!0),t.off(m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",v)}},breakpoints:{setBreakpoint:function(){var t=this,e=t.activeIndex,i=t.initialized,s=t.loopedSlides;void 0===s&&(s=0);var n=t.params,a=n.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var r=t.getBreakpoint(a);if(r&&t.currentBreakpoint!==r){var o=r in a?a[r]:void 0;o&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(t){var e=o[t];void 0!==e&&(o[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")});var l=o||t.originalParams,h=l.direction&&l.direction!==n.direction,d=n.loop&&(l.slidesPerView!==n.slidesPerView||h);h&&i&&t.changeDirection(),tt.extend(t.params,l),tt.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=r,d&&i&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-s+t.loopedSlides,0,!1)),t.emit("breakpoint",l)}}},getBreakpoint:function(t){if(t){var e=!1,i=[];Object.keys(t).forEach(function(t){i.push(t)}),i.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)});for(var s=0;s<i.length;s+=1){var n=i[s];this.params.breakpointsInverse?n<=J.innerWidth&&(e=n):n>=J.innerWidth&&!e&&(e=n)}return e||"max"}}},checkOverflow:{checkOverflow:function(){var t=this,e=t.isLocked;t.isLocked=1===t.snapGrid.length,t.allowSlideNext=!t.isLocked,t.allowSlidePrev=!t.isLocked,e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock"),e&&e!==t.isLocked&&(t.isEnd=!1,t.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,i=this.params,t=this.rtl,s=this.$el,n=[];n.push("initialized"),n.push(i.direction),i.freeMode&&n.push("free-mode"),et.flexbox||n.push("no-flexbox"),i.autoHeight&&n.push("autoheight"),t&&n.push("rtl"),1<i.slidesPerColumn&&n.push("multirow"),m.android&&n.push("android"),m.ios&&n.push("ios"),(I.isIE||I.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&n.push("wp8-"+i.direction),n.forEach(function(t){e.push(i.containerModifierClass+t)}),s.addClass(e.join(" "))},removeClasses:function(){var t=this.$el,e=this.classNames;t.removeClass(e.join(" "))}},images:{loadImage:function(t,e,i,s,n,a){var r;function o(){a&&a()}t.complete&&n?o():e?((r=new J.Image).onload=o,r.onerror=o,s&&(r.sizes=s),i&&(r.srcset=i),e&&(r.src=e)):o()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var i=0;i<t.imagesToLoad.length;i+=1){var s=t.imagesToLoad[i];t.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,e)}}}},w={},x=function(c){function u(){for(var t,n,e=[],i=arguments.length;i--;)e[i]=arguments[i];n=(n=1===e.length&&e[0].constructor&&e[0].constructor===Object?e[0]:(t=e[0],e[1]))||{},n=tt.extend({},n),t&&!n.el&&(n.el=t),c.call(this,n),Object.keys(b).forEach(function(e){Object.keys(b[e]).forEach(function(t){u.prototype[t]||(u.prototype[t]=b[e][t])})});var a=this;void 0===a.modules&&(a.modules={}),Object.keys(a.modules).forEach(function(t){var e=a.modules[t];if(e.params){var i=Object.keys(e.params)[0],s=e.params[i];if("object"!=typeof s||null===s)return;if(!(i in n&&"enabled"in s))return;!0===n[i]&&(n[i]={enabled:!0}),"object"!=typeof n[i]||"enabled"in n[i]||(n[i].enabled=!0),n[i]||(n[i]={enabled:!1})}});var s=tt.extend({},y);a.useModulesParams(s),a.params=tt.extend({},s,w,n),a.originalParams=tt.extend({},a.params),a.passedParams=tt.extend({},n);var r=(a.$=j)(a.params.el);if(t=r[0]){if(1<r.length){var o=[];return r.each(function(t,e){var i=tt.extend({},n,{el:e});o.push(new u(i))}),o}t.swiper=a,r.data("swiper",a);var l,h,d=r.children("."+a.params.wrapperClass);return tt.extend(a,{$el:r,el:t,$wrapperEl:d,wrapperEl:d[0],classNames:[],slides:j(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},rtl:"rtl"===t.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===a.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===d.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend"],h=["mousedown","mousemove","mouseup"],et.pointerEvents?h=["pointerdown","pointermove","pointerup"]:et.prefixedPointerEvents&&(h=["MSPointerDown","MSPointerMove","MSPointerUp"]),a.touchEventsTouch={start:l[0],move:l[1],end:l[2]},a.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},et.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:tt.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.useModules(),a.params.init&&a.init(),a}}c&&(u.__proto__=c);var t={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((u.prototype=Object.create(c&&c.prototype)).constructor=u).prototype.slidesPerViewDynamic=function(){var t=this.params,e=this.slides,i=this.slidesGrid,s=this.size,n=this.activeIndex,a=1;if(t.centeredSlides){for(var r,o=e[n].swiperSlideSize,l=n+1;l<e.length;l+=1)e[l]&&!r&&(a+=1,s<(o+=e[l].swiperSlideSize)&&(r=!0));for(var h=n-1;0<=h;--h)e[h]&&!r&&(a+=1,s<(o+=e[h].swiperSlideSize)&&(r=!0))}else for(var d=n+1;d<e.length;d+=1)i[d]-i[n]<s&&(a+=1);return a},u.prototype.update=function(){var i=this;if(i&&!i.destroyed){var t=i.snapGrid,e=i.params;e.breakpoints&&i.setBreakpoint(),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.params.freeMode?(s(),i.params.autoHeight&&i.updateAutoHeight()):(("auto"===i.params.slidesPerView||1<i.params.slidesPerView)&&i.isEnd&&!i.params.centeredSlides?i.slideTo(i.slides.length-1,0,!1,!0):i.slideTo(i.activeIndex,0,!1,!0))||s(),e.watchOverflow&&t!==i.snapGrid&&i.checkOverflow(),i.emit("update")}function s(){var t=i.rtlTranslate?-1*i.translate:i.translate,e=Math.min(Math.max(t,i.maxTranslate()),i.minTranslate());i.setTranslate(e),i.updateActiveIndex(),i.updateSlidesClasses()}},u.prototype.changeDirection=function(i,t){void 0===t&&(t=!0);var e=this,s=e.params.direction;return(i=i||("horizontal"===s?"vertical":"horizontal"))===s||"horizontal"!==i&&"vertical"!==i||("vertical"===s&&(e.$el.removeClass(e.params.containerModifierClass+"vertical wp8-vertical").addClass(""+e.params.containerModifierClass+i),(I.isIE||I.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&e.$el.addClass(e.params.containerModifierClass+"wp8-"+i)),"horizontal"===s&&(e.$el.removeClass(e.params.containerModifierClass+"horizontal wp8-horizontal").addClass(""+e.params.containerModifierClass+i),(I.isIE||I.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&e.$el.addClass(e.params.containerModifierClass+"wp8-"+i)),e.params.direction=i,e.slides.each(function(t,e){"vertical"===i?e.style.width="":e.style.height=""}),e.emit("changeDirection"),t&&e.update()),e},u.prototype.init=function(){var t=this;t.initialized||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"))},u.prototype.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var i=this,s=i.params,n=i.$el,a=i.$wrapperEl,r=i.slides;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),e&&(i.removeClasses(),n.removeAttr("style"),a.removeAttr("style"),r&&r.length&&r.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(function(t){i.off(t)}),!1!==t&&(i.$el[0].swiper=null,i.$el.data("swiper",null),tt.deleteProps(i)),i.destroyed=!0),null},u.extendDefaults=function(t){tt.extend(w,t)},t.extendedDefaults.get=function(){return w},t.defaults.get=function(){return y},t.Class.get=function(){return c},t.$.get=function(){return j},Object.defineProperties(u,t),u}(t),k={name:"device",proto:{device:m},static:{device:m}},C={name:"support",proto:{support:et},static:{support:et}},E={name:"browser",proto:{browser:I},static:{browser:I}},_={name:"resize",create:function(){var t=this;tt.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){J.addEventListener("resize",this.resize.resizeHandler),J.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){J.removeEventListener("resize",this.resize.resizeHandler),J.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},P={func:J.MutationObserver||J.WebkitMutationObserver,attach:function(t,e){void 0===e&&(e={});var i=this,s=new P.func(function(t){if(1!==t.length){var e=function(){i.emit("observerUpdate",t[0])};J.requestAnimationFrame?J.requestAnimationFrame(e):J.setTimeout(e,0)}else i.emit("observerUpdate",t[0])});s.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),i.observer.observers.push(s)},init:function(){if(et.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}},T={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){tt.extend(this,{observer:{init:P.init.bind(this),attach:P.attach.bind(this),destroy:P.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},S={update:function(t){var e=this,i=e.params,s=i.slidesPerView,n=i.slidesPerGroup,a=i.centeredSlides,r=e.params.virtual,o=r.addSlidesBefore,l=r.addSlidesAfter,h=e.virtual,d=h.from,c=h.to,u=h.slides,p=h.slidesGrid,f=h.renderSlide,g=h.offset;e.updateActiveIndex();var m,v,y,b=e.activeIndex||0;m=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",y=a?(v=Math.floor(s/2)+n+o,Math.floor(s/2)+n+l):(v=s+(n-1)+o,n+l);var w=Math.max((b||0)-y,0),x=Math.min((b||0)+v,u.length-1),k=(e.slidesGrid[w]||0)-(e.slidesGrid[0]||0);function C(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(tt.extend(e.virtual,{from:w,to:x,offset:k,slidesGrid:e.slidesGrid}),d===w&&c===x&&!t)return e.slidesGrid!==p&&k!==g&&e.slides.css(m,k+"px"),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:k,from:w,to:x,slides:function(){for(var t=[],e=w;e<=x;e+=1)t.push(u[e]);return t}()}),void C();var E=[],_=[];if(t)e.$wrapperEl.find("."+e.params.slideClass).remove();else for(var P=d;P<=c;P+=1)(P<w||x<P)&&e.$wrapperEl.find("."+e.params.slideClass+'[data-swiper-slide-index="'+P+'"]').remove();for(var T=0;T<u.length;T+=1)w<=T&&T<=x&&(void 0===c||t?_.push(T):(c<T&&_.push(T),T<d&&E.push(T)));_.forEach(function(t){e.$wrapperEl.append(f(u[t],t))}),E.sort(function(t,e){return e-t}).forEach(function(t){e.$wrapperEl.prepend(f(u[t],t))}),e.$wrapperEl.children(".swiper-slide").css(m,k+"px"),C()},renderSlide:function(t,e){var i=this.params.virtual;if(i.cache&&this.virtual.cache[e])return this.virtual.cache[e];var s=i.renderSlide?j(i.renderSlide.call(this,t,e)):j('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+e+'">'+t+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",e),i.cache&&(this.virtual.cache[e]=s),s},appendSlide:function(t){if("object"==typeof t&&"length"in t)for(var e=0;e<t.length;e+=1)t[e]&&this.virtual.slides.push(t[e]);else this.virtual.slides.push(t);this.virtual.update(!0)},prependSlide:function(t){var e=this.activeIndex,i=e+1,s=1;if(Array.isArray(t)){for(var n=0;n<t.length;n+=1)t[n]&&this.virtual.slides.unshift(t[n]);i=e+t.length,s=t.length}else this.virtual.slides.unshift(t);if(this.params.virtual.cache){var a=this.virtual.cache,r={};Object.keys(a).forEach(function(t){r[parseInt(t,10)+s]=a[t]}),this.virtual.cache=r}this.virtual.update(!0),this.slideTo(i,0)},removeSlide:function(t){if(null!=t){var e=this.activeIndex;if(Array.isArray(t))for(var i=t.length-1;0<=i;--i)this.virtual.slides.splice(t[i],1),this.params.virtual.cache&&delete this.virtual.cache[t[i]],t[i]<e&&--e,e=Math.max(e,0);else this.virtual.slides.splice(t,1),this.params.virtual.cache&&delete this.virtual.cache[t],t<e&&--e,e=Math.max(e,0);this.virtual.update(!0),this.slideTo(e,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},M={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){tt.extend(this,{virtual:{update:S.update.bind(this),appendSlide:S.appendSlide.bind(this),prependSlide:S.prependSlide.bind(this),removeSlide:S.removeSlide.bind(this),removeAllSlides:S.removeAllSlides.bind(this),renderSlide:S.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t),this.params.initialSlide||this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},z={handle:function(t){var e=this,i=e.rtlTranslate,s=t;s.originalEvent&&(s=s.originalEvent);var n=s.keyCode||s.charCode;if(!e.allowSlideNext&&(e.isHorizontal()&&39===n||e.isVertical()&&40===n))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&37===n||e.isVertical()&&38===n))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey||g.activeElement&&g.activeElement.nodeName&&("input"===g.activeElement.nodeName.toLowerCase()||"textarea"===g.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(37===n||39===n||38===n||40===n)){var a=!1;if(0<e.$el.parents("."+e.params.slideClass).length&&0===e.$el.parents("."+e.params.slideActiveClass).length)return;var r=J.innerWidth,o=J.innerHeight,l=e.$el.offset();i&&(l.left-=e.$el[0].scrollLeft);for(var h=[[l.left,l.top],[l.left+e.width,l.top],[l.left,l.top+e.height],[l.left+e.width,l.top+e.height]],d=0;d<h.length;d+=1){var c=h[d];0<=c[0]&&c[0]<=r&&0<=c[1]&&c[1]<=o&&(a=!0)}if(!a)return}e.isHorizontal()?(37!==n&&39!==n||(s.preventDefault?s.preventDefault():s.returnValue=!1),(39===n&&!i||37===n&&i)&&e.slideNext(),(37===n&&!i||39===n&&i)&&e.slidePrev()):(38!==n&&40!==n||(s.preventDefault?s.preventDefault():s.returnValue=!1),40===n&&e.slideNext(),38===n&&e.slidePrev()),e.emit("keyPress",n)}},enable:function(){this.keyboard.enabled||(j(g).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(j(g).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},L={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){tt.extend(this,{keyboard:{enabled:!1,enable:z.enable.bind(this),disable:z.disable.bind(this),handle:z.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},D={lastScrollTime:tt.now(),event:-1<J.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var t="onwheel",e=t in g;if(!e){var i=g.createElement("div");i.setAttribute(t,"return;"),e="function"==typeof i[t]}return!e&&g.implementation&&g.implementation.hasFeature&&!0!==g.implementation.hasFeature("","")&&(e=g.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel",normalize:function(t){var e=0,i=0,s=0,n=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),s=10*e,n=10*i,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(s=t.deltaX),(s||n)&&t.deltaMode&&(1===t.deltaMode?(s*=40,n*=40):(s*=800,n*=800)),s&&!e&&(e=s<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:e,spinY:i,pixelX:s,pixelY:n}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(t){var e=t,i=this,s=i.params.mousewheel;if(!i.mouseEntered&&!s.releaseOnEdges)return!0;e.originalEvent&&(e=e.originalEvent);var n=0,a=i.rtlTranslate?-1:1,r=D.normalize(e);if(s.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(r.pixelX)>Math.abs(r.pixelY)))return!0;n=r.pixelX*a}else{if(!(Math.abs(r.pixelY)>Math.abs(r.pixelX)))return!0;n=r.pixelY}else n=Math.abs(r.pixelX)>Math.abs(r.pixelY)?-r.pixelX*a:-r.pixelY;if(0===n)return!0;if(s.invert&&(n=-n),i.params.freeMode){i.params.loop&&i.loopFix();var o=i.getTranslate()+n*s.sensitivity,l=i.isBeginning,h=i.isEnd;if(o>=i.minTranslate()&&(o=i.minTranslate()),o<=i.maxTranslate()&&(o=i.maxTranslate()),i.setTransition(0),i.setTranslate(o),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!l&&i.isBeginning||!h&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky&&(clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=tt.nextTick(function(){i.slideToClosest()},300)),i.emit("scroll",e),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),o===i.minTranslate()||o===i.maxTranslate())return!0}else{if(60<tt.now()-i.mousewheel.lastScrollTime)if(n<0)if(i.isEnd&&!i.params.loop||i.animating){if(s.releaseOnEdges)return!0}else i.slideNext(),i.emit("scroll",e);else if(i.isBeginning&&!i.params.loop||i.animating){if(s.releaseOnEdges)return!0}else i.slidePrev(),i.emit("scroll",e);i.mousewheel.lastScrollTime=(new J.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},enable:function(){if(!D.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=j(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(D.event,this.mousewheel.handle),this.mousewheel.enabled=!0},disable:function(){if(!D.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=j(this.params.mousewheel.eventsTarged)),t.off(D.event,this.mousewheel.handle),!(this.mousewheel.enabled=!1)}},B={update:function(){var t=this.params.navigation;if(!this.params.loop){var e=this.navigation,i=e.$nextEl,s=e.$prevEl;s&&0<s.length&&(this.isBeginning?s.addClass(t.disabledClass):s.removeClass(t.disabledClass),s[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)),i&&0<i.length&&(this.isEnd?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(t){t.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(t){t.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var t,e,i=this,s=i.params.navigation;(s.nextEl||s.prevEl)&&(s.nextEl&&(t=j(s.nextEl),i.params.uniqueNavElements&&"string"==typeof s.nextEl&&1<t.length&&1===i.$el.find(s.nextEl).length&&(t=i.$el.find(s.nextEl))),s.prevEl&&(e=j(s.prevEl),i.params.uniqueNavElements&&"string"==typeof s.prevEl&&1<e.length&&1===i.$el.find(s.prevEl).length&&(e=i.$el.find(s.prevEl))),t&&0<t.length&&t.on("click",i.navigation.onNextClick),e&&0<e.length&&e.on("click",i.navigation.onPrevClick),tt.extend(i.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:e,prevEl:e&&e[0]}))},destroy:function(){var t=this.navigation,e=t.$nextEl,i=t.$prevEl;e&&e.length&&(e.off("click",this.navigation.onNextClick),e.removeClass(this.params.navigation.disabledClass)),i&&i.length&&(i.off("click",this.navigation.onPrevClick),i.removeClass(this.params.navigation.disabledClass))}},A={update:function(){var t=this,e=t.rtl,n=t.params.pagination;if(n.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var a,i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,s=t.pagination.$el,r=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((a=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>i-1-2*t.loopedSlides&&(a-=i-2*t.loopedSlides),r-1<a&&(a-=r),a<0&&"bullets"!==t.params.paginationType&&(a=r+a)):a=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&0<t.pagination.bullets.length){var o,l,h,d=t.pagination.bullets;if(n.dynamicBullets&&(t.pagination.bulletSize=d.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(t.isHorizontal()?"width":"height",t.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),1<n.dynamicMainBullets&&void 0!==t.previousIndex&&(t.pagination.dynamicBulletIndex+=a-t.previousIndex,t.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?t.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:t.pagination.dynamicBulletIndex<0&&(t.pagination.dynamicBulletIndex=0)),o=a-t.pagination.dynamicBulletIndex,h=((l=o+(Math.min(d.length,n.dynamicMainBullets)-1))+o)/2),d.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),1<s.length)d.each(function(t,e){var i=j(e),s=i.index();s===a&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(o<=s&&s<=l&&i.addClass(n.bulletActiveClass+"-main"),s===o&&i.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),s===l&&i.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))});else if(d.eq(a).addClass(n.bulletActiveClass),n.dynamicBullets){for(var c=d.eq(o),u=d.eq(l),p=o;p<=l;p+=1)d.eq(p).addClass(n.bulletActiveClass+"-main");c.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),u.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}if(n.dynamicBullets){var f=Math.min(d.length,n.dynamicMainBullets+4),g=(t.pagination.bulletSize*f-t.pagination.bulletSize)/2-h*t.pagination.bulletSize,m=e?"right":"left";d.css(t.isHorizontal()?m:"top",g+"px")}}if("fraction"===n.type&&(s.find("."+n.currentClass).text(n.formatFractionCurrent(a+1)),s.find("."+n.totalClass).text(n.formatFractionTotal(r))),"progressbar"===n.type){var v;v=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";var y=(a+1)/r,b=1,w=1;"horizontal"==v?b=y:w=y,s.find("."+n.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+b+") scaleY("+w+")").transition(t.params.speed)}"custom"===n.type&&n.renderCustom?(s.html(n.renderCustom(t,a+1,r)),t.emit("paginationRender",t,s[0])):t.emit("paginationUpdate",t,s[0]),s[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,s=t.pagination.$el,n="";if("bullets"===e.type){for(var a=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length,r=0;r<a;r+=1)e.renderBullet?n+=e.renderBullet.call(t,r,e.bulletClass):n+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";s.html(n),t.pagination.bullets=s.find("."+e.bulletClass)}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',s.html(n)),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',s.html(n)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])}},init:function(){var i=this,t=i.params.pagination;if(t.el){var e=j(t.el);0!==e.length&&(i.params.uniqueNavElements&&"string"==typeof t.el&&1<e.length&&1===i.$el.find(t.el).length&&(e=i.$el.find(t.el)),"bullets"===t.type&&t.clickable&&e.addClass(t.clickableClass),e.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(e.addClass(""+t.modifierClass+t.type+"-dynamic"),i.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&e.addClass(t.progressbarOppositeClass),t.clickable&&e.on("click","."+t.bulletClass,function(t){t.preventDefault();var e=j(this).index()*i.params.slidesPerGroup;i.params.loop&&(e+=i.loopedSlides),i.slideTo(e)}),tt.extend(i.pagination,{$el:e,el:e[0]}))}},destroy:function(){var t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var e=this.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),this.pagination.bullets&&this.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click","."+t.bulletClass)}}},O={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,e=this.rtlTranslate,i=this.progress,s=t.dragSize,n=t.trackSize,a=t.$dragEl,r=t.$el,o=this.params.scrollbar,l=s,h=(n-s)*i;e?0<(h=-h)?(l=s-h,h=0):n<-h+s&&(l=n+h):h<0?(l=s+h,h=0):n<h+s&&(l=n-h),this.isHorizontal()?(et.transforms3d?a.transform("translate3d("+h+"px, 0, 0)"):a.transform("translateX("+h+"px)"),a[0].style.width=l+"px"):(et.transforms3d?a.transform("translate3d(0px, "+h+"px, 0)"):a.transform("translateY("+h+"px)"),a[0].style.height=l+"px"),o.hide&&(clearTimeout(this.scrollbar.timeout),r[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){r[0].style.opacity=0,r.transition(400)},1e3))}},setTransition:function(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize:function(){var t=this;if(t.params.scrollbar.el&&t.scrollbar.el){var e=t.scrollbar,i=e.$dragEl,s=e.$el;i[0].style.width="",i[0].style.height="";var n,a=t.isHorizontal()?s[0].offsetWidth:s[0].offsetHeight,r=t.size/t.virtualSize,o=r*(a/t.size);n="auto"===t.params.scrollbar.dragSize?a*r:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i[0].style.width=n+"px":i[0].style.height=n+"px",s[0].style.display=1<=r?"none":"",t.params.scrollbar.hide&&(s[0].style.opacity=0),tt.extend(e,{trackSize:a,divider:r,moveDivider:o,dragSize:n}),e.$el[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}},setDragPosition:function(t){var e,i=this,s=i.scrollbar,n=i.rtlTranslate,a=s.$el,r=s.dragSize,o=s.trackSize;e=((i.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-a.offset()[i.isHorizontal()?"left":"top"]-r/2)/(o-r),e=Math.max(Math.min(e,1),0),n&&(e=1-e);var l=i.minTranslate()+(i.maxTranslate()-i.minTranslate())*e;i.updateProgress(l),i.setTranslate(l),i.updateActiveIndex(),i.updateSlidesClasses()},onDragStart:function(t){var e=this.params.scrollbar,i=this.scrollbar,s=this.$wrapperEl,n=i.$el,a=i.$dragEl;this.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),s.transition(100),a.transition(100),i.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),n.transition(0),e.hide&&n.css("opacity",1),this.emit("scrollbarDragStart",t)},onDragMove:function(t){var e=this.scrollbar,i=this.$wrapperEl,s=e.$el,n=e.$dragEl;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),i.transition(0),s.transition(0),n.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd:function(t){var e=this.params.scrollbar,i=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=tt.nextTick(function(){i.css("opacity",0),i.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){var t=this;if(t.params.scrollbar.el){var e=t.scrollbar,i=t.touchEventsTouch,s=t.touchEventsDesktop,n=t.params,a=e.$el[0],r=!(!et.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},o=!(!et.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};et.touch?(a.addEventListener(i.start,t.scrollbar.onDragStart,r),a.addEventListener(i.move,t.scrollbar.onDragMove,r),a.addEventListener(i.end,t.scrollbar.onDragEnd,o)):(a.addEventListener(s.start,t.scrollbar.onDragStart,r),g.addEventListener(s.move,t.scrollbar.onDragMove,r),g.addEventListener(s.end,t.scrollbar.onDragEnd,o))}},disableDraggable:function(){var t=this;if(t.params.scrollbar.el){var e=t.scrollbar,i=t.touchEventsTouch,s=t.touchEventsDesktop,n=t.params,a=e.$el[0],r=!(!et.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},o=!(!et.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};et.touch?(a.removeEventListener(i.start,t.scrollbar.onDragStart,r),a.removeEventListener(i.move,t.scrollbar.onDragMove,r),a.removeEventListener(i.end,t.scrollbar.onDragEnd,o)):(a.removeEventListener(s.start,t.scrollbar.onDragStart,r),g.removeEventListener(s.move,t.scrollbar.onDragMove,r),g.removeEventListener(s.end,t.scrollbar.onDragEnd,o))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,e=this.$el,i=this.params.scrollbar,s=j(i.el);this.params.uniqueNavElements&&"string"==typeof i.el&&1<s.length&&1===e.find(i.el).length&&(s=e.find(i.el));var n=s.find("."+this.params.scrollbar.dragClass);0===n.length&&(n=j('<div class="'+this.params.scrollbar.dragClass+'"></div>'),s.append(n)),tt.extend(t,{$el:s,el:s[0],$dragEl:n,dragEl:n[0]}),i.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},Q={setTransform:function(t,e){var i=this.rtl,s=j(t),n=i?-1:1,a=s.attr("data-swiper-parallax")||"0",r=s.attr("data-swiper-parallax-x"),o=s.attr("data-swiper-parallax-y"),l=s.attr("data-swiper-parallax-scale"),h=s.attr("data-swiper-parallax-opacity");if(r||o?(r=r||"0",o=o||"0"):this.isHorizontal()?(r=a,o="0"):(o=a,r="0"),r=0<=r.indexOf("%")?parseInt(r,10)*e*n+"%":r*e*n+"px",o=0<=o.indexOf("%")?parseInt(o,10)*e+"%":o*e+"px",null!=h){var d=h-(h-1)*(1-Math.abs(e));s[0].style.opacity=d}if(null==l)s.transform("translate3d("+r+", "+o+", 0px)");else{var c=l-(l-1)*(1-Math.abs(e));s.transform("translate3d("+r+", "+o+", 0px) scale("+c+")")}},setTranslate:function(){var s=this,t=s.$el,e=s.slides,n=s.progress,a=s.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){s.parallax.setTransform(e,n)}),e.each(function(t,e){var i=e.progress;1<s.params.slidesPerGroup&&"auto"!==s.params.slidesPerView&&(i+=Math.ceil(t/2)-n*(a.length-1)),i=Math.min(Math.max(i,-1),1),j(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){s.parallax.setTransform(e,i)})})},setTransition:function(n){void 0===n&&(n=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){var i=j(e),s=parseInt(i.attr("data-swiper-parallax-duration"),10)||n;0===n&&(s=0),i.transition(s)})}},H={getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,s=t.targetTouches[1].pageX,n=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(s-e,2)+Math.pow(n-i,2))},onGestureStart:function(t){var e=this.params.zoom,i=this.zoom,s=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!et.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;i.fakeGestureTouched=!0,s.scaleStart=H.getDistanceBetweenTouches(t)}s.$slideEl&&s.$slideEl.length||(s.$slideEl=j(t.target).closest(".swiper-slide"),0===s.$slideEl.length&&(s.$slideEl=this.slides.eq(this.activeIndex)),s.$imageEl=s.$slideEl.find("img, svg, canvas"),s.$imageWrapEl=s.$imageEl.parent("."+e.containerClass),s.maxRatio=s.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==s.$imageWrapEl.length)?(s.$imageEl.transition(0),this.zoom.isScaling=!0):s.$imageEl=void 0},onGestureChange:function(t){var e=this.params.zoom,i=this.zoom,s=i.gesture;if(!et.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;i.fakeGestureMoved=!0,s.scaleMove=H.getDistanceBetweenTouches(t)}s.$imageEl&&0!==s.$imageEl.length&&(i.scale=et.gestures?t.scale*i.currentScale:s.scaleMove/s.scaleStart*i.currentScale,i.scale>s.maxRatio&&(i.scale=s.maxRatio-1+Math.pow(i.scale-s.maxRatio+1,.5)),i.scale<e.minRatio&&(i.scale=e.minRatio+1-Math.pow(e.minRatio-i.scale+1,.5)),s.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")"))},onGestureEnd:function(t){var e=this.params.zoom,i=this.zoom,s=i.gesture;if(!et.gestures){if(!i.fakeGestureTouched||!i.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!m.android)return;i.fakeGestureTouched=!1,i.fakeGestureMoved=!1}s.$imageEl&&0!==s.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,s.maxRatio),e.minRatio),s.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+i.scale+")"),i.currentScale=i.scale,i.isScaling=!1,1===i.scale&&(s.$slideEl=void 0))},onTouchStart:function(t){var e=this.zoom,i=e.gesture,s=e.image;i.$imageEl&&0!==i.$imageEl.length&&(s.isTouched||(m.android&&t.preventDefault(),s.isTouched=!0,s.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(t){var e=this.zoom,i=e.gesture,s=e.image,n=e.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(this.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=tt.getTranslate(i.$imageWrapEl[0],"x")||0,s.startY=tt.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),this.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var a=s.width*e.scale,r=s.height*e.scale;if(!(a<i.slideWidth&&r<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-a/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-r/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,s.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!s.isMoved&&!e.isScaling){if(this.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}t.preventDefault(),t.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),n.prevPositionX||(n.prevPositionX=s.touchesCurrent.x),n.prevPositionY||(n.prevPositionY=s.touchesCurrent.y),n.prevTime||(n.prevTime=Date.now()),n.x=(s.touchesCurrent.x-n.prevPositionX)/(Date.now()-n.prevTime)/2,n.y=(s.touchesCurrent.y-n.prevPositionY)/(Date.now()-n.prevTime)/2,Math.abs(s.touchesCurrent.x-n.prevPositionX)<2&&(n.x=0),Math.abs(s.touchesCurrent.y-n.prevPositionY)<2&&(n.y=0),n.prevPositionX=s.touchesCurrent.x,n.prevPositionY=s.touchesCurrent.y,n.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,e=t.gesture,i=t.image,s=t.velocity;if(e.$imageEl&&0!==e.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var n=300,a=300,r=s.x*n,o=i.currentX+r,l=s.y*a,h=i.currentY+l;0!==s.x&&(n=Math.abs((o-i.currentX)/s.x)),0!==s.y&&(a=Math.abs((h-i.currentY)/s.y));var d=Math.max(n,a);i.currentX=o,i.currentY=h;var c=i.width*t.scale,u=i.height*t.scale;i.minX=Math.min(e.slideWidth/2-c/2,0),i.maxX=-i.minX,i.minY=Math.min(e.slideHeight/2-u/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),e.$imageWrapEl.transition(d).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var t=this.zoom,e=t.gesture;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0)},toggle:function(t){var e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in:function(t){var e,i,s,n,a,r,o,l,h,d,c,u,p,f,g,m,v=this.zoom,y=this.params.zoom,b=v.gesture,w=v.image;b.$slideEl||(b.$slideEl=this.clickedSlide?j(this.clickedSlide):this.slides.eq(this.activeIndex),b.$imageEl=b.$slideEl.find("img, svg, canvas"),b.$imageWrapEl=b.$imageEl.parent("."+y.containerClass)),b.$imageEl&&0!==b.$imageEl.length&&(b.$slideEl.addClass(""+y.zoomedSlideClass),i=void 0===w.touchesStart.x&&t?(e="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,"touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(e=w.touchesStart.x,w.touchesStart.y),v.scale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,v.currentScale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,t?(g=b.$slideEl[0].offsetWidth,m=b.$slideEl[0].offsetHeight,s=b.$slideEl.offset().left+g/2-e,n=b.$slideEl.offset().top+m/2-i,o=b.$imageEl[0].offsetWidth,l=b.$imageEl[0].offsetHeight,h=o*v.scale,d=l*v.scale,p=-(c=Math.min(g/2-h/2,0)),f=-(u=Math.min(m/2-d/2,0)),(a=s*v.scale)<c&&(a=c),p<a&&(a=p),(r=n*v.scale)<u&&(r=u),f<r&&(r=f)):r=a=0,b.$imageWrapEl.transition(300).transform("translate3d("+a+"px, "+r+"px,0)"),b.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+v.scale+")"))},out:function(){var t=this.zoom,e=this.params.zoom,i=t.gesture;i.$slideEl||(i.$slideEl=this.clickedSlide?j(this.clickedSlide):this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+e.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+e.zoomedSlideClass),i.$slideEl=void 0)},enable:function(){var t=this,e=t.zoom;if(!e.enabled){e.enabled=!0;var i=!("touchstart"!==t.touchEvents.start||!et.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};et.gestures?(t.$wrapperEl.on("gesturestart",".swiper-slide",e.onGestureStart,i),t.$wrapperEl.on("gesturechange",".swiper-slide",e.onGestureChange,i),t.$wrapperEl.on("gestureend",".swiper-slide",e.onGestureEnd,i)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,".swiper-slide",e.onGestureStart,i),t.$wrapperEl.on(t.touchEvents.move,".swiper-slide",e.onGestureChange,i),t.$wrapperEl.on(t.touchEvents.end,".swiper-slide",e.onGestureEnd,i)),t.$wrapperEl.on(t.touchEvents.move,"."+t.params.zoom.containerClass,e.onTouchMove)}},disable:function(){var t=this,e=t.zoom;if(e.enabled){t.zoom.enabled=!1;var i=!("touchstart"!==t.touchEvents.start||!et.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};et.gestures?(t.$wrapperEl.off("gesturestart",".swiper-slide",e.onGestureStart,i),t.$wrapperEl.off("gesturechange",".swiper-slide",e.onGestureChange,i),t.$wrapperEl.off("gestureend",".swiper-slide",e.onGestureEnd,i)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,".swiper-slide",e.onGestureStart,i),t.$wrapperEl.off(t.touchEvents.move,".swiper-slide",e.onGestureChange,i),t.$wrapperEl.off(t.touchEvents.end,".swiper-slide",e.onGestureEnd,i)),t.$wrapperEl.off(t.touchEvents.move,"."+t.params.zoom.containerClass,e.onTouchMove)}}},R={loadInSlide:function(t,l){void 0===l&&(l=!0);var h=this,d=h.params.lazy;if(void 0!==t&&0!==h.slides.length){var c=h.virtual&&h.params.virtual.enabled?h.$wrapperEl.children("."+h.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):h.slides.eq(t),e=c.find("."+d.elementClass+":not(."+d.loadedClass+"):not(."+d.loadingClass+")");!c.hasClass(d.elementClass)||c.hasClass(d.loadedClass)||c.hasClass(d.loadingClass)||(e=e.add(c[0])),0!==e.length&&e.each(function(t,e){var s=j(e);s.addClass(d.loadingClass);var n=s.attr("data-background"),a=s.attr("data-src"),r=s.attr("data-srcset"),o=s.attr("data-sizes");h.loadImage(s[0],a||n,r,o,!1,function(){if(null!=h&&h&&(!h||h.params)&&!h.destroyed){if(n?(s.css("background-image",'url("'+n+'")'),s.removeAttr("data-background")):(r&&(s.attr("srcset",r),s.removeAttr("data-srcset")),o&&(s.attr("sizes",o),s.removeAttr("data-sizes")),a&&(s.attr("src",a),s.removeAttr("data-src"))),s.addClass(d.loadedClass).removeClass(d.loadingClass),c.find("."+d.preloaderClass).remove(),h.params.loop&&l){var t=c.attr("data-swiper-slide-index");if(c.hasClass(h.params.slideDuplicateClass)){var e=h.$wrapperEl.children('[data-swiper-slide-index="'+t+'"]:not(.'+h.params.slideDuplicateClass+")");h.lazy.loadInSlide(e.index(),!1)}else{var i=h.$wrapperEl.children("."+h.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');h.lazy.loadInSlide(i.index(),!1)}}h.emit("lazyImageReady",c[0],s[0])}}),h.emit("lazyImageLoad",c[0],s[0])})}},load:function(){var s=this,e=s.$wrapperEl,i=s.params,n=s.slides,t=s.activeIndex,a=s.virtual&&i.virtual.enabled,r=i.lazy,o=i.slidesPerView;function l(t){if(a){if(e.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]').length)return!0}else if(n[t])return!0;return!1}function h(t){return a?j(t).attr("data-swiper-slide-index"):j(t).index()}if("auto"===o&&(o=0),s.lazy.initialImageLoaded||(s.lazy.initialImageLoaded=!0),s.params.watchSlidesVisibility)e.children("."+i.slideVisibleClass).each(function(t,e){var i=a?j(e).attr("data-swiper-slide-index"):j(e).index();s.lazy.loadInSlide(i)});else if(1<o)for(var d=t;d<t+o;d+=1)l(d)&&s.lazy.loadInSlide(d);else s.lazy.loadInSlide(t);if(r.loadPrevNext)if(1<o||r.loadPrevNextAmount&&1<r.loadPrevNextAmount){for(var c=r.loadPrevNextAmount,u=o,p=Math.min(t+u+Math.max(c,u),n.length),f=Math.max(t-Math.max(u,c),0),g=t+o;g<p;g+=1)l(g)&&s.lazy.loadInSlide(g);for(var m=f;m<t;m+=1)l(m)&&s.lazy.loadInSlide(m)}else{var v=e.children("."+i.slideNextClass);0<v.length&&s.lazy.loadInSlide(h(v));var y=e.children("."+i.slidePrevClass);0<y.length&&s.lazy.loadInSlide(h(y))}}},N={LinearSpline:function(t,e){var i,s,n,a,r;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(r=function(t,e){for(s=-1,i=t.length;1<i-s;)t[n=i+s>>1]<=e?s=n:i=n;return i}(this.x,t),a=r-1,(t-this.x[a])*(this.y[r]-this.y[a])/(this.x[r]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new N.LinearSpline(this.slidesGrid,t.slidesGrid):new N.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var i,s,n=this,a=n.controller.control;function r(t){var e=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(t),s=-n.controller.spline.interpolate(-e)),s&&"container"!==n.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(n.maxTranslate()-n.minTranslate()),s=(e-n.minTranslate())*i+t.minTranslate()),n.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,n),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(a))for(var o=0;o<a.length;o+=1)a[o]!==e&&a[o]instanceof x&&r(a[o]);else a instanceof x&&e!==a&&r(a)},setTransition:function(e,t){var i,s=this,n=s.controller.control;function a(t){t.setTransition(e,s),0!==e&&(t.transitionStart(),t.params.autoHeight&&tt.nextTick(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){n&&(t.params.loop&&"slide"===s.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(n))for(i=0;i<n.length;i+=1)n[i]!==t&&n[i]instanceof x&&a(n[i]);else n instanceof x&&t!==n&&a(n)}},W={makeElFocusable:function(t){return t.attr("tabIndex","0"),t},addElRole:function(t,e){return t.attr("role",e),t},addElLabel:function(t,e){return t.attr("aria-label",e),t},disableEl:function(t){return t.attr("aria-disabled",!0),t},enableEl:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){var e=this,i=e.params.a11y;if(13===t.keyCode){var s=j(t.target);e.navigation&&e.navigation.$nextEl&&s.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?e.a11y.notify(i.lastSlideMessage):e.a11y.notify(i.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&s.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?e.a11y.notify(i.firstSlideMessage):e.a11y.notify(i.prevSlideMessage)),e.pagination&&s.is("."+e.params.pagination.bulletClass)&&s[0].click()}},notify:function(t){var e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation:function(){if(!this.params.loop){var t=this.navigation,e=t.$nextEl,i=t.$prevEl;i&&0<i.length&&(this.isBeginning?this.a11y.disableEl(i):this.a11y.enableEl(i)),e&&0<e.length&&(this.isEnd?this.a11y.disableEl(e):this.a11y.enableEl(e))}},updatePagination:function(){var s=this,n=s.params.a11y;s.pagination&&s.params.pagination.clickable&&s.pagination.bullets&&s.pagination.bullets.length&&s.pagination.bullets.each(function(t,e){var i=j(e);s.a11y.makeElFocusable(i),s.a11y.addElRole(i,"button"),s.a11y.addElLabel(i,n.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},init:function(){var t=this;t.$el.append(t.a11y.liveRegion);var e,i,s=t.params.a11y;t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(i=t.navigation.$prevEl),e&&(t.a11y.makeElFocusable(e),t.a11y.addElRole(e,"button"),t.a11y.addElLabel(e,s.nextSlideMessage),e.on("keydown",t.a11y.onEnterKey)),i&&(t.a11y.makeElFocusable(i),t.a11y.addElRole(i,"button"),t.a11y.addElLabel(i,s.prevSlideMessage),i.on("keydown",t.a11y.onEnterKey)),t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.$el.on("keydown","."+t.params.pagination.bulletClass,t.a11y.onEnterKey)},destroy:function(){var t,e,i=this;i.a11y.liveRegion&&0<i.a11y.liveRegion.length&&i.a11y.liveRegion.remove(),i.navigation&&i.navigation.$nextEl&&(t=i.navigation.$nextEl),i.navigation&&i.navigation.$prevEl&&(e=i.navigation.$prevEl),t&&t.off("keydown",i.a11y.onEnterKey),e&&e.off("keydown",i.a11y.onEnterKey),i.pagination&&i.params.pagination.clickable&&i.pagination.bullets&&i.pagination.bullets.length&&i.pagination.$el.off("keydown","."+i.params.pagination.bulletClass,i.a11y.onEnterKey)}},$={init:function(){if(this.params.history){if(!J.history||!J.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var t=this.history;t.initialized=!0,t.paths=$.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||J.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||J.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=$.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var t=J.location.pathname.slice(1).split("/").filter(function(t){return""!==t}),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory:function(t,e){if(this.history.initialized&&this.params.history.enabled){var i=this.slides.eq(e),s=$.slugify(i.attr("data-history"));J.location.pathname.includes(t)||(s=t+"/"+s);var n=J.history.state;n&&n.value===s||(this.params.history.replaceState?J.history.replaceState({value:s},null,s):J.history.pushState({value:s},null,s))}},slugify:function(t){return t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,i){if(e)for(var s=0,n=this.slides.length;s<n;s+=1){var a=this.slides.eq(s);if($.slugify(a.attr("data-history"))===e&&!a.hasClass(this.params.slideDuplicateClass)){var r=a.index();this.slideTo(r,t,i)}}else this.slideTo(0,t,i)}},V={onHashCange:function(){var t=g.location.hash.replace("#","");if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){var e=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===e)return;this.slideTo(e)}},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&J.history&&J.history.replaceState)J.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var t=this.slides.eq(this.activeIndex),e=t.attr("data-hash")||t.attr("data-history");g.location.hash=e||""}},init:function(){var t=this;if(!(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)){t.hashNavigation.initialized=!0;var e=g.location.hash.replace("#","");if(e)for(var i=0,s=t.slides.length;i<s;i+=1){var n=t.slides.eq(i);if((n.attr("data-hash")||n.attr("data-history"))===e&&!n.hasClass(t.params.slideDuplicateClass)){var a=n.index();t.slideTo(a,0,t.params.runCallbacksOnInit,!0)}}t.params.hashNavigation.watchState&&j(J).on("hashchange",t.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&j(J).off("hashchange",this.hashNavigation.onHashCange)}},X={run:function(){var t=this,e=t.slides.eq(t.activeIndex),i=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(i=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=tt.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},i)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(t){var e=this;e.autoplay.running&&(e.autoplay.paused||(e.autoplay.timeout&&clearTimeout(e.autoplay.timeout),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?(e.$wrapperEl[0].addEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].addEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd)):(e.autoplay.paused=!1,e.autoplay.run())))}},Y={setTranslate:function(){for(var t=this.slides,e=0;e<t.length;e+=1){var i=this.slides.eq(e),s=-i[0].swiperSlideOffset;this.params.virtualTranslate||(s-=this.translate);var n=0;this.isHorizontal()||(n=s,s=0);var a=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:a}).transform("translate3d("+s+"px, "+n+"px, 0px)")}},setTransition:function(t){var i=this,e=i.slides,s=i.$wrapperEl;if(e.transition(t),i.params.virtualTranslate&&0!==t){var n=!1;e.transitionEnd(function(){if(!n&&i&&!i.destroyed){n=!0,i.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],e=0;e<t.length;e+=1)s.trigger(t[e])}})}}},F={setTranslate:function(){var t,e=this,i=e.$el,s=e.$wrapperEl,n=e.slides,a=e.width,r=e.height,o=e.rtlTranslate,l=e.size,h=e.params.cubeEffect,d=e.isHorizontal(),c=e.virtual&&e.params.virtual.enabled,u=0;h.shadow&&(d?(0===(t=s.find(".swiper-cube-shadow")).length&&(t=j('<div class="swiper-cube-shadow"></div>'),s.append(t)),t.css({height:a+"px"})):0===(t=i.find(".swiper-cube-shadow")).length&&(t=j('<div class="swiper-cube-shadow"></div>'),i.append(t)));for(var p=0;p<n.length;p+=1){var f=n.eq(p),g=p;c&&(g=parseInt(f.attr("data-swiper-slide-index"),10));var m=90*g,v=Math.floor(m/360);o&&(m=-m,v=Math.floor(-m/360));var y=Math.max(Math.min(f[0].progress,1),-1),b=0,w=0,x=0;g%4==0?(b=4*-v*l,x=0):(g-1)%4==0?(b=0,x=4*-v*l):(g-2)%4==0?(b=l+4*v*l,x=l):(g-3)%4==0&&(b=-l,x=3*l+4*l*v),o&&(b=-b),d||(w=b,b=0);var k="rotateX("+(d?0:-m)+"deg) rotateY("+(d?m:0)+"deg) translate3d("+b+"px, "+w+"px, "+x+"px)";if(y<=1&&-1<y&&(u=90*g+90*y,o&&(u=90*-g-90*y)),f.transform(k),h.slideShadows){var C=d?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),E=d?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===C.length&&(C=j('<div class="swiper-slide-shadow-'+(d?"left":"top")+'"></div>'),f.append(C)),0===E.length&&(E=j('<div class="swiper-slide-shadow-'+(d?"right":"bottom")+'"></div>'),f.append(E)),C.length&&(C[0].style.opacity=Math.max(-y,0)),E.length&&(E[0].style.opacity=Math.max(y,0))}}if(s.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),h.shadow)if(d)t.transform("translate3d(0px, "+(a/2+h.shadowOffset)+"px, "+-a/2+"px) rotateX(90deg) rotateZ(0deg) scale("+h.shadowScale+")");else{var _=Math.abs(u)-90*Math.floor(Math.abs(u)/90),P=1.5-(Math.sin(2*_*Math.PI/360)/2+Math.cos(2*_*Math.PI/360)/2),T=h.shadowScale,S=h.shadowScale/P,M=h.shadowOffset;t.transform("scale3d("+T+", 1, "+S+") translate3d(0px, "+(r/2+M)+"px, "+-r/2/S+"px) rotateX(-90deg)")}var z=I.isSafari||I.isUiWebView?-l/2:0;s.transform("translate3d(0px,0,"+z+"px) rotateX("+(e.isHorizontal()?0:u)+"deg) rotateY("+(e.isHorizontal()?-u:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},G={setTranslate:function(){for(var t=this.slides,e=this.rtlTranslate,i=0;i<t.length;i+=1){var s=t.eq(i),n=s[0].progress;this.params.flipEffect.limitRotation&&(n=Math.max(Math.min(s[0].progress,1),-1));var a=-180*n,r=0,o=-s[0].swiperSlideOffset,l=0;if(this.isHorizontal()?e&&(a=-a):(l=o,r=-a,a=o=0),s[0].style.zIndex=-Math.abs(Math.round(n))+t.length,this.params.flipEffect.slideShadows){var h=this.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),d=this.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===h.length&&(h=j('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),s.append(h)),0===d.length&&(d=j('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),s.append(d)),h.length&&(h[0].style.opacity=Math.max(-n,0)),d.length&&(d[0].style.opacity=Math.max(n,0))}s.transform("translate3d("+o+"px, "+l+"px, 0px) rotateX("+r+"deg) rotateY("+a+"deg)")}},setTransition:function(t){var i=this,e=i.slides,s=i.activeIndex,n=i.$wrapperEl;if(e.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),i.params.virtualTranslate&&0!==t){var a=!1;e.eq(s).transitionEnd(function(){if(!a&&i&&!i.destroyed){a=!0,i.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],e=0;e<t.length;e+=1)n.trigger(t[e])}})}}},q={setTranslate:function(){for(var t=this.width,e=this.height,i=this.slides,s=this.$wrapperEl,n=this.slidesSizesGrid,a=this.params.coverflowEffect,r=this.isHorizontal(),o=this.translate,l=r?t/2-o:e/2-o,h=r?a.rotate:-a.rotate,d=a.depth,c=0,u=i.length;c<u;c+=1){var p=i.eq(c),f=n[c],g=(l-p[0].swiperSlideOffset-f/2)/f*a.modifier,m=r?h*g:0,v=r?0:h*g,y=-d*Math.abs(g),b=r?0:a.stretch*g,w=r?a.stretch*g:0;Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0);var x="translate3d("+w+"px,"+b+"px,"+y+"px)  rotateX("+v+"deg) rotateY("+m+"deg)";if(p.transform(x),p[0].style.zIndex=1-Math.abs(Math.round(g)),a.slideShadows){var k=r?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),C=r?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===k.length&&(k=j('<div class="swiper-slide-shadow-'+(r?"left":"top")+'"></div>'),p.append(k)),0===C.length&&(C=j('<div class="swiper-slide-shadow-'+(r?"right":"bottom")+'"></div>'),p.append(C)),k.length&&(k[0].style.opacity=0<g?g:0),C.length&&(C[0].style.opacity=0<-g?-g:0)}}(et.pointerEvents||et.prefixedPointerEvents)&&(s[0].style.perspectiveOrigin=l+"px 50%")},setTransition:function(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},U={init:function(){var t=this,e=t.params.thumbs,i=t.constructor;e.swiper instanceof i?(t.thumbs.swiper=e.swiper,tt.extend(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),tt.extend(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):tt.isObject(e.swiper)&&(t.thumbs.swiper=new i(tt.extend({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),t.thumbs.swiperCreated=!0),t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",t.thumbs.onThumbClick)},onThumbClick:function(){var t=this,e=t.thumbs.swiper;if(e){var i=e.clickedIndex,s=e.clickedSlide;if(!(s&&j(s).hasClass(t.params.thumbs.slideThumbActiveClass)||null==i)){var n;if(n=e.params.loop?parseInt(j(e.clickedSlide).attr("data-swiper-slide-index"),10):i,t.params.loop){var a=t.activeIndex;t.slides.eq(a).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,a=t.activeIndex);var r=t.slides.eq(a).prevAll('[data-swiper-slide-index="'+n+'"]').eq(0).index(),o=t.slides.eq(a).nextAll('[data-swiper-slide-index="'+n+'"]').eq(0).index();n=void 0===r?o:void 0===o?r:o-a<a-r?o:r}t.slideTo(n)}}},update:function(t){var e=this,i=e.thumbs.swiper;if(i){var s="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;if(e.realIndex!==i.realIndex){var n,a=i.activeIndex;if(i.params.loop){i.slides.eq(a).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,a=i.activeIndex);var r=i.slides.eq(a).prevAll('[data-swiper-slide-index="'+e.realIndex+'"]').eq(0).index(),o=i.slides.eq(a).nextAll('[data-swiper-slide-index="'+e.realIndex+'"]').eq(0).index();n=void 0===r?o:void 0===o?r:o-a==a-r?a:o-a<a-r?o:r}else n=e.realIndex;i.visibleSlidesIndexes.indexOf(n)<0&&(i.params.centeredSlides?n=a<n?n-Math.floor(s/2)+1:n+Math.floor(s/2)-1:a<n&&(n=n-s+1),i.slideTo(n,t?0:void 0))}var l=1,h=e.params.thumbs.slideThumbActiveClass;if(1<e.params.slidesPerView&&!e.params.centeredSlides&&(l=e.params.slidesPerView),i.slides.removeClass(h),i.params.loop)for(var d=0;d<l;d+=1)i.$wrapperEl.children('[data-swiper-slide-index="'+(e.realIndex+d)+'"]').addClass(h);else for(var c=0;c<l;c+=1)i.slides.eq(e.realIndex+c).addClass(h)}}},K=[k,C,E,_,T,M,L,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){tt.extend(this,{mousewheel:{enabled:!1,enable:D.enable.bind(this),disable:D.disable.bind(this),handle:D.handle.bind(this),handleMouseEnter:D.handleMouseEnter.bind(this),handleMouseLeave:D.handleMouseLeave.bind(this),lastScrollTime:tt.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){tt.extend(this,{navigation:{init:B.init.bind(this),update:B.update.bind(this),destroy:B.destroy.bind(this),onNextClick:B.onNextClick.bind(this),onPrevClick:B.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var e,i=this,s=i.navigation,n=s.$nextEl,a=s.$prevEl;!i.params.navigation.hideOnClick||j(t.target).is(a)||j(t.target).is(n)||(n?e=n.hasClass(i.params.navigation.hiddenClass):a&&(e=a.hasClass(i.params.navigation.hiddenClass)),!0===e?i.emit("navigationShow",i):i.emit("navigationHide",i),n&&n.toggleClass(i.params.navigation.hiddenClass),a&&a.toggleClass(i.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(t){return t},formatFractionTotal:function(t){return t},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){tt.extend(this,{pagination:{init:A.init.bind(this),render:A.render.bind(this),update:A.update.bind(this),destroy:A.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){var e=this;e.params.pagination.el&&e.params.pagination.hideOnClick&&0<e.pagination.$el.length&&!j(t.target).hasClass(e.params.pagination.bulletClass)&&(!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow",e):e.emit("paginationHide",e),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var t=this;tt.extend(t,{scrollbar:{init:O.init.bind(t),destroy:O.destroy.bind(t),updateSize:O.updateSize.bind(t),setTranslate:O.setTranslate.bind(t),setTransition:O.setTransition.bind(t),enableDraggable:O.enableDraggable.bind(t),disableDraggable:O.disableDraggable.bind(t),setDragPosition:O.setDragPosition.bind(t),onDragStart:O.onDragStart.bind(t),onDragMove:O.onDragMove.bind(t),onDragEnd:O.onDragEnd.bind(t),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(t){this.scrollbar.setTransition(t)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){tt.extend(this,{parallax:{setTransform:Q.setTransform.bind(this),setTranslate:Q.setTranslate.bind(this),setTransition:Q.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(t){this.params.parallax.enabled&&this.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var s=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(t){e[t]=H[t].bind(s)}),tt.extend(s,{zoom:e});var n=1;Object.defineProperty(s.zoom,"scale",{get:function(){return n},set:function(t){if(n!==t){var e=s.zoom.gesture.$imageEl?s.zoom.gesture.$imageEl[0]:void 0,i=s.zoom.gesture.$slideEl?s.zoom.gesture.$slideEl[0]:void 0;s.emit("zoomChange",t,e,i)}n=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd:function(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap:function(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){tt.extend(this,{lazy:{initialImageLoaded:!1,load:R.load.bind(this),loadInSlide:R.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){tt.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:N.getInterpolateFunction.bind(this),setTranslate:N.setTranslate.bind(this),setTransition:N.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition:function(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;tt.extend(e,{a11y:{liveRegion:j('<span class="'+e.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(W).forEach(function(t){e.a11y[t]=W[t].bind(e)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){tt.extend(this,{history:{init:$.init.bind(this),setHistory:$.setHistory.bind(this),setHistoryPopState:$.setHistoryPopState.bind(this),scrollToSlide:$.scrollToSlide.bind(this),destroy:$.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){tt.extend(this,{hashNavigation:{initialized:!1,init:V.init.bind(this),destroy:V.destroy.bind(this),setHash:V.setHash.bind(this),onHashCange:V.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;tt.extend(e,{autoplay:{running:!1,paused:!1,run:X.run.bind(e),start:X.start.bind(e),stop:X.stop.bind(e),pause:X.pause.bind(e),onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){tt.extend(this,{fadeEffect:{setTranslate:Y.setTranslate.bind(this),setTransition:Y.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){tt.extend(this,{cubeEffect:{setTranslate:F.setTranslate.bind(this),setTransition:F.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){tt.extend(this,{flipEffect:{setTranslate:G.setTranslate.bind(this),setTransition:G.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){tt.extend(this,{coverflowEffect:{setTranslate:q.setTranslate.bind(this),setTransition:q.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){tt.extend(this,{thumbs:{swiper:null,init:U.init.bind(this),update:U.update.bind(this),onThumbClick:U.onThumbClick.bind(this)}})},on:{beforeInit:function(){var t=this.params.thumbs;t&&t.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(t){var e=this.thumbs.swiper;e&&e.setTransition(t)},beforeDestroy:function(){var t=this.thumbs.swiper;t&&this.thumbs.swiperCreated&&t&&t.destroy()}}}];return void 0===x.use&&(x.use=x.Class.use,x.installModule=x.Class.installModule),x.use(K),x}),function(t){"use strict";function c(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function o(t,e,i,s,n,a){return c((r=c(c(e,t),c(s,a)))<<n|r>>>32-n,i);var r}function u(t,e,i,s,n,a,r){return o(e&i|~e&s,t,e,n,a,r)}function p(t,e,i,s,n,a,r){return o(e&s|i&~s,t,e,n,a,r)}function f(t,e,i,s,n,a,r){return o(e^i^s,t,e,n,a,r)}function g(t,e,i,s,n,a,r){return o(i^(e|~s),t,e,n,a,r)}function l(t,e){var i,s,n,a,r;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var o=1732584193,l=-271733879,h=-1732584194,d=271733878;for(i=0;i<t.length;i+=16)l=g(l=g(l=g(l=g(l=f(l=f(l=f(l=f(l=p(l=p(l=p(l=p(l=u(l=u(l=u(l=u(n=l,h=u(a=h,d=u(r=d,o=u(s=o,l,h,d,t[i],7,-680876936),l,h,t[i+1],12,-389564586),o,l,t[i+2],17,606105819),d,o,t[i+3],22,-1044525330),h=u(h,d=u(d,o=u(o,l,h,d,t[i+4],7,-176418897),l,h,t[i+5],12,1200080426),o,l,t[i+6],17,-1473231341),d,o,t[i+7],22,-45705983),h=u(h,d=u(d,o=u(o,l,h,d,t[i+8],7,1770035416),l,h,t[i+9],12,-1958414417),o,l,t[i+10],17,-42063),d,o,t[i+11],22,-1990404162),h=u(h,d=u(d,o=u(o,l,h,d,t[i+12],7,1804603682),l,h,t[i+13],12,-40341101),o,l,t[i+14],17,-1502002290),d,o,t[i+15],22,1236535329),h=p(h,d=p(d,o=p(o,l,h,d,t[i+1],5,-165796510),l,h,t[i+6],9,-1069501632),o,l,t[i+11],14,643717713),d,o,t[i],20,-373897302),h=p(h,d=p(d,o=p(o,l,h,d,t[i+5],5,-701558691),l,h,t[i+10],9,38016083),o,l,t[i+15],14,-660478335),d,o,t[i+4],20,-405537848),h=p(h,d=p(d,o=p(o,l,h,d,t[i+9],5,568446438),l,h,t[i+14],9,-1019803690),o,l,t[i+3],14,-187363961),d,o,t[i+8],20,1163531501),h=p(h,d=p(d,o=p(o,l,h,d,t[i+13],5,-1444681467),l,h,t[i+2],9,-51403784),o,l,t[i+7],14,1735328473),d,o,t[i+12],20,-1926607734),h=f(h,d=f(d,o=f(o,l,h,d,t[i+5],4,-378558),l,h,t[i+8],11,-2022574463),o,l,t[i+11],16,1839030562),d,o,t[i+14],23,-35309556),h=f(h,d=f(d,o=f(o,l,h,d,t[i+1],4,-1530992060),l,h,t[i+4],11,1272893353),o,l,t[i+7],16,-155497632),d,o,t[i+10],23,-1094730640),h=f(h,d=f(d,o=f(o,l,h,d,t[i+13],4,681279174),l,h,t[i],11,-358537222),o,l,t[i+3],16,-722521979),d,o,t[i+6],23,76029189),h=f(h,d=f(d,o=f(o,l,h,d,t[i+9],4,-640364487),l,h,t[i+12],11,-421815835),o,l,t[i+15],16,530742520),d,o,t[i+2],23,-995338651),h=g(h,d=g(d,o=g(o,l,h,d,t[i],6,-198630844),l,h,t[i+7],10,1126891415),o,l,t[i+14],15,-1416354905),d,o,t[i+5],21,-57434055),h=g(h,d=g(d,o=g(o,l,h,d,t[i+12],6,1700485571),l,h,t[i+3],10,-1894986606),o,l,t[i+10],15,-1051523),d,o,t[i+1],21,-2054922799),h=g(h,d=g(d,o=g(o,l,h,d,t[i+8],6,1873313359),l,h,t[i+15],10,-30611744),o,l,t[i+6],15,-1560198380),d,o,t[i+13],21,1309151649),h=g(h,d=g(d,o=g(o,l,h,d,t[i+4],6,-145523070),l,h,t[i+11],10,-1120210379),o,l,t[i+2],15,718787259),d,o,t[i+9],21,-343485551),o=c(o,s),l=c(l,n),h=c(h,a),d=c(d,r);return[o,l,h,d]}function h(t){var e,i="",s=32*t.length;for(e=0;e<s;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function d(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var s=8*t.length;for(e=0;e<s;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function s(t){var e,i,s="0123456789abcdef",n="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),n+=s.charAt(e>>>4&15)+s.charAt(15&e);return n}function i(t){return unescape(encodeURIComponent(t))}function n(t){return h(l(d(e=i(t)),8*e.length));var e}function a(t,e){return function(t,e){var i,s,n=d(t),a=[],r=[];for(a[15]=r[15]=void 0,16<n.length&&(n=l(n,8*t.length)),i=0;i<16;i+=1)a[i]=909522486^n[i],r[i]=1549556828^n[i];return s=l(a.concat(d(e)),512+8*e.length),h(l(r.concat(s),640))}(i(t),i(e))}function e(t,e,i){return e?i?a(e,t):s(a(e,t)):i?n(t):s(n(t))}"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:t.md5=e}(this);